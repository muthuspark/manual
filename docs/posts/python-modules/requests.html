<!DOCTYPE html>
<html xmlns="http://www.w3.org/1999/xhtml" lang="en" xml:lang="en"><head>

<meta charset="utf-8">
<meta name="generator" content="quarto-1.6.39">

<meta name="viewport" content="width=device-width, initial-scale=1.0, user-scalable=yes">

<meta name="author" content="Muthukrishnan">

<title>requests - Documentation – Technical Manuals</title>
<style>
html {
  color: #1a1a1a;
  background-color: #fdfdfd;
}
body {
  margin: 0 auto;
  max-width: 36em;
  padding-left: 50px;
  padding-right: 50px;
  padding-top: 50px;
  padding-bottom: 50px;
  hyphens: auto;
  overflow-wrap: break-word;
  text-rendering: optimizeLegibility;
  font-kerning: normal;
}
@media (max-width: 600px) {
  body {
    font-size: 0.9em;
    padding: 12px;
  }
  h1 {
    font-size: 1.8em;
  }
}
@media print {
  html {
    background-color: white;
  }
  body {
    background-color: transparent;
    color: black;
    font-size: 12pt;
  }
  p, h2, h3 {
    orphans: 3;
    widows: 3;
  }
  h2, h3, h4 {
    page-break-after: avoid;
  }
}
p {
  margin: 1em 0;
}
a {
  color: #1a1a1a;
}
a:visited {
  color: #1a1a1a;
}
img {
  max-width: 100%;
}
svg {
  height; auto;
  max-width: 100%;
}
h1, h2, h3, h4, h5, h6 {
  margin-top: 1.4em;
}
h5, h6 {
  font-size: 1em;
  font-style: italic;
}
h6 {
  font-weight: normal;
}
ol, ul {
  padding-left: 1.7em;
  margin-top: 1em;
}
li > ol, li > ul {
  margin-top: 0;
}
ul > li:not(:has(> p)) > ul,
ol > li:not(:has(> p)) > ul,
ul > li:not(:has(> p)) > ol,
ol > li:not(:has(> p)) > ol {
  margin-bottom: 0;
}
ul > li:not(:has(> p)) > ul > li:has(> p),
ol > li:not(:has(> p)) > ul > li:has(> p),
ul > li:not(:has(> p)) > ol > li:has(> p),
ol > li:not(:has(> p)) > ol > li:has(> p) {
  margin-top: 1rem;
}
blockquote {
  margin: 1em 0 1em 1.7em;
  padding-left: 1em;
  border-left: 2px solid #e6e6e6;
  color: #606060;
}
code {
  font-family: Menlo, Monaco, Consolas, 'Lucida Console', monospace;
  font-size: 85%;
  margin: 0;
  hyphens: manual;
}
pre {
  margin: 1em 0;
  overflow: auto;
}
pre code {
  padding: 0;
  overflow: visible;
  overflow-wrap: normal;
}
.sourceCode {
 background-color: transparent;
 overflow: visible;
}
hr {
  background-color: #1a1a1a;
  border: none;
  height: 1px;
  margin: 1em 0;
}
table {
  margin: 1em 0;
  border-collapse: collapse;
  width: 100%;
  overflow-x: auto;
  display: block;
  font-variant-numeric: lining-nums tabular-nums;
}
table caption {
  margin-bottom: 0.75em;
}
tbody {
  margin-top: 0.5em;
  border-top: 1px solid #1a1a1a;
  border-bottom: 1px solid #1a1a1a;
}
th {
  border-top: 1px solid #1a1a1a;
  padding: 0.25em 0.5em 0.25em 0.5em;
}
td {
  padding: 0.125em 0.5em 0.25em 0.5em;
}
header {
  margin-bottom: 4em;
  text-align: center;
}
#TOC li {
  list-style: none;
}
#TOC ul {
  padding-left: 1.3em;
}
#TOC > ul {
  padding-left: 0;
}
#TOC a:not(:hover) {
  text-decoration: none;
}
code{white-space: pre-wrap;}
span.smallcaps{font-variant: small-caps;}
div.columns{display: flex; gap: min(4vw, 1.5em);}
div.column{flex: auto; overflow-x: auto;}
div.hanging-indent{margin-left: 1.5em; text-indent: -1.5em;}
ul.task-list{list-style: none;}
ul.task-list li input[type="checkbox"] {
  width: 0.8em;
  margin: 0 0.8em 0.2em -1em; /* quarto-specific, see https://github.com/quarto-dev/quarto-cli/issues/4556 */ 
  vertical-align: middle;
}
/* CSS for syntax highlighting */
pre > code.sourceCode { white-space: pre; position: relative; }
pre > code.sourceCode > span { line-height: 1.25; }
pre > code.sourceCode > span:empty { height: 1.2em; }
.sourceCode { overflow: visible; }
code.sourceCode > span { color: inherit; text-decoration: inherit; }
div.sourceCode { margin: 1em 0; }
pre.sourceCode { margin: 0; }
@media screen {
div.sourceCode { overflow: auto; }
}
@media print {
pre > code.sourceCode { white-space: pre-wrap; }
pre > code.sourceCode > span { display: inline-block; text-indent: -5em; padding-left: 5em; }
}
pre.numberSource code
  { counter-reset: source-line 0; }
pre.numberSource code > span
  { position: relative; left: -4em; counter-increment: source-line; }
pre.numberSource code > span > a:first-child::before
  { content: counter(source-line);
    position: relative; left: -1em; text-align: right; vertical-align: baseline;
    border: none; display: inline-block;
    -webkit-touch-callout: none; -webkit-user-select: none;
    -khtml-user-select: none; -moz-user-select: none;
    -ms-user-select: none; user-select: none;
    padding: 0 4px; width: 4em;
  }
pre.numberSource { margin-left: 3em;  padding-left: 4px; }
div.sourceCode
  {   }
@media screen {
pre > code.sourceCode > span > a:first-child::before { text-decoration: underline; }
}
</style>


<link href="../../favicon.ico" rel="icon">
<script async="" src="https://www.googletagmanager.com/gtag/js?id=G-MXDPF6L5TL"></script>

<script type="text/javascript">

window.dataLayer = window.dataLayer || [];
function gtag(){dataLayer.push(arguments);}
gtag('js', new Date());
gtag('config', 'G-MXDPF6L5TL', { 'anonymize_ip': true});
</script>
<link rel="icon" type="image/x-icon" href="favicon.ico">
<meta property="og:title" content="requests - Documentation – Technical Manuals">
<meta property="og:site_name" content="Technical Manuals">
</head><body><div class="navigation-header">
    <nav>
        <div>
            <div class="logo">
                <a href="../../" aria-label="Home">
                    <span>Technical Manuals - Home</span>
                </a>
            </div>
            <div class="nav-menu">
                <ul>
                    <li>
                        <a href="../../about.html">
                            <span class="menu-text">About</span>
                        </a>
                    </li>
                    <li> 
                        <a href="https://github.com/muthuspark" target="_blank">
                            <span class="menu-text">Github</span>
                        </a>
                    </li>
                    <li>
                        <a href="https://linkedin.com/in/krimuthu" target="_blank">
                            <span class="menu-text">Linkedin</span>
                        </a>
                    </li>
                    <li>
                        <button onclick="window.print()" class="print-button">
                            <svg width="20" height="20" viewbox="0 0 24 24" fill="none" stroke="currentColor" stroke-width="2">
                              <path d="M6 9V2h12v7"></path>
                              <path d="M6 18H4a2 2 0 01-2-2v-5a2 2 0 012-2h16a2 2 0 012 2v5a2 2 0 01-2 2h-2"></path>
                              <path d="M6 14h12v8H6z"></path>
                            </svg>
                            Print Page
                        </button>
                    </li>
                </ul>
            </div>
        </div>
    </nav>
</div>


<link rel="stylesheet" href="../../styles.css">





<header id="title-block-header">
<h1 class="title">requests - Documentation</h1>

</header>

<nav id="TOC" role="doc-toc">
    <h2 id="toc-title">On this page</h2>
   
  <ul>
  <li><a href="#what-is-the-requests-library" id="toc-what-is-the-requests-library">What is the Requests Library?</a></li>
  <li><a href="#why-use-requests" id="toc-why-use-requests">Why Use Requests?</a></li>
  <li><a href="#installation-and-setup" id="toc-installation-and-setup">Installation and Setup</a></li>
  <li><a href="#basic-request-example" id="toc-basic-request-example">Basic Request Example</a></li>
  <li><a href="#making-get-requests" id="toc-making-get-requests">Making GET Requests</a>
  <ul>
  <li><a href="#simple-get-requests" id="toc-simple-get-requests">Simple GET Requests</a></li>
  <li><a href="#handling-query-parameters" id="toc-handling-query-parameters">Handling Query Parameters</a></li>
  <li><a href="#working-with-headers" id="toc-working-with-headers">Working with Headers</a></li>
  <li><a href="#accessing-response-data" id="toc-accessing-response-data">Accessing Response Data</a></li>
  <li><a href="#handling-different-content-types" id="toc-handling-different-content-types">Handling Different Content Types</a></li>
  <li><a href="#error-handling-and-status-codes" id="toc-error-handling-and-status-codes">Error Handling and Status Codes</a></li>
  </ul></li>
  <li><a href="#making-post-requests" id="toc-making-post-requests">Making POST Requests</a>
  <ul>
  <li><a href="#sending-data-with-post-requests" id="toc-sending-data-with-post-requests">Sending Data with POST Requests</a></li>
  <li><a href="#different-data-encoding-types-form-data-json-etc." id="toc-different-data-encoding-types-form-data-json-etc.">Different Data Encoding Types (form-data, json, etc.)</a></li>
  <li><a href="#handling-post-responses" id="toc-handling-post-responses">Handling POST Responses</a></li>
  <li><a href="#working-with-files-in-post-requests" id="toc-working-with-files-in-post-requests">Working with Files in POST Requests</a></li>
  </ul></li>
  <li><a href="#handling-responses" id="toc-handling-responses">Handling Responses</a>
  <ul>
  <li><a href="#response-status-codes" id="toc-response-status-codes">Response Status Codes</a></li>
  <li><a href="#accessing-response-headers" id="toc-accessing-response-headers">Accessing Response Headers</a></li>
  <li><a href="#working-with-response-content-text-json" id="toc-working-with-response-content-text-json">Working with Response Content (text, json)</a></li>
  <li><a href="#handling-errors-and-exceptions" id="toc-handling-errors-and-exceptions">Handling Errors and Exceptions</a></li>
  <li><a href="#checking-for-redirects" id="toc-checking-for-redirects">Checking for Redirects</a></li>
  <li><a href="#working-with-cookies" id="toc-working-with-cookies">Working with Cookies</a></li>
  </ul></li>
  <li><a href="#advanced-usage" id="toc-advanced-usage">Advanced Usage</a>
  <ul>
  <li><a href="#authentication-methods-basic-oauth-etc." id="toc-authentication-methods-basic-oauth-etc.">Authentication Methods (Basic, OAuth, etc.)</a></li>
  <li><a href="#using-proxies" id="toc-using-proxies">Using Proxies</a></li>
  <li><a href="#setting-timeouts" id="toc-setting-timeouts">Setting Timeouts</a></li>
  <li><a href="#handling-ssl-certificates" id="toc-handling-ssl-certificates">Handling SSL Certificates</a></li>
  <li><a href="#working-with-sessions" id="toc-working-with-sessions">Working with Sessions</a></li>
  <li><a href="#using-custom-adapters" id="toc-using-custom-adapters">Using Custom Adapters</a></li>
  </ul></li>
  <li><a href="#best-practices-and-security" id="toc-best-practices-and-security">Best Practices and Security</a>
  <ul>
  <li><a href="#security-considerations" id="toc-security-considerations">Security Considerations</a></li>
  <li><a href="#error-handling-and-logging" id="toc-error-handling-and-logging">Error Handling and Logging</a></li>
  <li><a href="#efficient-request-handling" id="toc-efficient-request-handling">Efficient Request Handling</a></li>
  <li><a href="#rate-limiting-and-throttling" id="toc-rate-limiting-and-throttling">Rate Limiting and Throttling</a></li>
  </ul></li>
  <li><a href="#working-with-different-apis" id="toc-working-with-different-apis">Working with Different APIs</a>
  <ul>
  <li><a href="#restful-apis" id="toc-restful-apis">RESTful APIs</a></li>
  <li><a href="#graphql-apis" id="toc-graphql-apis">GraphQL APIs</a></li>
  <li><a href="#other-api-types" id="toc-other-api-types">Other API types</a></li>
  </ul></li>
  <li><a href="#appendix" id="toc-appendix">Appendix</a>
  <ul>
  <li><a href="#glossary-of-terms" id="toc-glossary-of-terms">Glossary of Terms</a></li>
  <li><a href="#common-error-messages-and-solutions" id="toc-common-error-messages-and-solutions">Common Error Messages and Solutions</a></li>
  <li><a href="#useful-resources-and-links" id="toc-useful-resources-and-links">Useful Resources and Links</a></li>
  </ul></li>
  </ul>
</nav>
<h3 id="what-is-the-requests-library">What is the Requests Library?</h3>
<p>Requests is a popular and elegant Python HTTP library. It allows you to send HTTP requests (like GET, POST, PUT, DELETE, etc.) easily and efficiently. It handles the complexities of making HTTP requests, such as encoding data, handling headers, and managing cookies, making it much simpler than using Python’s built-in <code>urllib</code> library. It’s designed to be user-friendly and intuitive, letting you focus on the application logic rather than the low-level details of HTTP communication.</p>
<h3 id="why-use-requests">Why Use Requests?</h3>
<p>Requests offers several key advantages over lower-level alternatives:</p>
<ul>
<li><strong>Simplicity:</strong> The API is incredibly easy to learn and use. Complex tasks are reduced to concise and readable code.</li>
<li><strong>Clean Syntax:</strong> Requests uses a clean and consistent API, making your code more maintainable and readable.</li>
<li><strong>Feature-Rich:</strong> It supports various HTTP methods, handles cookies and sessions automatically, and provides robust error handling.</li>
<li><strong>Extensibility:</strong> Requests can be extended with various plugins and features to suit your specific needs.</li>
<li><strong>Widely Used and Well-Documented:</strong> A large and active community provides excellent support and resources.</li>
</ul>
<h3 id="installation-and-setup">Installation and Setup</h3>
<p>Requests is easily installed using pip, the Python package installer:</p>
<div class="sourceCode" id="cb1"><pre class="sourceCode bash"><code class="sourceCode bash"><span id="cb1-1"><a href="#cb1-1" aria-hidden="true" tabindex="-1"></a><span class="ex">pip</span> install requests</span></code></pre></div>
<p>This command will download and install the Requests library and its dependencies. No further configuration is usually required.</p>
<h3 id="basic-request-example">Basic Request Example</h3>
<p>The simplest way to make a GET request is:</p>
<div class="sourceCode" id="cb2"><pre class="sourceCode python"><code class="sourceCode python"><span id="cb2-1"><a href="#cb2-1" aria-hidden="true" tabindex="-1"></a><span class="im">import</span> requests</span>
<span id="cb2-2"><a href="#cb2-2" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb2-3"><a href="#cb2-3" aria-hidden="true" tabindex="-1"></a>response <span class="op">=</span> requests.get(<span class="st">'https://www.example.com'</span>)</span>
<span id="cb2-4"><a href="#cb2-4" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb2-5"><a href="#cb2-5" aria-hidden="true" tabindex="-1"></a><span class="co"># Check the status code (200 means success)</span></span>
<span id="cb2-6"><a href="#cb2-6" aria-hidden="true" tabindex="-1"></a><span class="bu">print</span>(response.status_code)</span>
<span id="cb2-7"><a href="#cb2-7" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb2-8"><a href="#cb2-8" aria-hidden="true" tabindex="-1"></a><span class="co"># Access the content of the response</span></span>
<span id="cb2-9"><a href="#cb2-9" aria-hidden="true" tabindex="-1"></a><span class="bu">print</span>(response.text)  <span class="co">#Get the response body as text</span></span>
<span id="cb2-10"><a href="#cb2-10" aria-hidden="true" tabindex="-1"></a><span class="bu">print</span>(response.json()) <span class="co">#Get the response body as a json object (if applicable)</span></span></code></pre></div>
<p>This code snippet first imports the <code>requests</code> library. Then, it makes a GET request to <code>https://www.example.com</code>. The <code>response</code> object contains the server’s response, including the status code (e.g., 200 for OK) and the content. The example then prints the status code and the response text. If the response is JSON, you can use <code>response.json()</code> for convenient parsing. Remember to handle potential exceptions (like <code>requests.exceptions.RequestException</code>) in production code.</p>
<h2 id="making-get-requests">Making GET Requests</h2>
<h3 id="simple-get-requests">Simple GET Requests</h3>
<p>The most basic GET request is made using the <code>requests.get()</code> function, passing the URL as an argument:</p>
<div class="sourceCode" id="cb3"><pre class="sourceCode python"><code class="sourceCode python"><span id="cb3-1"><a href="#cb3-1" aria-hidden="true" tabindex="-1"></a><span class="im">import</span> requests</span>
<span id="cb3-2"><a href="#cb3-2" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb3-3"><a href="#cb3-3" aria-hidden="true" tabindex="-1"></a>response <span class="op">=</span> requests.get(<span class="st">'https://www.example.com'</span>)</span>
<span id="cb3-4"><a href="#cb3-4" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb3-5"><a href="#cb3-5" aria-hidden="true" tabindex="-1"></a><span class="bu">print</span>(response.status_code)  <span class="co"># Check the status code (e.g., 200)</span></span>
<span id="cb3-6"><a href="#cb3-6" aria-hidden="true" tabindex="-1"></a><span class="bu">print</span>(response.text)       <span class="co"># Access the response content as text</span></span></code></pre></div>
<p>This sends a GET request to the specified URL. The response object contains details about the request, including the status code and the response content. Always check the status code to ensure the request was successful (200 OK is a common success code).</p>
<h3 id="handling-query-parameters">Handling Query Parameters</h3>
<p>Query parameters are appended to the URL after a question mark (<code>?</code>). They are used to pass additional information to the server. Requests handles these easily:</p>
<div class="sourceCode" id="cb4"><pre class="sourceCode python"><code class="sourceCode python"><span id="cb4-1"><a href="#cb4-1" aria-hidden="true" tabindex="-1"></a><span class="im">import</span> requests</span>
<span id="cb4-2"><a href="#cb4-2" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb4-3"><a href="#cb4-3" aria-hidden="true" tabindex="-1"></a>params <span class="op">=</span> {<span class="st">'key1'</span>: <span class="st">'value1'</span>, <span class="st">'key2'</span>: <span class="st">'value2'</span>}</span>
<span id="cb4-4"><a href="#cb4-4" aria-hidden="true" tabindex="-1"></a>response <span class="op">=</span> requests.get(<span class="st">'https://api.example.com/data'</span>, params<span class="op">=</span>params)</span>
<span id="cb4-5"><a href="#cb4-5" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb4-6"><a href="#cb4-6" aria-hidden="true" tabindex="-1"></a><span class="bu">print</span>(response.url) <span class="co"># Print the full URL with query parameters</span></span>
<span id="cb4-7"><a href="#cb4-7" aria-hidden="true" tabindex="-1"></a><span class="bu">print</span>(response.json()) <span class="co"># Parse JSON response if applicable</span></span></code></pre></div>
<p>The <code>params</code> dictionary is automatically converted into a query string.</p>
<h3 id="working-with-headers">Working with Headers</h3>
<p>HTTP headers provide additional information about the request. You can set custom headers using the <code>headers</code> parameter:</p>
<div class="sourceCode" id="cb5"><pre class="sourceCode python"><code class="sourceCode python"><span id="cb5-1"><a href="#cb5-1" aria-hidden="true" tabindex="-1"></a><span class="im">import</span> requests</span>
<span id="cb5-2"><a href="#cb5-2" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb5-3"><a href="#cb5-3" aria-hidden="true" tabindex="-1"></a>headers <span class="op">=</span> {<span class="st">'User-Agent'</span>: <span class="st">'My Custom User Agent'</span>, <span class="st">'Accept'</span>: <span class="st">'application/json'</span>}</span>
<span id="cb5-4"><a href="#cb5-4" aria-hidden="true" tabindex="-1"></a>response <span class="op">=</span> requests.get(<span class="st">'https://api.example.com/data'</span>, headers<span class="op">=</span>headers)</span>
<span id="cb5-5"><a href="#cb5-5" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb5-6"><a href="#cb5-6" aria-hidden="true" tabindex="-1"></a><span class="bu">print</span>(response.headers) <span class="co"># Access response headers</span></span>
<span id="cb5-7"><a href="#cb5-7" aria-hidden="true" tabindex="-1"></a><span class="bu">print</span>(response.json()) <span class="co"># Parse JSON response if applicable</span></span></code></pre></div>
<p>This example sets a custom User-Agent header, which helps identify your application to the server. Setting the <code>Accept</code> header specifies the desired response content type.</p>
<h3 id="accessing-response-data">Accessing Response Data</h3>
<p>The response object provides several ways to access the data:</p>
<ul>
<li><code>response.text</code>: Returns the response content as a Unicode string. Useful for HTML or text-based responses.</li>
<li><code>response.content</code>: Returns the response content as bytes. Useful for binary data like images.</li>
<li><code>response.json()</code>: Parses the response content as JSON and returns a Python dictionary or list. Raises a <code>requests.exceptions.JSONDecodeError</code> if the content isn’t valid JSON.</li>
<li><code>response.headers</code>: A dictionary containing response headers.</li>
<li><code>response.status_code</code>: The HTTP status code (e.g., 200, 404, 500).</li>
</ul>
<h3 id="handling-different-content-types">Handling Different Content Types</h3>
<p>Requests automatically handles various content types. However, you might need to specify the expected content type using the <code>headers</code> parameter’s <code>Accept</code> header or handle the response accordingly (e.g.&nbsp;by checking the <code>Content-Type</code> header in the response). For example, to ensure you get JSON back:</p>
<div class="sourceCode" id="cb6"><pre class="sourceCode python"><code class="sourceCode python"><span id="cb6-1"><a href="#cb6-1" aria-hidden="true" tabindex="-1"></a><span class="im">import</span> requests</span>
<span id="cb6-2"><a href="#cb6-2" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb6-3"><a href="#cb6-3" aria-hidden="true" tabindex="-1"></a>headers <span class="op">=</span> {<span class="st">'Accept'</span>: <span class="st">'application/json'</span>}</span>
<span id="cb6-4"><a href="#cb6-4" aria-hidden="true" tabindex="-1"></a>response <span class="op">=</span> requests.get(<span class="st">'https://api.example.com/data'</span>, headers<span class="op">=</span>headers)</span>
<span id="cb6-5"><a href="#cb6-5" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb6-6"><a href="#cb6-6" aria-hidden="true" tabindex="-1"></a><span class="cf">try</span>:</span>
<span id="cb6-7"><a href="#cb6-7" aria-hidden="true" tabindex="-1"></a>    data <span class="op">=</span> response.json()</span>
<span id="cb6-8"><a href="#cb6-8" aria-hidden="true" tabindex="-1"></a>    <span class="bu">print</span>(data)</span>
<span id="cb6-9"><a href="#cb6-9" aria-hidden="true" tabindex="-1"></a><span class="cf">except</span> requests.exceptions.JSONDecodeError:</span>
<span id="cb6-10"><a href="#cb6-10" aria-hidden="true" tabindex="-1"></a>    <span class="bu">print</span>(<span class="st">"Response is not valid JSON"</span>)</span></code></pre></div>
<h3 id="error-handling-and-status-codes">Error Handling and Status Codes</h3>
<p>Always check the <code>response.status_code</code> to ensure the request was successful. Non-2xx status codes indicate errors. You can use <code>try...except</code> blocks to handle potential exceptions:</p>
<div class="sourceCode" id="cb7"><pre class="sourceCode python"><code class="sourceCode python"><span id="cb7-1"><a href="#cb7-1" aria-hidden="true" tabindex="-1"></a><span class="im">import</span> requests</span>
<span id="cb7-2"><a href="#cb7-2" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb7-3"><a href="#cb7-3" aria-hidden="true" tabindex="-1"></a><span class="cf">try</span>:</span>
<span id="cb7-4"><a href="#cb7-4" aria-hidden="true" tabindex="-1"></a>    response <span class="op">=</span> requests.get(<span class="st">'https://api.example.com/data'</span>)</span>
<span id="cb7-5"><a href="#cb7-5" aria-hidden="true" tabindex="-1"></a>    response.raise_for_status()  <span class="co"># Raise an exception for bad status codes (4xx or 5xx)</span></span>
<span id="cb7-6"><a href="#cb7-6" aria-hidden="true" tabindex="-1"></a>    <span class="bu">print</span>(response.json())</span>
<span id="cb7-7"><a href="#cb7-7" aria-hidden="true" tabindex="-1"></a><span class="cf">except</span> requests.exceptions.RequestException <span class="im">as</span> e:</span>
<span id="cb7-8"><a href="#cb7-8" aria-hidden="true" tabindex="-1"></a>    <span class="bu">print</span>(<span class="ss">f"An error occurred: </span><span class="sc">{</span>e<span class="sc">}</span><span class="ss">"</span>)</span></code></pre></div>
<p><code>response.raise_for_status()</code> conveniently raises an exception for bad status codes, simplifying error handling. The <code>requests.exceptions.RequestException</code> handles various network and HTTP errors.</p>
<h2 id="making-post-requests">Making POST Requests</h2>
<h3 id="sending-data-with-post-requests">Sending Data with POST Requests</h3>
<p>POST requests are used to send data to the server. The data is typically sent in the request body. The basic structure is similar to GET requests, but using <code>requests.post()</code>:</p>
<div class="sourceCode" id="cb8"><pre class="sourceCode python"><code class="sourceCode python"><span id="cb8-1"><a href="#cb8-1" aria-hidden="true" tabindex="-1"></a><span class="im">import</span> requests</span>
<span id="cb8-2"><a href="#cb8-2" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb8-3"><a href="#cb8-3" aria-hidden="true" tabindex="-1"></a>data <span class="op">=</span> {<span class="st">'key1'</span>: <span class="st">'value1'</span>, <span class="st">'key2'</span>: <span class="st">'value2'</span>}</span>
<span id="cb8-4"><a href="#cb8-4" aria-hidden="true" tabindex="-1"></a>response <span class="op">=</span> requests.post(<span class="st">'https://api.example.com/submit'</span>, data<span class="op">=</span>data)</span>
<span id="cb8-5"><a href="#cb8-5" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb8-6"><a href="#cb8-6" aria-hidden="true" tabindex="-1"></a><span class="bu">print</span>(response.status_code)</span>
<span id="cb8-7"><a href="#cb8-7" aria-hidden="true" tabindex="-1"></a><span class="bu">print</span>(response.text)</span></code></pre></div>
<p>This sends a POST request with the data provided in the <code>data</code> dictionary. The server will process this data.</p>
<h3 id="different-data-encoding-types-form-data-json-etc.">Different Data Encoding Types (form-data, json, etc.)</h3>
<p>Requests supports different ways to encode the data sent in the request body.</p>
<ul>
<li><p><strong><code>data</code> (for form-encoded data):</strong> This is used for simple key-value pairs, often used in HTML forms. It automatically URL-encodes the data.</p></li>
<li><p><strong><code>json</code> (for JSON data):</strong> For sending JSON data, use the <code>json</code> parameter:</p></li>
</ul>
<div class="sourceCode" id="cb9"><pre class="sourceCode python"><code class="sourceCode python"><span id="cb9-1"><a href="#cb9-1" aria-hidden="true" tabindex="-1"></a><span class="im">import</span> requests</span>
<span id="cb9-2"><a href="#cb9-2" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb9-3"><a href="#cb9-3" aria-hidden="true" tabindex="-1"></a>data <span class="op">=</span> {<span class="st">'key1'</span>: <span class="st">'value1'</span>, <span class="st">'key2'</span>: <span class="st">'value2'</span>}</span>
<span id="cb9-4"><a href="#cb9-4" aria-hidden="true" tabindex="-1"></a>response <span class="op">=</span> requests.post(<span class="st">'https://api.example.com/submit'</span>, json<span class="op">=</span>data)</span>
<span id="cb9-5"><a href="#cb9-5" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb9-6"><a href="#cb9-6" aria-hidden="true" tabindex="-1"></a><span class="bu">print</span>(response.status_code)</span>
<span id="cb9-7"><a href="#cb9-7" aria-hidden="true" tabindex="-1"></a><span class="bu">print</span>(response.json()) <span class="co">#Parse the JSON response.</span></span></code></pre></div>
<p>This sends the data as a JSON object. The server should expect JSON data.</p>
<ul>
<li><strong>Files (for file uploads):</strong> See the next section for details on file uploads.</li>
</ul>
<h3 id="handling-post-responses">Handling POST Responses</h3>
<p>Handling POST responses is similar to GET requests. Check the <code>response.status_code</code> to verify success. Access the response content using <code>response.text</code>, <code>response.content</code>, or <code>response.json()</code> depending on the expected content type. Remember to handle potential errors using <code>try...except</code> blocks. For example:</p>
<div class="sourceCode" id="cb10"><pre class="sourceCode python"><code class="sourceCode python"><span id="cb10-1"><a href="#cb10-1" aria-hidden="true" tabindex="-1"></a><span class="im">import</span> requests</span>
<span id="cb10-2"><a href="#cb10-2" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb10-3"><a href="#cb10-3" aria-hidden="true" tabindex="-1"></a><span class="cf">try</span>:</span>
<span id="cb10-4"><a href="#cb10-4" aria-hidden="true" tabindex="-1"></a>    response <span class="op">=</span> requests.post(<span class="st">'https://api.example.com/submit'</span>, json<span class="op">=</span>{<span class="st">'key'</span>: <span class="st">'value'</span>})</span>
<span id="cb10-5"><a href="#cb10-5" aria-hidden="true" tabindex="-1"></a>    response.raise_for_status() <span class="co"># Raise HTTPError for bad responses (4xx or 5xx)</span></span>
<span id="cb10-6"><a href="#cb10-6" aria-hidden="true" tabindex="-1"></a>    <span class="bu">print</span>(response.json())</span>
<span id="cb10-7"><a href="#cb10-7" aria-hidden="true" tabindex="-1"></a><span class="cf">except</span> requests.exceptions.RequestException <span class="im">as</span> e:</span>
<span id="cb10-8"><a href="#cb10-8" aria-hidden="true" tabindex="-1"></a>    <span class="bu">print</span>(<span class="ss">f"An error occurred: </span><span class="sc">{</span>e<span class="sc">}</span><span class="ss">"</span>)</span></code></pre></div>
<h3 id="working-with-files-in-post-requests">Working with Files in POST Requests</h3>
<p>To upload files, use the <code>files</code> parameter with a dictionary where keys are the field names and values are file-like objects (e.g., opened files or file paths):</p>
<div class="sourceCode" id="cb11"><pre class="sourceCode python"><code class="sourceCode python"><span id="cb11-1"><a href="#cb11-1" aria-hidden="true" tabindex="-1"></a><span class="im">import</span> requests</span>
<span id="cb11-2"><a href="#cb11-2" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb11-3"><a href="#cb11-3" aria-hidden="true" tabindex="-1"></a>files <span class="op">=</span> {<span class="st">'file'</span>: <span class="bu">open</span>(<span class="st">'my_file.txt'</span>, <span class="st">'rb'</span>)}  <span class="co"># 'rb' for binary read mode</span></span>
<span id="cb11-4"><a href="#cb11-4" aria-hidden="true" tabindex="-1"></a>response <span class="op">=</span> requests.post(<span class="st">'https://api.example.com/upload'</span>, files<span class="op">=</span>files)</span>
<span id="cb11-5"><a href="#cb11-5" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb11-6"><a href="#cb11-6" aria-hidden="true" tabindex="-1"></a><span class="bu">print</span>(response.status_code)</span>
<span id="cb11-7"><a href="#cb11-7" aria-hidden="true" tabindex="-1"></a><span class="bu">print</span>(response.text)</span></code></pre></div>
<p>This uploads <code>my_file.txt</code>. Remember to close the file after the request using <code>files['file'].close()</code>. Alternatively, you can use <code>with open(...) as f:</code> to manage file closing automatically. The server-side needs to be configured to handle file uploads. You might also need to adjust the <code>Content-Type</code> header appropriately, depending on the server’s requirements. For example, a multipart/form-data content type is common for file uploads. Requests usually handles this automatically when using the <code>files</code> parameter.</p>
<h2 id="handling-responses">Handling Responses</h2>
<h3 id="response-status-codes">Response Status Codes</h3>
<p>HTTP status codes indicate the outcome of a request. The <code>response.status_code</code> attribute provides this information. Codes in the 2xx range generally indicate success, while 4xx codes represent client-side errors (like 404 Not Found), and 5xx codes indicate server-side errors (like 500 Internal Server Error). Always check the status code to ensure your request was successful. For example:</p>
<div class="sourceCode" id="cb12"><pre class="sourceCode python"><code class="sourceCode python"><span id="cb12-1"><a href="#cb12-1" aria-hidden="true" tabindex="-1"></a><span class="im">import</span> requests</span>
<span id="cb12-2"><a href="#cb12-2" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb12-3"><a href="#cb12-3" aria-hidden="true" tabindex="-1"></a>response <span class="op">=</span> requests.get(<span class="st">'https://www.example.com'</span>)</span>
<span id="cb12-4"><a href="#cb12-4" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb12-5"><a href="#cb12-5" aria-hidden="true" tabindex="-1"></a><span class="cf">if</span> response.status_code <span class="op">==</span> <span class="dv">200</span>:</span>
<span id="cb12-6"><a href="#cb12-6" aria-hidden="true" tabindex="-1"></a>    <span class="bu">print</span>(<span class="st">"Request successful!"</span>)</span>
<span id="cb12-7"><a href="#cb12-7" aria-hidden="true" tabindex="-1"></a><span class="cf">elif</span> response.status_code <span class="op">==</span> <span class="dv">404</span>:</span>
<span id="cb12-8"><a href="#cb12-8" aria-hidden="true" tabindex="-1"></a>    <span class="bu">print</span>(<span class="st">"Not Found"</span>)</span>
<span id="cb12-9"><a href="#cb12-9" aria-hidden="true" tabindex="-1"></a><span class="cf">else</span>:</span>
<span id="cb12-10"><a href="#cb12-10" aria-hidden="true" tabindex="-1"></a>    <span class="bu">print</span>(<span class="ss">f"Request failed with status code: </span><span class="sc">{</span>response<span class="sc">.</span>status_code<span class="sc">}</span><span class="ss">"</span>)</span></code></pre></div>
<h3 id="accessing-response-headers">Accessing Response Headers</h3>
<p>Response headers provide additional information about the response. Access them using <code>response.headers</code>, which is a dictionary-like object:</p>
<div class="sourceCode" id="cb13"><pre class="sourceCode python"><code class="sourceCode python"><span id="cb13-1"><a href="#cb13-1" aria-hidden="true" tabindex="-1"></a><span class="im">import</span> requests</span>
<span id="cb13-2"><a href="#cb13-2" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb13-3"><a href="#cb13-3" aria-hidden="true" tabindex="-1"></a>response <span class="op">=</span> requests.get(<span class="st">'https://www.example.com'</span>)</span>
<span id="cb13-4"><a href="#cb13-4" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb13-5"><a href="#cb13-5" aria-hidden="true" tabindex="-1"></a>content_type <span class="op">=</span> response.headers.get(<span class="st">'Content-Type'</span>)</span>
<span id="cb13-6"><a href="#cb13-6" aria-hidden="true" tabindex="-1"></a><span class="bu">print</span>(<span class="ss">f"Content-Type: </span><span class="sc">{</span>content_type<span class="sc">}</span><span class="ss">"</span>)</span>
<span id="cb13-7"><a href="#cb13-7" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb13-8"><a href="#cb13-8" aria-hidden="true" tabindex="-1"></a>server <span class="op">=</span> response.headers.get(<span class="st">'Server'</span>)</span>
<span id="cb13-9"><a href="#cb13-9" aria-hidden="true" tabindex="-1"></a><span class="bu">print</span>(<span class="ss">f"Server: </span><span class="sc">{</span>server<span class="sc">}</span><span class="ss">"</span>)</span></code></pre></div>
<p><code>response.headers.get('Header-Name')</code> is used to safely access a header, returning <code>None</code> if the header isn’t present.</p>
<h3 id="working-with-response-content-text-json">Working with Response Content (text, json)</h3>
<p>The response content can be accessed in several ways:</p>
<ul>
<li><code>response.text</code>: Returns the content as a Unicode string. Suitable for text-based responses like HTML.</li>
<li><code>response.content</code>: Returns the content as bytes. Suitable for binary data like images or PDFs.</li>
<li><code>response.json()</code>: Parses the content as JSON and returns a Python dictionary or list. Raises a <code>requests.exceptions.JSONDecodeError</code> if the content is not valid JSON. This is the most convenient way to work with JSON APIs.</li>
</ul>
<div class="sourceCode" id="cb14"><pre class="sourceCode python"><code class="sourceCode python"><span id="cb14-1"><a href="#cb14-1" aria-hidden="true" tabindex="-1"></a><span class="im">import</span> requests</span>
<span id="cb14-2"><a href="#cb14-2" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb14-3"><a href="#cb14-3" aria-hidden="true" tabindex="-1"></a>response <span class="op">=</span> requests.get(<span class="st">'https://api.example.com/data'</span>)</span>
<span id="cb14-4"><a href="#cb14-4" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb14-5"><a href="#cb14-5" aria-hidden="true" tabindex="-1"></a><span class="cf">if</span> response.status_code <span class="op">==</span> <span class="dv">200</span>:</span>
<span id="cb14-6"><a href="#cb14-6" aria-hidden="true" tabindex="-1"></a>    <span class="cf">try</span>:</span>
<span id="cb14-7"><a href="#cb14-7" aria-hidden="true" tabindex="-1"></a>        data <span class="op">=</span> response.json()</span>
<span id="cb14-8"><a href="#cb14-8" aria-hidden="true" tabindex="-1"></a>        <span class="bu">print</span>(data)</span>
<span id="cb14-9"><a href="#cb14-9" aria-hidden="true" tabindex="-1"></a>    <span class="cf">except</span> requests.exceptions.JSONDecodeError:</span>
<span id="cb14-10"><a href="#cb14-10" aria-hidden="true" tabindex="-1"></a>        <span class="bu">print</span>(<span class="st">"Invalid JSON response"</span>)</span></code></pre></div>
<h3 id="handling-errors-and-exceptions">Handling Errors and Exceptions</h3>
<p>Requests raises exceptions for various errors, including network issues and HTTP errors. Use <code>try...except</code> blocks to handle these:</p>
<div class="sourceCode" id="cb15"><pre class="sourceCode python"><code class="sourceCode python"><span id="cb15-1"><a href="#cb15-1" aria-hidden="true" tabindex="-1"></a><span class="im">import</span> requests</span>
<span id="cb15-2"><a href="#cb15-2" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb15-3"><a href="#cb15-3" aria-hidden="true" tabindex="-1"></a><span class="cf">try</span>:</span>
<span id="cb15-4"><a href="#cb15-4" aria-hidden="true" tabindex="-1"></a>    response <span class="op">=</span> requests.get(<span class="st">'https://api.example.com/data'</span>)</span>
<span id="cb15-5"><a href="#cb15-5" aria-hidden="true" tabindex="-1"></a>    response.raise_for_status() <span class="co">#Raises HTTPError for bad responses (4xx or 5xx)</span></span>
<span id="cb15-6"><a href="#cb15-6" aria-hidden="true" tabindex="-1"></a>    <span class="co">#Process the successful response here</span></span>
<span id="cb15-7"><a href="#cb15-7" aria-hidden="true" tabindex="-1"></a><span class="cf">except</span> requests.exceptions.RequestException <span class="im">as</span> e:</span>
<span id="cb15-8"><a href="#cb15-8" aria-hidden="true" tabindex="-1"></a>    <span class="bu">print</span>(<span class="ss">f"An error occurred: </span><span class="sc">{</span>e<span class="sc">}</span><span class="ss">"</span>)</span>
<span id="cb15-9"><a href="#cb15-9" aria-hidden="true" tabindex="-1"></a><span class="cf">except</span> requests.exceptions.HTTPError <span class="im">as</span> e:</span>
<span id="cb15-10"><a href="#cb15-10" aria-hidden="true" tabindex="-1"></a>    <span class="bu">print</span>(<span class="ss">f"HTTP Error: </span><span class="sc">{</span>e<span class="sc">}</span><span class="ss">"</span>)</span>
<span id="cb15-11"><a href="#cb15-11" aria-hidden="true" tabindex="-1"></a><span class="cf">except</span> requests.exceptions.<span class="pp">ConnectionError</span> <span class="im">as</span> e:</span>
<span id="cb15-12"><a href="#cb15-12" aria-hidden="true" tabindex="-1"></a>    <span class="bu">print</span>(<span class="ss">f"Connection Error: </span><span class="sc">{</span>e<span class="sc">}</span><span class="ss">"</span>)</span>
<span id="cb15-13"><a href="#cb15-13" aria-hidden="true" tabindex="-1"></a><span class="cf">except</span> requests.exceptions.Timeout <span class="im">as</span> e:</span>
<span id="cb15-14"><a href="#cb15-14" aria-hidden="true" tabindex="-1"></a>    <span class="bu">print</span>(<span class="ss">f"Timeout Error: </span><span class="sc">{</span>e<span class="sc">}</span><span class="ss">"</span>)</span></code></pre></div>
<p><code>response.raise_for_status()</code> is helpful for explicitly raising exceptions for bad status codes.</p>
<h3 id="checking-for-redirects">Checking for Redirects</h3>
<p>Requests automatically handles redirects (3xx status codes). To access information about redirects:</p>
<div class="sourceCode" id="cb16"><pre class="sourceCode python"><code class="sourceCode python"><span id="cb16-1"><a href="#cb16-1" aria-hidden="true" tabindex="-1"></a><span class="im">import</span> requests</span>
<span id="cb16-2"><a href="#cb16-2" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb16-3"><a href="#cb16-3" aria-hidden="true" tabindex="-1"></a>response <span class="op">=</span> requests.get(<span class="st">'https://shorturl.at/somelink'</span>, allow_redirects<span class="op">=</span><span class="va">True</span>) <span class="co">#allow_redirects is True by default</span></span>
<span id="cb16-4"><a href="#cb16-4" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb16-5"><a href="#cb16-5" aria-hidden="true" tabindex="-1"></a><span class="bu">print</span>(response.url) <span class="co">#The final URL after redirects</span></span>
<span id="cb16-6"><a href="#cb16-6" aria-hidden="true" tabindex="-1"></a><span class="bu">print</span>(response.history) <span class="co">#List of intermediate responses during redirects.</span></span></code></pre></div>
<p>Setting <code>allow_redirects=False</code> will prevent automatic redirection and allow handling redirects manually.</p>
<h3 id="working-with-cookies">Working with Cookies</h3>
<p>Requests handles cookies automatically. To access or manipulate cookies:</p>
<div class="sourceCode" id="cb17"><pre class="sourceCode python"><code class="sourceCode python"><span id="cb17-1"><a href="#cb17-1" aria-hidden="true" tabindex="-1"></a><span class="im">import</span> requests</span>
<span id="cb17-2"><a href="#cb17-2" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb17-3"><a href="#cb17-3" aria-hidden="true" tabindex="-1"></a>session <span class="op">=</span> requests.Session() <span class="co"># Use a session for managing cookies across requests.</span></span>
<span id="cb17-4"><a href="#cb17-4" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb17-5"><a href="#cb17-5" aria-hidden="true" tabindex="-1"></a>response <span class="op">=</span> session.get(<span class="st">'https://www.example.com/login'</span>, data<span class="op">=</span>{<span class="st">'username'</span>:<span class="st">'user'</span>, <span class="st">'password'</span>:<span class="st">'pass'</span>})</span>
<span id="cb17-6"><a href="#cb17-6" aria-hidden="true" tabindex="-1"></a>cookies <span class="op">=</span> session.cookies</span>
<span id="cb17-7"><a href="#cb17-7" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb17-8"><a href="#cb17-8" aria-hidden="true" tabindex="-1"></a>response2 <span class="op">=</span> session.get(<span class="st">'https://www.example.com/profile'</span>) <span class="co">#Cookies from the login will be sent automatically</span></span>
<span id="cb17-9"><a href="#cb17-9" aria-hidden="true" tabindex="-1"></a><span class="co">#access cookies using cookies.get_dict() etc.</span></span>
<span id="cb17-10"><a href="#cb17-10" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb17-11"><a href="#cb17-11" aria-hidden="true" tabindex="-1"></a><span class="bu">print</span>(response2.text)</span></code></pre></div>
<p>Using a <code>requests.Session()</code> object is recommended for managing cookies across multiple requests. You can directly access and modify cookies through the <code>session.cookies</code> attribute for more advanced control.</p>
<h2 id="advanced-usage">Advanced Usage</h2>
<h3 id="authentication-methods-basic-oauth-etc.">Authentication Methods (Basic, OAuth, etc.)</h3>
<p>Requests supports various authentication methods.</p>
<ul>
<li><strong>HTTP Basic Authentication:</strong> Use the <code>auth</code> parameter with a tuple containing the username and password:</li>
</ul>
<div class="sourceCode" id="cb18"><pre class="sourceCode python"><code class="sourceCode python"><span id="cb18-1"><a href="#cb18-1" aria-hidden="true" tabindex="-1"></a><span class="im">import</span> requests</span>
<span id="cb18-2"><a href="#cb18-2" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb18-3"><a href="#cb18-3" aria-hidden="true" tabindex="-1"></a>response <span class="op">=</span> requests.get(<span class="st">'https://api.example.com/data'</span>, auth<span class="op">=</span>(<span class="st">'username'</span>, <span class="st">'password'</span>))</span>
<span id="cb18-4"><a href="#cb18-4" aria-hidden="true" tabindex="-1"></a><span class="bu">print</span>(response.text)</span></code></pre></div>
<ul>
<li><strong>OAuth:</strong> OAuth requires more complex handling, typically involving obtaining an access token first and then including it in the request headers (often as a <code>Bearer</code> token):</li>
</ul>
<div class="sourceCode" id="cb19"><pre class="sourceCode python"><code class="sourceCode python"><span id="cb19-1"><a href="#cb19-1" aria-hidden="true" tabindex="-1"></a><span class="im">import</span> requests</span>
<span id="cb19-2"><a href="#cb19-2" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb19-3"><a href="#cb19-3" aria-hidden="true" tabindex="-1"></a>access_token <span class="op">=</span> <span class="st">"YOUR_ACCESS_TOKEN"</span>  <span class="co">#Obtain this through the OAuth flow.</span></span>
<span id="cb19-4"><a href="#cb19-4" aria-hidden="true" tabindex="-1"></a>headers <span class="op">=</span> {<span class="st">'Authorization'</span>: <span class="ss">f'Bearer </span><span class="sc">{</span>access_token<span class="sc">}</span><span class="ss">'</span>}</span>
<span id="cb19-5"><a href="#cb19-5" aria-hidden="true" tabindex="-1"></a>response <span class="op">=</span> requests.get(<span class="st">'https://api.example.com/data'</span>, headers<span class="op">=</span>headers)</span>
<span id="cb19-6"><a href="#cb19-6" aria-hidden="true" tabindex="-1"></a><span class="bu">print</span>(response.text)</span></code></pre></div>
<p>The specific implementation depends on the OAuth provider.</p>
<ul>
<li><strong>Other methods:</strong> Other authentication methods (like Digest, API keys in headers, etc.) require adapting the request according to the API’s specification.</li>
</ul>
<h3 id="using-proxies">Using Proxies</h3>
<p>To use a proxy server, use the <code>proxies</code> parameter with a dictionary specifying the proxy for each protocol (HTTP and HTTPS):</p>
<div class="sourceCode" id="cb20"><pre class="sourceCode python"><code class="sourceCode python"><span id="cb20-1"><a href="#cb20-1" aria-hidden="true" tabindex="-1"></a><span class="im">import</span> requests</span>
<span id="cb20-2"><a href="#cb20-2" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb20-3"><a href="#cb20-3" aria-hidden="true" tabindex="-1"></a>proxies <span class="op">=</span> {</span>
<span id="cb20-4"><a href="#cb20-4" aria-hidden="true" tabindex="-1"></a>    <span class="st">'http'</span>: <span class="st">'http://user:password@proxy.example.com:8080'</span>,</span>
<span id="cb20-5"><a href="#cb20-5" aria-hidden="true" tabindex="-1"></a>    <span class="st">'https'</span>: <span class="st">'http://user:password@proxy.example.com:8080'</span>,</span>
<span id="cb20-6"><a href="#cb20-6" aria-hidden="true" tabindex="-1"></a>}</span>
<span id="cb20-7"><a href="#cb20-7" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb20-8"><a href="#cb20-8" aria-hidden="true" tabindex="-1"></a>response <span class="op">=</span> requests.get(<span class="st">'https://www.example.com'</span>, proxies<span class="op">=</span>proxies)</span>
<span id="cb20-9"><a href="#cb20-9" aria-hidden="true" tabindex="-1"></a><span class="bu">print</span>(response.text)</span></code></pre></div>
<p>Replace placeholders with your proxy server details. If you don’t need authentication, omit the <code>user:password@</code> part.</p>
<h3 id="setting-timeouts">Setting Timeouts</h3>
<p>To prevent requests from hanging indefinitely, set timeouts using the <code>timeout</code> parameter (in seconds):</p>
<div class="sourceCode" id="cb21"><pre class="sourceCode python"><code class="sourceCode python"><span id="cb21-1"><a href="#cb21-1" aria-hidden="true" tabindex="-1"></a><span class="im">import</span> requests</span>
<span id="cb21-2"><a href="#cb21-2" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb21-3"><a href="#cb21-3" aria-hidden="true" tabindex="-1"></a><span class="cf">try</span>:</span>
<span id="cb21-4"><a href="#cb21-4" aria-hidden="true" tabindex="-1"></a>    response <span class="op">=</span> requests.get(<span class="st">'https://www.example.com'</span>, timeout<span class="op">=</span><span class="dv">5</span>)  <span class="co"># 5-second timeout</span></span>
<span id="cb21-5"><a href="#cb21-5" aria-hidden="true" tabindex="-1"></a>    <span class="bu">print</span>(response.text)</span>
<span id="cb21-6"><a href="#cb21-6" aria-hidden="true" tabindex="-1"></a><span class="cf">except</span> requests.exceptions.Timeout:</span>
<span id="cb21-7"><a href="#cb21-7" aria-hidden="true" tabindex="-1"></a>    <span class="bu">print</span>(<span class="st">"Request timed out"</span>)</span>
<span id="cb21-8"><a href="#cb21-8" aria-hidden="true" tabindex="-1"></a><span class="cf">except</span> requests.exceptions.RequestException <span class="im">as</span> e:</span>
<span id="cb21-9"><a href="#cb21-9" aria-hidden="true" tabindex="-1"></a>    <span class="bu">print</span>(<span class="ss">f"An error occurred: </span><span class="sc">{</span>e<span class="sc">}</span><span class="ss">"</span>)</span></code></pre></div>
<p>You can specify a tuple for separate connect and read timeouts: <code>timeout=(connect_timeout, read_timeout)</code>.</p>
<h3 id="handling-ssl-certificates">Handling SSL Certificates</h3>
<p>For self-signed or untrusted certificates, you may need to disable SSL verification or provide a custom certificate bundle:</p>
<div class="sourceCode" id="cb22"><pre class="sourceCode python"><code class="sourceCode python"><span id="cb22-1"><a href="#cb22-1" aria-hidden="true" tabindex="-1"></a><span class="im">import</span> requests</span>
<span id="cb22-2"><a href="#cb22-2" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb22-3"><a href="#cb22-3" aria-hidden="true" tabindex="-1"></a><span class="co"># Disable SSL verification (INSECURE - ONLY FOR DEVELOPMENT/</span><span class="al">TESTING</span><span class="co">!)</span></span>
<span id="cb22-4"><a href="#cb22-4" aria-hidden="true" tabindex="-1"></a>response <span class="op">=</span> requests.get(<span class="st">'https://selfsigned.example.com'</span>, verify<span class="op">=</span><span class="va">False</span>)</span>
<span id="cb22-5"><a href="#cb22-5" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb22-6"><a href="#cb22-6" aria-hidden="true" tabindex="-1"></a><span class="co">#Use a custom CA bundle (more secure than verify=False)</span></span>
<span id="cb22-7"><a href="#cb22-7" aria-hidden="true" tabindex="-1"></a>response <span class="op">=</span> requests.get(<span class="st">'https://selfsigned.example.com'</span>, verify<span class="op">=</span><span class="st">'/path/to/my/ca.pem'</span>)</span>
<span id="cb22-8"><a href="#cb22-8" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb22-9"><a href="#cb22-9" aria-hidden="true" tabindex="-1"></a><span class="bu">print</span>(response.text)</span></code></pre></div>
<p><strong>Warning:</strong> Disabling SSL verification (<code>verify=False</code>) is highly discouraged in production environments as it compromises security. Use a custom CA bundle whenever possible for secure handling of self-signed certificates.</p>
<h3 id="working-with-sessions">Working with Sessions</h3>
<p><code>requests.Session()</code> objects persist cookies, headers, and other settings across multiple requests, making them efficient for interacting with websites or APIs that require authentication or state management.</p>
<div class="sourceCode" id="cb23"><pre class="sourceCode python"><code class="sourceCode python"><span id="cb23-1"><a href="#cb23-1" aria-hidden="true" tabindex="-1"></a><span class="im">import</span> requests</span>
<span id="cb23-2"><a href="#cb23-2" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb23-3"><a href="#cb23-3" aria-hidden="true" tabindex="-1"></a>session <span class="op">=</span> requests.Session()</span>
<span id="cb23-4"><a href="#cb23-4" aria-hidden="true" tabindex="-1"></a>session.auth <span class="op">=</span> (<span class="st">'username'</span>, <span class="st">'password'</span>)</span>
<span id="cb23-5"><a href="#cb23-5" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb23-6"><a href="#cb23-6" aria-hidden="true" tabindex="-1"></a>response1 <span class="op">=</span> session.get(<span class="st">'https://api.example.com/login'</span>)</span>
<span id="cb23-7"><a href="#cb23-7" aria-hidden="true" tabindex="-1"></a>response2 <span class="op">=</span> session.get(<span class="st">'https://api.example.com/data'</span>) <span class="co"># Authentication from response1 is reused.</span></span>
<span id="cb23-8"><a href="#cb23-8" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb23-9"><a href="#cb23-9" aria-hidden="true" tabindex="-1"></a><span class="bu">print</span>(response2.text)</span></code></pre></div>
<p>The session automatically handles cookies and other persistent data.</p>
<h3 id="using-custom-adapters">Using Custom Adapters</h3>
<p>Requests uses adapters to handle connections. You can create custom adapters for special needs (e.g., handling specific protocols or proxies):</p>
<div class="sourceCode" id="cb24"><pre class="sourceCode python"><code class="sourceCode python"><span id="cb24-1"><a href="#cb24-1" aria-hidden="true" tabindex="-1"></a><span class="im">import</span> requests</span>
<span id="cb24-2"><a href="#cb24-2" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb24-3"><a href="#cb24-3" aria-hidden="true" tabindex="-1"></a><span class="kw">class</span> MyAdapter(requests.adapters.HTTPAdapter):</span>
<span id="cb24-4"><a href="#cb24-4" aria-hidden="true" tabindex="-1"></a>    <span class="kw">def</span> send(<span class="va">self</span>, request, <span class="op">**</span>kwargs):</span>
<span id="cb24-5"><a href="#cb24-5" aria-hidden="true" tabindex="-1"></a>        <span class="co"># Add custom logic here (e.g., modify the request before sending)</span></span>
<span id="cb24-6"><a href="#cb24-6" aria-hidden="true" tabindex="-1"></a>        <span class="cf">return</span> <span class="bu">super</span>().send(request, <span class="op">**</span>kwargs)</span>
<span id="cb24-7"><a href="#cb24-7" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb24-8"><a href="#cb24-8" aria-hidden="true" tabindex="-1"></a>session <span class="op">=</span> requests.Session()</span>
<span id="cb24-9"><a href="#cb24-9" aria-hidden="true" tabindex="-1"></a>session.mount(<span class="st">'http://'</span>, MyAdapter()) <span class="co">#Mount the adapter for http:// URLs</span></span>
<span id="cb24-10"><a href="#cb24-10" aria-hidden="true" tabindex="-1"></a>session.mount(<span class="st">'https://'</span>, MyAdapter())<span class="co">#Mount the adapter for https:// URLs</span></span>
<span id="cb24-11"><a href="#cb24-11" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb24-12"><a href="#cb24-12" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb24-13"><a href="#cb24-13" aria-hidden="true" tabindex="-1"></a>response <span class="op">=</span> session.get(<span class="st">'https://www.example.com'</span>)</span>
<span id="cb24-14"><a href="#cb24-14" aria-hidden="true" tabindex="-1"></a><span class="bu">print</span>(response.text)</span></code></pre></div>
<p>Custom adapters provide powerful control over the underlying HTTP connection handling. This is advanced usage and requires a good understanding of HTTP and Requests’ internals.</p>
<h2 id="best-practices-and-security">Best Practices and Security</h2>
<h3 id="security-considerations">Security Considerations</h3>
<ul>
<li><strong>Never hardcode sensitive information (API keys, passwords) directly into your code.</strong> Use environment variables or configuration files to store and access secrets securely.</li>
<li><strong>Always verify SSL certificates (<code>verify=True</code>).</strong> Avoid disabling SSL verification (<code>verify=False</code>) except for explicit testing purposes in controlled environments.</li>
<li><strong>Validate user inputs carefully</strong> to prevent injection attacks (like SQL injection or cross-site scripting). Sanitize any data received from external sources before using it in your requests.</li>
<li><strong>Be aware of potential vulnerabilities</strong> in the APIs you interact with. Check the API documentation for security best practices and any known vulnerabilities.</li>
<li><strong>Use HTTPS</strong> whenever possible to encrypt communication between your application and the server.</li>
<li><strong>Regularly update the Requests library</strong> to benefit from the latest security patches and bug fixes.</li>
</ul>
<h3 id="error-handling-and-logging">Error Handling and Logging</h3>
<ul>
<li><strong>Always check the response status code</strong> to ensure the request was successful. Handle non-2xx status codes appropriately.</li>
<li><strong>Use <code>try...except</code> blocks</strong> to catch potential exceptions (<code>requests.exceptions.RequestException</code>, <code>requests.exceptions.HTTPError</code>, etc.). Log errors for debugging and monitoring.</li>
<li><strong>Implement robust logging</strong> to track requests, responses, errors, and other relevant information. This helps in debugging, monitoring, and auditing. Use a logging library like Python’s built-in <code>logging</code> module. Include relevant details like timestamps, URLs, status codes, and error messages.</li>
</ul>
<p>Example using Python’s <code>logging</code> module:</p>
<div class="sourceCode" id="cb25"><pre class="sourceCode python"><code class="sourceCode python"><span id="cb25-1"><a href="#cb25-1" aria-hidden="true" tabindex="-1"></a><span class="im">import</span> logging</span>
<span id="cb25-2"><a href="#cb25-2" aria-hidden="true" tabindex="-1"></a><span class="im">import</span> requests</span>
<span id="cb25-3"><a href="#cb25-3" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb25-4"><a href="#cb25-4" aria-hidden="true" tabindex="-1"></a>logging.basicConfig(level<span class="op">=</span>logging.INFO, <span class="bu">format</span><span class="op">=</span><span class="st">'</span><span class="sc">%(asctime)s</span><span class="st"> - </span><span class="sc">%(levelname)s</span><span class="st"> - </span><span class="sc">%(message)s</span><span class="st">'</span>)</span>
<span id="cb25-5"><a href="#cb25-5" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb25-6"><a href="#cb25-6" aria-hidden="true" tabindex="-1"></a><span class="cf">try</span>:</span>
<span id="cb25-7"><a href="#cb25-7" aria-hidden="true" tabindex="-1"></a>    response <span class="op">=</span> requests.get(<span class="st">'https://api.example.com/data'</span>)</span>
<span id="cb25-8"><a href="#cb25-8" aria-hidden="true" tabindex="-1"></a>    response.raise_for_status()</span>
<span id="cb25-9"><a href="#cb25-9" aria-hidden="true" tabindex="-1"></a>    logging.info(<span class="ss">f"Request successful. Status code: </span><span class="sc">{</span>response<span class="sc">.</span>status_code<span class="sc">}</span><span class="ss">"</span>)</span>
<span id="cb25-10"><a href="#cb25-10" aria-hidden="true" tabindex="-1"></a>    <span class="co">#Process successful response</span></span>
<span id="cb25-11"><a href="#cb25-11" aria-hidden="true" tabindex="-1"></a><span class="cf">except</span> requests.exceptions.RequestException <span class="im">as</span> e:</span>
<span id="cb25-12"><a href="#cb25-12" aria-hidden="true" tabindex="-1"></a>    logging.error(<span class="ss">f"Request failed: </span><span class="sc">{</span>e<span class="sc">}</span><span class="ss">"</span>)</span></code></pre></div>
<h3 id="efficient-request-handling">Efficient Request Handling</h3>
<ul>
<li><strong>Use sessions (<code>requests.Session()</code>)</strong> for multiple requests to the same server. Sessions reuse connections and manage cookies efficiently, reducing overhead.</li>
<li><strong>Use connection pooling:</strong> Requests automatically handles connection pooling to improve performance.</li>
<li><strong>Avoid unnecessary requests:</strong> Optimize your code to make only the necessary requests. Batch requests when possible.</li>
<li><strong>Handle rate limits:</strong> Respect API rate limits to avoid being blocked.</li>
</ul>
<h3 id="rate-limiting-and-throttling">Rate Limiting and Throttling</h3>
<p>Many APIs implement rate limiting to prevent abuse. If you exceed the rate limit, your requests might be temporarily blocked.</p>
<ul>
<li><strong>Check the API documentation</strong> to understand the rate limits.</li>
<li><strong>Implement mechanisms to handle rate limits:</strong> This might involve adding delays between requests using <code>time.sleep()</code>, using a queue to manage requests, or using a dedicated rate-limiting library.</li>
<li><strong>Monitor your request rate</strong> to stay within the limits. Log the number of requests made and the time taken. Alerting systems can trigger warnings or actions if the rate exceeds a threshold.</li>
</ul>
<p>Example of adding a delay to handle rate limiting:</p>
<div class="sourceCode" id="cb26"><pre class="sourceCode python"><code class="sourceCode python"><span id="cb26-1"><a href="#cb26-1" aria-hidden="true" tabindex="-1"></a><span class="im">import</span> time</span>
<span id="cb26-2"><a href="#cb26-2" aria-hidden="true" tabindex="-1"></a><span class="im">import</span> requests</span>
<span id="cb26-3"><a href="#cb26-3" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb26-4"><a href="#cb26-4" aria-hidden="true" tabindex="-1"></a>rate_limit <span class="op">=</span> <span class="dv">1</span>  <span class="co"># requests per second</span></span>
<span id="cb26-5"><a href="#cb26-5" aria-hidden="true" tabindex="-1"></a>time_between_requests <span class="op">=</span> <span class="dv">1</span><span class="op">/</span>rate_limit</span>
<span id="cb26-6"><a href="#cb26-6" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb26-7"><a href="#cb26-7" aria-hidden="true" tabindex="-1"></a><span class="cf">for</span> i <span class="kw">in</span> <span class="bu">range</span>(<span class="dv">10</span>):</span>
<span id="cb26-8"><a href="#cb26-8" aria-hidden="true" tabindex="-1"></a>    response <span class="op">=</span> requests.get(<span class="st">'https://api.example.com/data'</span>)</span>
<span id="cb26-9"><a href="#cb26-9" aria-hidden="true" tabindex="-1"></a>    <span class="cf">if</span> response.status_code <span class="op">==</span> <span class="dv">200</span>:</span>
<span id="cb26-10"><a href="#cb26-10" aria-hidden="true" tabindex="-1"></a>        <span class="co">#Process the response</span></span>
<span id="cb26-11"><a href="#cb26-11" aria-hidden="true" tabindex="-1"></a>        <span class="cf">pass</span></span>
<span id="cb26-12"><a href="#cb26-12" aria-hidden="true" tabindex="-1"></a>    <span class="cf">else</span>:</span>
<span id="cb26-13"><a href="#cb26-13" aria-hidden="true" tabindex="-1"></a>        <span class="bu">print</span>(<span class="ss">f"Request failed with status code: </span><span class="sc">{</span>response<span class="sc">.</span>status_code<span class="sc">}</span><span class="ss">"</span>)</span>
<span id="cb26-14"><a href="#cb26-14" aria-hidden="true" tabindex="-1"></a>    time.sleep(time_between_requests)</span></code></pre></div>
<h2 id="working-with-different-apis">Working with Different APIs</h2>
<h3 id="restful-apis">RESTful APIs</h3>
<p>RESTful APIs are the most common type of web API. They use standard HTTP methods (GET, POST, PUT, DELETE) to interact with resources. Requests is well-suited for working with RESTful APIs.</p>
<p><strong>Example:</strong> Fetching data from a REST API using a GET request:</p>
<div class="sourceCode" id="cb27"><pre class="sourceCode python"><code class="sourceCode python"><span id="cb27-1"><a href="#cb27-1" aria-hidden="true" tabindex="-1"></a><span class="im">import</span> requests</span>
<span id="cb27-2"><a href="#cb27-2" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb27-3"><a href="#cb27-3" aria-hidden="true" tabindex="-1"></a>url <span class="op">=</span> <span class="st">"https://api.example.com/users/123"</span></span>
<span id="cb27-4"><a href="#cb27-4" aria-hidden="true" tabindex="-1"></a>response <span class="op">=</span> requests.get(url)</span>
<span id="cb27-5"><a href="#cb27-5" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb27-6"><a href="#cb27-6" aria-hidden="true" tabindex="-1"></a><span class="cf">if</span> response.status_code <span class="op">==</span> <span class="dv">200</span>:</span>
<span id="cb27-7"><a href="#cb27-7" aria-hidden="true" tabindex="-1"></a>    data <span class="op">=</span> response.json()</span>
<span id="cb27-8"><a href="#cb27-8" aria-hidden="true" tabindex="-1"></a>    <span class="bu">print</span>(data)</span>
<span id="cb27-9"><a href="#cb27-9" aria-hidden="true" tabindex="-1"></a><span class="cf">else</span>:</span>
<span id="cb27-10"><a href="#cb27-10" aria-hidden="true" tabindex="-1"></a>    <span class="bu">print</span>(<span class="ss">f"Error: </span><span class="sc">{</span>response<span class="sc">.</span>status_code<span class="sc">}</span><span class="ss">"</span>)</span></code></pre></div>
<p>This example makes a GET request to retrieve user data. The response is assumed to be JSON. Error handling is essential; always check the status code. For POST, PUT, and DELETE requests, use the appropriate <code>requests</code> method (<code>requests.post</code>, <code>requests.put</code>, <code>requests.delete</code>), providing the data in the request body as needed (often as JSON using the <code>json</code> parameter). Remember to handle different response status codes and potential errors. The specific details depend on the API’s documentation.</p>
<h3 id="graphql-apis">GraphQL APIs</h3>
<p>GraphQL APIs use a query language to specify exactly the data needed. Requests can be used with GraphQL by sending a POST request with the query in the request body. You’ll typically need to handle the JSON response appropriately.</p>
<p><strong>Example:</strong> Making a GraphQL query:</p>
<div class="sourceCode" id="cb28"><pre class="sourceCode python"><code class="sourceCode python"><span id="cb28-1"><a href="#cb28-1" aria-hidden="true" tabindex="-1"></a><span class="im">import</span> requests</span>
<span id="cb28-2"><a href="#cb28-2" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb28-3"><a href="#cb28-3" aria-hidden="true" tabindex="-1"></a>url <span class="op">=</span> <span class="st">"https://api.example.com/graphql"</span></span>
<span id="cb28-4"><a href="#cb28-4" aria-hidden="true" tabindex="-1"></a>query <span class="op">=</span> <span class="st">"""</span></span>
<span id="cb28-5"><a href="#cb28-5" aria-hidden="true" tabindex="-1"></a><span class="st">    query GetUser($id: ID!) {</span></span>
<span id="cb28-6"><a href="#cb28-6" aria-hidden="true" tabindex="-1"></a><span class="st">        user(id: $id) {</span></span>
<span id="cb28-7"><a href="#cb28-7" aria-hidden="true" tabindex="-1"></a><span class="st">            id</span></span>
<span id="cb28-8"><a href="#cb28-8" aria-hidden="true" tabindex="-1"></a><span class="st">            name</span></span>
<span id="cb28-9"><a href="#cb28-9" aria-hidden="true" tabindex="-1"></a><span class="st">            email</span></span>
<span id="cb28-10"><a href="#cb28-10" aria-hidden="true" tabindex="-1"></a><span class="st">        }</span></span>
<span id="cb28-11"><a href="#cb28-11" aria-hidden="true" tabindex="-1"></a><span class="st">    }</span></span>
<span id="cb28-12"><a href="#cb28-12" aria-hidden="true" tabindex="-1"></a><span class="st">"""</span></span>
<span id="cb28-13"><a href="#cb28-13" aria-hidden="true" tabindex="-1"></a>variables <span class="op">=</span> {<span class="st">"id"</span>: <span class="st">"123"</span>}</span>
<span id="cb28-14"><a href="#cb28-14" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb28-15"><a href="#cb28-15" aria-hidden="true" tabindex="-1"></a>response <span class="op">=</span> requests.post(url, json<span class="op">=</span>{<span class="st">"query"</span>: query, <span class="st">"variables"</span>: variables})</span>
<span id="cb28-16"><a href="#cb28-16" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb28-17"><a href="#cb28-17" aria-hidden="true" tabindex="-1"></a><span class="cf">if</span> response.status_code <span class="op">==</span> <span class="dv">200</span>:</span>
<span id="cb28-18"><a href="#cb28-18" aria-hidden="true" tabindex="-1"></a>    data <span class="op">=</span> response.json()</span>
<span id="cb28-19"><a href="#cb28-19" aria-hidden="true" tabindex="-1"></a>    <span class="bu">print</span>(data[<span class="st">'data'</span>][<span class="st">'user'</span>])</span>
<span id="cb28-20"><a href="#cb28-20" aria-hidden="true" tabindex="-1"></a><span class="cf">else</span>:</span>
<span id="cb28-21"><a href="#cb28-21" aria-hidden="true" tabindex="-1"></a>    <span class="bu">print</span>(<span class="ss">f"Error: </span><span class="sc">{</span>response<span class="sc">.</span>status_code<span class="sc">}</span><span class="ss">"</span>)</span></code></pre></div>
<p>This example sends a GraphQL query to fetch user data. The <code>query</code> and <code>variables</code> are sent as JSON. The response contains the data in the <code>data</code> field. Error handling and checking the response structure are vital. Always consult the GraphQL API’s documentation for specific query structures and response formats.</p>
<h3 id="other-api-types">Other API types</h3>
<p>Requests can be used with other API types as well, though the specifics will depend on the API’s communication protocol and data format. This might include:</p>
<ul>
<li><strong>SOAP APIs:</strong> SOAP APIs typically use XML for communication. You would send XML requests and parse XML responses. Libraries like <code>zeep</code> build upon Requests to simplify interaction with SOAP APIs.</li>
<li><strong>gRPC APIs:</strong> gRPC uses Protocol Buffers for data serialization. Dedicated gRPC libraries in Python (like <code>grpcio</code>) are generally preferred for working with gRPC services.</li>
<li><strong>WebSockets:</strong> For real-time communication, WebSockets are used. Dedicated WebSocket libraries are recommended over using Requests directly for this type of interaction.</li>
</ul>
<p>For any API type beyond the most common RESTful APIs, referring to the API’s specific documentation is crucial to understand the correct request format (headers, body, authentication, etc.) and how to correctly parse the response. Requests provides the fundamental HTTP capabilities, but often, additional libraries or techniques are needed for seamless interaction with more specialized APIs.</p>
<h2 id="appendix">Appendix</h2>
<h3 id="glossary-of-terms">Glossary of Terms</h3>
<ul>
<li><strong>API (Application Programming Interface):</strong> A set of rules and specifications that software programs can follow to communicate with each other.</li>
<li><strong>HTTP (Hypertext Transfer Protocol):</strong> The foundation protocol for data communication on the World Wide Web.</li>
<li><strong>GET Request:</strong> An HTTP method used to retrieve data from a server.</li>
<li><strong>POST Request:</strong> An HTTP method used to send data to a server, often to create or update resources.</li>
<li><strong>PUT Request:</strong> An HTTP method used to update an existing resource on a server.</li>
<li><strong>DELETE Request:</strong> An HTTP method used to delete a resource on a server.</li>
<li><strong>Status Code:</strong> A three-digit number indicating the outcome of an HTTP request (e.g., 200 OK, 404 Not Found, 500 Internal Server Error).</li>
<li><strong>Header:</strong> Metadata included in an HTTP request or response, providing additional information (e.g., Content-Type, User-Agent).</li>
<li><strong>Payload:</strong> The data sent in the body of an HTTP request (e.g., JSON data, form data).</li>
<li><strong>JSON (JavaScript Object Notation):</strong> A lightweight data-interchange format.</li>
<li><strong>XML (Extensible Markup Language):</strong> A markup language for encoding documents in a format that is both human-readable and machine-readable.</li>
<li><strong>Proxy Server:</strong> A server that acts as an intermediary between a client and another server.</li>
<li><strong>SSL/TLS (Secure Sockets Layer/Transport Layer Security):</strong> Protocols that provide secure communication over a computer network.</li>
<li><strong>Cookie:</strong> A small piece of data stored by a website on a user’s computer.</li>
<li><strong>Session:</strong> A mechanism for managing cookies and other state information across multiple requests.</li>
<li><strong>Rate Limiting:</strong> A mechanism to control the number of requests an API client can make within a given time period.</li>
</ul>
<h3 id="common-error-messages-and-solutions">Common Error Messages and Solutions</h3>
<ul>
<li><strong><code>requests.exceptions.RequestException</code>:</strong> This is a base exception for all requests exceptions. Check the specific exception type (e.g., <code>requests.exceptions.ConnectionError</code>, <code>requests.exceptions.Timeout</code>, <code>requests.exceptions.HTTPError</code>) for more detail. Solutions depend on the specific error; common causes include network problems, server issues, incorrect URLs, or timeouts.</li>
<li><strong><code>requests.exceptions.ConnectionError</code>:</strong> A connection problem. Check your network connection, the server’s availability, and the URL for typos.</li>
<li><strong><code>requests.exceptions.Timeout</code>:</strong> The request timed out. Increase the <code>timeout</code> parameter in your request or investigate potential server-side performance issues.</li>
<li><strong><code>requests.exceptions.HTTPError</code>:</strong> The server returned an HTTP error status code (4xx or 5xx). Examine the response status code and details (e.g., <code>response.text</code>, <code>response.json()</code>) for more information. Address the underlying issue reported by the server (e.g., incorrect authentication, missing data).</li>
<li><strong><code>requests.exceptions.SSLError</code>:</strong> An SSL/TLS error. Ensure the SSL certificate is valid. If it’s self-signed, you might need to disable verification (<code>verify=False</code> – use with extreme caution!) or provide a custom certificate authority bundle.</li>
<li><strong><code>requests.exceptions.JSONDecodeError</code>:</strong> The server returned invalid JSON. Check the server’s response and the API documentation. Ensure the server is sending valid JSON data.</li>
</ul>
<h3 id="useful-resources-and-links">Useful Resources and Links</h3>
<ul>
<li><strong>Official Requests Documentation:</strong> <a href="https://requests.readthedocs.io/en/latest/">https://requests.readthedocs.io/en/latest/</a> – The most comprehensive resource for learning about Requests.</li>
<li><strong>Requests GitHub Repository:</strong> <a href="https://github.com/psf/requests">https://github.com/psf/requests</a> – For bug reports, feature requests, and contributing to the project.</li>
<li><strong>Python Documentation (HTTP):</strong> <a href="https://docs.python.org/3/library/http.client.html">https://docs.python.org/3/library/http.client.html</a> – For understanding the underlying HTTP concepts.</li>
<li><strong>Stack Overflow:</strong> Search for “Python Requests” to find solutions to common problems and helpful discussions.</li>
</ul>


<footer>Copyright 2025 - Muthukrishnan</footer>
<script async="" src="https://pagead2.googlesyndication.com/pagead/js/adsbygoogle.js?client=ca-pub-3609399560636561" crossorigin="anonymous"></script>




</body></html>