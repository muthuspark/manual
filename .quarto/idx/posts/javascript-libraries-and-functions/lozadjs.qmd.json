{"title":"Lozad.js - Documentation","markdown":{"yaml":{"title":"Lozad.js - Documentation","categories":["JavaScript Libraries and Functions"]},"headingText":"Introduction","containsRefs":false,"markdown":"\n\n### What is Lozad.js?\n\nLozad.js is a small, fast, and lightweight JavaScript library for lazy loading images.  It uses Intersection Observer API to detect when an image is about to enter the viewport and loads it only then. This improves the initial page load time and overall performance, especially on websites with many images.  It's designed to be unobtrusive and easy to integrate into existing projects.\n\n### Why use Lozad.js?\n\nUsing Lozad.js offers several key advantages:\n\n* **Improved Performance:** By lazy loading images, Lozad.js significantly reduces the initial page load time, leading to a faster and more responsive user experience.  This is crucial for mobile users and those with slower internet connections.\n\n* **Reduced Bandwidth Consumption:** Only images that are visible to the user are loaded, saving bandwidth and improving performance for both the user and the server.\n\n* **Enhanced SEO:** Faster loading times contribute to improved search engine rankings.\n\n* **Easy Integration:** Lozad.js is simple to implement and requires minimal code changes to your existing project.\n\n* **Lightweight:**  The library itself is very small, adding minimal overhead to your website.\n\n* **Support for various image types:** Handles images, iframes and videos.\n\n\n### Key Features\n\n* **Intersection Observer API based:**  Efficiently detects when elements enter the viewport.\n* **Lightweight and performant:** Minimal impact on page load time.\n* **Easy to use API:** Simple configuration and integration.\n* **Customizable:** Offers options for controlling the loading threshold and other behaviors.\n* **Support for various elements:** Not limited to just images; it works with iframes and videos as well.\n* **No dependencies:** Lozad.js works independently.\n\n\n### Installation\n\nLozad.js can be installed using several methods:\n\n* **npm:**\n  ```bash\n  npm install lozad\n  ```\n\n* **yarn:**\n  ```bash\n  yarn add lozad\n  ```\n\n* **CDN:** Include the following `<script>` tag in your HTML file:\n  ```html\n  <script src=\"https://cdn.jsdelivr.net/npm/lozad\"></script>\n  ```  You'll then need to include the appropriate CSS for styling (if required).  Check the Lozad.js documentation for specific styling options.\n\n\nAfter installation, you'll need to initialize Lozad.js and specify the selectors for the elements you want to lazy load. Refer to the usage section of the documentation for detailed instructions.\n\n\n## Getting Started\n\n### Basic Usage\n\nThe most basic usage of Lozad.js involves selecting the elements you want to lazy load and then initializing the library.  Here's a minimal example:\n\n```javascript\nconst observer = lozad(); // lazy loading elements with default configuration\nobserver.observe();\n```\n\nThis assumes you have already included Lozad.js in your project (see Installation section). This code will find all images with the class `lazyload` and load them lazily.  It uses the default configuration. To utilize this, add the `lazyload` class to your image tags:\n\n```html\n<img class=\"lazyload\" data-src=\"image.jpg\" alt=\"My Image\">\n```\n\nThe `data-src` attribute is crucial; it contains the actual image URL.  Lozad.js will replace this attribute with the `src` attribute once the image is ready to be loaded.\n\n\n### Configuration Options\n\nLozad.js offers several configuration options to customize its behavior:\n\n* **`root`:**  The element to observe for intersection changes (default: `document`).  This allows you to only observe elements within a specific container.\n* **`rootMargin`:**  A string defining the margin around the root element (default: '0px'). Useful for preloading images before they enter the viewport.\n* **`threshold`:**  The percentage of the element that needs to be visible to trigger loading (default: 0).  A value of 0 triggers loading as soon as any part of the element is visible.\n* **`selector`:**  A CSS selector specifying the elements to be lazy loaded (default: '.lazyload'). Change this to match your element classes or attributes.\n* **`useNative`:** (Boolean) Whether to use native IntersectionObserver API or a fallback (default: `true`). Set to `false` if you encounter compatibility issues with older browsers.\n* **`loaded`:** Callback function that is executed when an element is loaded.  Useful for adding custom loading behavior.\n* **`error`:** Callback function that is executed when an element fails to load.  Useful for handling errors gracefully.\n* **`autoRender`:**  (Boolean) Automatically starts observing once initialized (default: `true`). Useful for disabling the initialization.\n\n\nThese options can be passed as an object to the `lozad` constructor:\n\n```javascript\nconst observer = lozad({\n  rootMargin: '100px', // preload images when 100px away\n  threshold: 0.5,     // load when 50% of element is visible\n  loaded: function(element) {\n    element.classList.add('loaded'); // add a custom class for styling purposes\n  },\n  error: function(element) {\n    element.classList.add('error'); // add an error class for styling purposes\n  }\n});\nobserver.observe();\n```\n\n### Root Element Selection\n\nTo improve performance, especially on large pages, you can restrict Lozad.js to observe elements within a specific container.  For instance, if you want to lazy load images only inside a container with the ID `images-container`, you would use the `root` option:\n\n```javascript\nconst observer = lozad({\n  root: document.getElementById('images-container')\n});\nobserver.observe();\n```\n\nAll elements matching your selector inside `#images-container` will be lazy loaded.\n\n\n### Loading Placeholder\n\nYou might want to display a placeholder while images are loading.  This can be achieved using CSS and a placeholder image.  Set a background image on your elements:\n\n```html\n<img class=\"lazyload\" data-src=\"image.jpg\" alt=\"My Image\" style=\"background-image: url('placeholder.jpg');\">\n```\n\nEnsure that the placeholder image is appropriately sized, and adjust the CSS to handle the transition once the real image loads.\n\n\n### Example: Image Loading\n\nThis example demonstrates lazy loading images within a specific container:\n\n\n```html\n<div id=\"image-container\">\n  <img class=\"lazyload\" data-src=\"image1.jpg\" alt=\"Image 1\">\n  <img class=\"lazyload\" data-src=\"image2.jpg\" alt=\"Image 2\">\n  <img class=\"lazyload\" data-src=\"image3.jpg\" alt=\"Image 3\">\n</div>\n\n<script>\n  const observer = lozad({\n    root: document.getElementById('image-container'),\n    loaded: function(element) {\n      element.classList.add('loaded');\n    }\n  });\n  observer.observe();\n</script>\n\n<style>\n  .lazyload {\n    width: 200px;\n    height: 150px;\n    background-color: #eee; /* Default placeholder */\n  }\n  .lazyload.loaded {\n    background-color: transparent; /* Remove the background once image loaded*/\n  }\n</style>\n```\n\nRemember to replace `\"image1.jpg\"`, `\"image2.jpg\"`, and `\"image3.jpg\"` with the actual paths to your images.  This example uses simple CSS for the placeholder; more sophisticated techniques can be used for better visual feedback.\n\n\n## Advanced Usage\n\n### Custom Callbacks\n\nLozad.js allows for extensive customization through callback functions.  Beyond the `loaded` and `error` callbacks already mentioned, you can create more sophisticated behavior by leveraging these functions:\n\n* **`load`:** This callback function is triggered *before* the actual image src is set.  It receives the element as an argument, allowing for pre-loading actions or manipulations before the image begins downloading.  Useful for pre-fetching images or adding loading indicators.\n\n* **`unobserve`:**  This callback is invoked when an element is unobserved by the Intersection Observer.  This happens when the element is removed from the DOM or when the `unobserve()` method is called on a specific element.  Useful for cleanup tasks.\n\nExample incorporating `load` and `unobserve`:\n\n```javascript\nconst observer = lozad({\n  loaded: function(picture) {\n    picture.classList.add('loaded');\n  },\n  load: function(picture) {\n      // Perform pre-loading actions here, e.g., display a spinner\n      picture.classList.add('loading');\n  },\n  unobserve: function(picture) {\n    // Clean up after the element is unobserved\n    console.log(\"Element unobserved:\", picture);\n  }\n});\nobserver.observe();\n\n// Later, if needed, unobserve a specific element:\n// const elementToRemove = document.getElementById('myImage');\n// observer.unobserve(elementToRemove);\n```\n\n### Error Handling\n\nThe `error` callback is crucial for gracefully handling situations where images fail to load.  You can use this to display alternative images, error messages, or perform other corrective actions:\n\n\n```javascript\nconst observer = lozad({\n  error: function(element) {\n    element.src = 'error.jpg'; // Replace with a default error image\n    element.classList.add('error');\n  }\n});\nobserver.observe();\n```\n\n\n### Lazy Loading for Different Element Types (iframes, videos)\n\nLozad.js is not limited to images; it works with iframes and videos as well.  Simply use the appropriate tag and `data-src` attribute:\n\n**Iframe:**\n\n```html\n<iframe class=\"lazyload\" data-src=\"https://example.com/iframe\"></iframe>\n```\n\n**Video:**\n\n```html\n<video class=\"lazyload\" poster=\"poster.jpg\" data-src=\"video.mp4\"></video>\n```\n\nRemember to adjust your CSS selectors and potentially add different placeholder styles for different element types.\n\n\n\n### Using Lozad.js with other libraries\n\nLozad.js is designed to work well with other JavaScript libraries.  There should be no conflicts unless the other libraries interfere with the DOM elements Lozad.js operates on or directly manipulate the `Intersection Observer` API. However, ensure proper initialization order; Lozad.js should ideally run *after* other libraries that modify the DOM structure affecting the lazy-loaded elements have finished executing.\n\n### Performance Optimization\n\nFor optimal performance:\n\n* **Use appropriate selectors:** Be specific in your CSS selectors to reduce the number of elements Lozad.js needs to observe.\n* **Limit `rootMargin`:** While useful for pre-loading, excessive `rootMargin` values can impact performance.\n* **Optimize images:**  Ensure your images are appropriately sized and compressed before using Lozad.js.\n* **Consider using a placeholder:**  A small placeholder image can improve the perceived load speed even before the main image is fully loaded.\n* **Batch processing:** If you have a massive amount of images, consider using techniques like batching the observation process for better performance.\n\n### Debugging Tips\n\n* **Inspect the console:**  Check the browser's developer console for any JavaScript errors. Lozad.js usually provides helpful error messages.\n* **Inspect the network tab:** Use your browser's developer tools to analyze network requests to identify if images are being loaded lazily as expected.\n* **Check for conflicts:** If Lozad.js doesn't seem to be working as expected, ensure there are no conflicts with other JavaScript libraries or CSS styles.\n* **Simplify the code:**  If you are having trouble debugging a complex setup, try to isolate the problem by creating a minimal, reproducible example.\n* **Verify your selector:** Ensure that your `selector` option correctly targets the elements you intend to lazy load.  Use your browser's developer tools to check if the selector correctly selects your elements.\n\n\n\n## API Reference\n\n### Lozad Constructor\n\nThe `Lozad` constructor initializes a new lazy loading instance. It accepts a single optional argument: an object containing configuration options (see Configuration Options in the Getting Started section).\n\n```javascript\nconst observer = lozad({\n  // Configuration options here...\n});\n```\n\nIf no options are provided, it uses the default settings.  The returned `observer` object is an instance of `Lozad` and contains methods for controlling the lazy loading process.\n\n\n### observe()\n\nThe `observe()` method starts observing the selected elements. It's automatically called when you create a new `Lozad` instance unless `autoRender` is set to `false` in the constructor options.  You can call it manually if you need to start observation later, for example, after adding new elements to the DOM:\n\n```javascript\nconst observer = lozad(); // Or with config options\n// ... some DOM manipulation ...\nobserver.observe();\n```\n\n\n### unobserve()\n\nThe `unobserve()` method stops observing elements.  You can use it to stop observing all elements:\n\n```javascript\nobserver.unobserve();\n```\n\nOr to stop observing a specific element:\n\n```javascript\nconst element = document.getElementById('myElement');\nobserver.unobserve(element);\n```\n\nThis is useful for performance optimization when elements are removed from the DOM or are no longer needed.\n\n\n### trigger()\n\nThe `trigger()` method forces the loading of all observed elements. This is useful in scenarios where you want to load all images immediately, perhaps after a user action like clicking a button:\n\n```javascript\nobserver.trigger();\n```\n\nThis method bypasses the Intersection Observer and loads all elements regardless of their visibility.\n\n### autoUnobserve()\n\nThe `autoUnobserve()` method configures whether Lozad automatically removes elements from observation when they are unmounted from the DOM. This is enabled by default, but can be disabled for specific use cases. The method accepts a boolean argument specifying whether to enable or disable this behavior.  You can disable this:\n\n```javascript\nobserver.autoUnobserve(false);\n```\nThis can be useful in specific situations where elements are temporarily removed from the DOM and later re-added.\n\n\n### Settings\n\nThe `settings` property of the Lozad instance allows you to access and modify the current configuration options after the instance has been created.  You can read the current settings:\n\n```javascript\nconsole.log(observer.settings);\n```\n\nAnd modify the settings:\n\n\n```javascript\nobserver.settings.rootMargin = '200px';\n```\n\nChanges to the `settings` object after initialization will *not* automatically trigger an update; you may need to call `observe()` again after changing settings, especially for settings that impact observation behavior (e.g., `root`, `rootMargin`, `threshold`).  Changing certain other settings might only affect newly added elements.  Refer to the documentation for specific details on each setting's behavior.\n\n\n\n## Troubleshooting\n\n### Common Issues and Solutions\n\nThis section addresses common problems encountered when using Lozad.js and provides solutions.\n\n\n* **Images not loading:**\n\n    * **Problem:** Images remain unrendered, even when they are in the viewport.\n    * **Solutions:**\n        * **Verify `data-src` attribute:** Double-check that the `data-src` attribute is correctly set for each image and contains the correct image URL.  A typo or incorrect path will prevent the image from loading.\n        * **Check the selector:** Make sure your selector in the `lozad` options targets the correct elements.  Inspect the elements in your browser's developer tools to ensure the selector matches your intended elements.\n        * **Check for JavaScript errors:** Look for any JavaScript errors in your browser's console.  Lozad.js typically provides detailed error messages.\n        * **Ensure Lozad.js is included:** Verify that Lozad.js is correctly included in your HTML file and that there are no conflicts with other scripts.\n        * **Inspect Network Tab:** Check the Network tab of your browser's developer tools to verify that requests are being made for the images and that there are no network errors.\n\n* **Performance issues:**\n\n    * **Problem:** Page load time is slow, or the lazy loading process is impacting performance.\n    * **Solutions:**\n        * **Optimize images:** Compress and resize images to reduce file sizes.  Large images are a significant contributor to slow load times.\n        * **Use a placeholder:** Implement a small, low-resolution placeholder image to improve the perceived load speed.\n        * **Restrict `rootMargin`:** Avoid excessively large `rootMargin` values as they can increase the number of elements observed and hence increase processing overhead.\n        * **Use a more specific selector:**  Broad selectors increase the number of elements observed, impacting performance.  Use more specific selectors to target only the necessary elements.\n        * **Batch processing (advanced):**  Consider advanced techniques to batch processing observations to minimize DOM interactions.\n\n\n* **Incorrect placeholder behavior:**\n\n    * **Problem:**  The placeholder is not displayed correctly, or it remains after the image has loaded.\n    * **Solutions:**\n        * **Check CSS:**  Ensure your CSS rules correctly target the placeholder and the loaded image states.  Use your browser's developer tools to inspect the CSS and ensure it's applied as expected.\n        * **Verify the timing:** The placeholder should be replaced seamlessly with the actual image.  Ensure your CSS transitions are correctly configured.\n\n* **Conflicts with other libraries:**\n\n    * **Problem:**  Lozad.js might conflict with other JavaScript libraries that manipulate the DOM or the Intersection Observer API.\n    * **Solutions:**\n        * **Check for interference:** Analyze the code of both libraries to ensure there are no conflicting operations.\n        * **Load Lozad.js appropriately:**  Load Lozad.js after other libraries that modify the DOM elements targeted by Lozad.js.\n\n\n\n### Debugging Techniques\n\n* **Browser Developer Tools:** Use your browser's developer tools (usually accessed by pressing F12) to debug your code.  The console will display any JavaScript errors, and the network tab allows you to monitor network requests.\n* **Console Logging:** Add `console.log()` statements to your code to track the execution flow and the values of variables.  This can help pinpoint the source of problems.\n* **Minimal Reproducible Example:** Create a minimal example that isolates the issue you're facing.  This makes it easier to identify the cause of the problem and makes it simpler to demonstrate the problem when seeking help.\n* **Step-Through Debugging:**  Use your browser's debugger to step through your code line by line to observe the program's behavior.\n\n### Troubleshooting Specific Element Types\n\n\n* **Iframes:** Ensure the `data-src` attribute of the iframe contains a valid URL.  Iframes may have loading limitations due to security restrictions or the content of the iframe itself.\n* **Videos:**  Verify that the video file is accessible and compatible with the user's browser.  Use a `poster` image attribute to display a placeholder while the video metadata is loaded.  Check the video's MIME type and ensure it's correctly handled by the browser.\n* **Custom Elements:**  Ensure that your custom elements are correctly defined and that the `data-src` attribute is accessible within the custom element's lifecycle.  If you're using a framework, ensure the framework's rendering cycle is correctly integrated with Lozad.js's observation mechanism.\n\nRemember to consult the Lozad.js documentation for more detailed information and specific examples related to your situation.  If you continue to experience problems, consider providing a minimal reproducible example to help others assist you in resolving the issue.\n\n\n## Contributing\n\n### Contributing Guidelines\n\nWe welcome contributions to Lozad.js! To contribute, please follow these guidelines:\n\n1. **Fork the repository:** Create a fork of the Lozad.js repository on GitHub.\n\n2. **Create a branch:** Create a new branch for your changes.  Use descriptive branch names that clearly indicate the purpose of your changes (e.g., `fix/bug-in-selector`, `feat/add-new-option`).\n\n3. **Make your changes:**  Make your changes to the codebase.  Follow the existing coding style and conventions.\n\n4. **Write tests:** Add or update tests to cover your changes.  Ensure that all existing tests pass before submitting your pull request.  Lozad.js uses Jest for testing.\n\n5. **Document your changes:**  Update the documentation to reflect your changes.\n\n6. **Commit your changes:**  Commit your changes with clear and concise commit messages.  Follow the conventional commit message format (e.g., `fix: resolve issue with selector`).\n\n7. **Submit a pull request:** Create a pull request on GitHub, clearly describing the changes you've made and the rationale behind them.\n\n\n### Code of Conduct\n\nWe follow a code of conduct based on the Contributor Covenant.  We expect all contributors to be respectful and professional in their interactions.  Harassment, discrimination, and abusive behavior will not be tolerated.\n\n### Reporting Bugs\n\nWhen reporting bugs, please provide the following information:\n\n* **Lozad.js version:** Specify the version of Lozad.js you are using.\n* **Browser and version:**  Specify the browser and its version where the bug occurs.\n* **Steps to reproduce:**  Clearly describe the steps needed to reproduce the bug.\n* **Expected behavior:**  Describe the expected behavior.\n* **Actual behavior:** Describe the actual behavior.\n* **Error messages:** If any error messages are displayed, include them in your report.\n* **Code snippet:**  If possible, provide a minimal reproducible example demonstrating the bug.\n\n\n### Suggesting Features\n\nWhen suggesting features, please provide the following information:\n\n* **Feature description:**  Clearly describe the feature you're proposing.\n* **Use case:** Explain why this feature is needed and how it will be used.\n* **Implementation details (optional):**  If you have ideas on how to implement the feature, share them.  This is helpful but not mandatory.\n* **Potential drawbacks (optional):**  Consider and mention potential drawbacks or challenges of implementing the feature.\n\n\nWe appreciate your contributions and look forward to working with you to improve Lozad.js!\n\n","srcMarkdownNoYaml":"\n## Introduction\n\n### What is Lozad.js?\n\nLozad.js is a small, fast, and lightweight JavaScript library for lazy loading images.  It uses Intersection Observer API to detect when an image is about to enter the viewport and loads it only then. This improves the initial page load time and overall performance, especially on websites with many images.  It's designed to be unobtrusive and easy to integrate into existing projects.\n\n### Why use Lozad.js?\n\nUsing Lozad.js offers several key advantages:\n\n* **Improved Performance:** By lazy loading images, Lozad.js significantly reduces the initial page load time, leading to a faster and more responsive user experience.  This is crucial for mobile users and those with slower internet connections.\n\n* **Reduced Bandwidth Consumption:** Only images that are visible to the user are loaded, saving bandwidth and improving performance for both the user and the server.\n\n* **Enhanced SEO:** Faster loading times contribute to improved search engine rankings.\n\n* **Easy Integration:** Lozad.js is simple to implement and requires minimal code changes to your existing project.\n\n* **Lightweight:**  The library itself is very small, adding minimal overhead to your website.\n\n* **Support for various image types:** Handles images, iframes and videos.\n\n\n### Key Features\n\n* **Intersection Observer API based:**  Efficiently detects when elements enter the viewport.\n* **Lightweight and performant:** Minimal impact on page load time.\n* **Easy to use API:** Simple configuration and integration.\n* **Customizable:** Offers options for controlling the loading threshold and other behaviors.\n* **Support for various elements:** Not limited to just images; it works with iframes and videos as well.\n* **No dependencies:** Lozad.js works independently.\n\n\n### Installation\n\nLozad.js can be installed using several methods:\n\n* **npm:**\n  ```bash\n  npm install lozad\n  ```\n\n* **yarn:**\n  ```bash\n  yarn add lozad\n  ```\n\n* **CDN:** Include the following `<script>` tag in your HTML file:\n  ```html\n  <script src=\"https://cdn.jsdelivr.net/npm/lozad\"></script>\n  ```  You'll then need to include the appropriate CSS for styling (if required).  Check the Lozad.js documentation for specific styling options.\n\n\nAfter installation, you'll need to initialize Lozad.js and specify the selectors for the elements you want to lazy load. Refer to the usage section of the documentation for detailed instructions.\n\n\n## Getting Started\n\n### Basic Usage\n\nThe most basic usage of Lozad.js involves selecting the elements you want to lazy load and then initializing the library.  Here's a minimal example:\n\n```javascript\nconst observer = lozad(); // lazy loading elements with default configuration\nobserver.observe();\n```\n\nThis assumes you have already included Lozad.js in your project (see Installation section). This code will find all images with the class `lazyload` and load them lazily.  It uses the default configuration. To utilize this, add the `lazyload` class to your image tags:\n\n```html\n<img class=\"lazyload\" data-src=\"image.jpg\" alt=\"My Image\">\n```\n\nThe `data-src` attribute is crucial; it contains the actual image URL.  Lozad.js will replace this attribute with the `src` attribute once the image is ready to be loaded.\n\n\n### Configuration Options\n\nLozad.js offers several configuration options to customize its behavior:\n\n* **`root`:**  The element to observe for intersection changes (default: `document`).  This allows you to only observe elements within a specific container.\n* **`rootMargin`:**  A string defining the margin around the root element (default: '0px'). Useful for preloading images before they enter the viewport.\n* **`threshold`:**  The percentage of the element that needs to be visible to trigger loading (default: 0).  A value of 0 triggers loading as soon as any part of the element is visible.\n* **`selector`:**  A CSS selector specifying the elements to be lazy loaded (default: '.lazyload'). Change this to match your element classes or attributes.\n* **`useNative`:** (Boolean) Whether to use native IntersectionObserver API or a fallback (default: `true`). Set to `false` if you encounter compatibility issues with older browsers.\n* **`loaded`:** Callback function that is executed when an element is loaded.  Useful for adding custom loading behavior.\n* **`error`:** Callback function that is executed when an element fails to load.  Useful for handling errors gracefully.\n* **`autoRender`:**  (Boolean) Automatically starts observing once initialized (default: `true`). Useful for disabling the initialization.\n\n\nThese options can be passed as an object to the `lozad` constructor:\n\n```javascript\nconst observer = lozad({\n  rootMargin: '100px', // preload images when 100px away\n  threshold: 0.5,     // load when 50% of element is visible\n  loaded: function(element) {\n    element.classList.add('loaded'); // add a custom class for styling purposes\n  },\n  error: function(element) {\n    element.classList.add('error'); // add an error class for styling purposes\n  }\n});\nobserver.observe();\n```\n\n### Root Element Selection\n\nTo improve performance, especially on large pages, you can restrict Lozad.js to observe elements within a specific container.  For instance, if you want to lazy load images only inside a container with the ID `images-container`, you would use the `root` option:\n\n```javascript\nconst observer = lozad({\n  root: document.getElementById('images-container')\n});\nobserver.observe();\n```\n\nAll elements matching your selector inside `#images-container` will be lazy loaded.\n\n\n### Loading Placeholder\n\nYou might want to display a placeholder while images are loading.  This can be achieved using CSS and a placeholder image.  Set a background image on your elements:\n\n```html\n<img class=\"lazyload\" data-src=\"image.jpg\" alt=\"My Image\" style=\"background-image: url('placeholder.jpg');\">\n```\n\nEnsure that the placeholder image is appropriately sized, and adjust the CSS to handle the transition once the real image loads.\n\n\n### Example: Image Loading\n\nThis example demonstrates lazy loading images within a specific container:\n\n\n```html\n<div id=\"image-container\">\n  <img class=\"lazyload\" data-src=\"image1.jpg\" alt=\"Image 1\">\n  <img class=\"lazyload\" data-src=\"image2.jpg\" alt=\"Image 2\">\n  <img class=\"lazyload\" data-src=\"image3.jpg\" alt=\"Image 3\">\n</div>\n\n<script>\n  const observer = lozad({\n    root: document.getElementById('image-container'),\n    loaded: function(element) {\n      element.classList.add('loaded');\n    }\n  });\n  observer.observe();\n</script>\n\n<style>\n  .lazyload {\n    width: 200px;\n    height: 150px;\n    background-color: #eee; /* Default placeholder */\n  }\n  .lazyload.loaded {\n    background-color: transparent; /* Remove the background once image loaded*/\n  }\n</style>\n```\n\nRemember to replace `\"image1.jpg\"`, `\"image2.jpg\"`, and `\"image3.jpg\"` with the actual paths to your images.  This example uses simple CSS for the placeholder; more sophisticated techniques can be used for better visual feedback.\n\n\n## Advanced Usage\n\n### Custom Callbacks\n\nLozad.js allows for extensive customization through callback functions.  Beyond the `loaded` and `error` callbacks already mentioned, you can create more sophisticated behavior by leveraging these functions:\n\n* **`load`:** This callback function is triggered *before* the actual image src is set.  It receives the element as an argument, allowing for pre-loading actions or manipulations before the image begins downloading.  Useful for pre-fetching images or adding loading indicators.\n\n* **`unobserve`:**  This callback is invoked when an element is unobserved by the Intersection Observer.  This happens when the element is removed from the DOM or when the `unobserve()` method is called on a specific element.  Useful for cleanup tasks.\n\nExample incorporating `load` and `unobserve`:\n\n```javascript\nconst observer = lozad({\n  loaded: function(picture) {\n    picture.classList.add('loaded');\n  },\n  load: function(picture) {\n      // Perform pre-loading actions here, e.g., display a spinner\n      picture.classList.add('loading');\n  },\n  unobserve: function(picture) {\n    // Clean up after the element is unobserved\n    console.log(\"Element unobserved:\", picture);\n  }\n});\nobserver.observe();\n\n// Later, if needed, unobserve a specific element:\n// const elementToRemove = document.getElementById('myImage');\n// observer.unobserve(elementToRemove);\n```\n\n### Error Handling\n\nThe `error` callback is crucial for gracefully handling situations where images fail to load.  You can use this to display alternative images, error messages, or perform other corrective actions:\n\n\n```javascript\nconst observer = lozad({\n  error: function(element) {\n    element.src = 'error.jpg'; // Replace with a default error image\n    element.classList.add('error');\n  }\n});\nobserver.observe();\n```\n\n\n### Lazy Loading for Different Element Types (iframes, videos)\n\nLozad.js is not limited to images; it works with iframes and videos as well.  Simply use the appropriate tag and `data-src` attribute:\n\n**Iframe:**\n\n```html\n<iframe class=\"lazyload\" data-src=\"https://example.com/iframe\"></iframe>\n```\n\n**Video:**\n\n```html\n<video class=\"lazyload\" poster=\"poster.jpg\" data-src=\"video.mp4\"></video>\n```\n\nRemember to adjust your CSS selectors and potentially add different placeholder styles for different element types.\n\n\n\n### Using Lozad.js with other libraries\n\nLozad.js is designed to work well with other JavaScript libraries.  There should be no conflicts unless the other libraries interfere with the DOM elements Lozad.js operates on or directly manipulate the `Intersection Observer` API. However, ensure proper initialization order; Lozad.js should ideally run *after* other libraries that modify the DOM structure affecting the lazy-loaded elements have finished executing.\n\n### Performance Optimization\n\nFor optimal performance:\n\n* **Use appropriate selectors:** Be specific in your CSS selectors to reduce the number of elements Lozad.js needs to observe.\n* **Limit `rootMargin`:** While useful for pre-loading, excessive `rootMargin` values can impact performance.\n* **Optimize images:**  Ensure your images are appropriately sized and compressed before using Lozad.js.\n* **Consider using a placeholder:**  A small placeholder image can improve the perceived load speed even before the main image is fully loaded.\n* **Batch processing:** If you have a massive amount of images, consider using techniques like batching the observation process for better performance.\n\n### Debugging Tips\n\n* **Inspect the console:**  Check the browser's developer console for any JavaScript errors. Lozad.js usually provides helpful error messages.\n* **Inspect the network tab:** Use your browser's developer tools to analyze network requests to identify if images are being loaded lazily as expected.\n* **Check for conflicts:** If Lozad.js doesn't seem to be working as expected, ensure there are no conflicts with other JavaScript libraries or CSS styles.\n* **Simplify the code:**  If you are having trouble debugging a complex setup, try to isolate the problem by creating a minimal, reproducible example.\n* **Verify your selector:** Ensure that your `selector` option correctly targets the elements you intend to lazy load.  Use your browser's developer tools to check if the selector correctly selects your elements.\n\n\n\n## API Reference\n\n### Lozad Constructor\n\nThe `Lozad` constructor initializes a new lazy loading instance. It accepts a single optional argument: an object containing configuration options (see Configuration Options in the Getting Started section).\n\n```javascript\nconst observer = lozad({\n  // Configuration options here...\n});\n```\n\nIf no options are provided, it uses the default settings.  The returned `observer` object is an instance of `Lozad` and contains methods for controlling the lazy loading process.\n\n\n### observe()\n\nThe `observe()` method starts observing the selected elements. It's automatically called when you create a new `Lozad` instance unless `autoRender` is set to `false` in the constructor options.  You can call it manually if you need to start observation later, for example, after adding new elements to the DOM:\n\n```javascript\nconst observer = lozad(); // Or with config options\n// ... some DOM manipulation ...\nobserver.observe();\n```\n\n\n### unobserve()\n\nThe `unobserve()` method stops observing elements.  You can use it to stop observing all elements:\n\n```javascript\nobserver.unobserve();\n```\n\nOr to stop observing a specific element:\n\n```javascript\nconst element = document.getElementById('myElement');\nobserver.unobserve(element);\n```\n\nThis is useful for performance optimization when elements are removed from the DOM or are no longer needed.\n\n\n### trigger()\n\nThe `trigger()` method forces the loading of all observed elements. This is useful in scenarios where you want to load all images immediately, perhaps after a user action like clicking a button:\n\n```javascript\nobserver.trigger();\n```\n\nThis method bypasses the Intersection Observer and loads all elements regardless of their visibility.\n\n### autoUnobserve()\n\nThe `autoUnobserve()` method configures whether Lozad automatically removes elements from observation when they are unmounted from the DOM. This is enabled by default, but can be disabled for specific use cases. The method accepts a boolean argument specifying whether to enable or disable this behavior.  You can disable this:\n\n```javascript\nobserver.autoUnobserve(false);\n```\nThis can be useful in specific situations where elements are temporarily removed from the DOM and later re-added.\n\n\n### Settings\n\nThe `settings` property of the Lozad instance allows you to access and modify the current configuration options after the instance has been created.  You can read the current settings:\n\n```javascript\nconsole.log(observer.settings);\n```\n\nAnd modify the settings:\n\n\n```javascript\nobserver.settings.rootMargin = '200px';\n```\n\nChanges to the `settings` object after initialization will *not* automatically trigger an update; you may need to call `observe()` again after changing settings, especially for settings that impact observation behavior (e.g., `root`, `rootMargin`, `threshold`).  Changing certain other settings might only affect newly added elements.  Refer to the documentation for specific details on each setting's behavior.\n\n\n\n## Troubleshooting\n\n### Common Issues and Solutions\n\nThis section addresses common problems encountered when using Lozad.js and provides solutions.\n\n\n* **Images not loading:**\n\n    * **Problem:** Images remain unrendered, even when they are in the viewport.\n    * **Solutions:**\n        * **Verify `data-src` attribute:** Double-check that the `data-src` attribute is correctly set for each image and contains the correct image URL.  A typo or incorrect path will prevent the image from loading.\n        * **Check the selector:** Make sure your selector in the `lozad` options targets the correct elements.  Inspect the elements in your browser's developer tools to ensure the selector matches your intended elements.\n        * **Check for JavaScript errors:** Look for any JavaScript errors in your browser's console.  Lozad.js typically provides detailed error messages.\n        * **Ensure Lozad.js is included:** Verify that Lozad.js is correctly included in your HTML file and that there are no conflicts with other scripts.\n        * **Inspect Network Tab:** Check the Network tab of your browser's developer tools to verify that requests are being made for the images and that there are no network errors.\n\n* **Performance issues:**\n\n    * **Problem:** Page load time is slow, or the lazy loading process is impacting performance.\n    * **Solutions:**\n        * **Optimize images:** Compress and resize images to reduce file sizes.  Large images are a significant contributor to slow load times.\n        * **Use a placeholder:** Implement a small, low-resolution placeholder image to improve the perceived load speed.\n        * **Restrict `rootMargin`:** Avoid excessively large `rootMargin` values as they can increase the number of elements observed and hence increase processing overhead.\n        * **Use a more specific selector:**  Broad selectors increase the number of elements observed, impacting performance.  Use more specific selectors to target only the necessary elements.\n        * **Batch processing (advanced):**  Consider advanced techniques to batch processing observations to minimize DOM interactions.\n\n\n* **Incorrect placeholder behavior:**\n\n    * **Problem:**  The placeholder is not displayed correctly, or it remains after the image has loaded.\n    * **Solutions:**\n        * **Check CSS:**  Ensure your CSS rules correctly target the placeholder and the loaded image states.  Use your browser's developer tools to inspect the CSS and ensure it's applied as expected.\n        * **Verify the timing:** The placeholder should be replaced seamlessly with the actual image.  Ensure your CSS transitions are correctly configured.\n\n* **Conflicts with other libraries:**\n\n    * **Problem:**  Lozad.js might conflict with other JavaScript libraries that manipulate the DOM or the Intersection Observer API.\n    * **Solutions:**\n        * **Check for interference:** Analyze the code of both libraries to ensure there are no conflicting operations.\n        * **Load Lozad.js appropriately:**  Load Lozad.js after other libraries that modify the DOM elements targeted by Lozad.js.\n\n\n\n### Debugging Techniques\n\n* **Browser Developer Tools:** Use your browser's developer tools (usually accessed by pressing F12) to debug your code.  The console will display any JavaScript errors, and the network tab allows you to monitor network requests.\n* **Console Logging:** Add `console.log()` statements to your code to track the execution flow and the values of variables.  This can help pinpoint the source of problems.\n* **Minimal Reproducible Example:** Create a minimal example that isolates the issue you're facing.  This makes it easier to identify the cause of the problem and makes it simpler to demonstrate the problem when seeking help.\n* **Step-Through Debugging:**  Use your browser's debugger to step through your code line by line to observe the program's behavior.\n\n### Troubleshooting Specific Element Types\n\n\n* **Iframes:** Ensure the `data-src` attribute of the iframe contains a valid URL.  Iframes may have loading limitations due to security restrictions or the content of the iframe itself.\n* **Videos:**  Verify that the video file is accessible and compatible with the user's browser.  Use a `poster` image attribute to display a placeholder while the video metadata is loaded.  Check the video's MIME type and ensure it's correctly handled by the browser.\n* **Custom Elements:**  Ensure that your custom elements are correctly defined and that the `data-src` attribute is accessible within the custom element's lifecycle.  If you're using a framework, ensure the framework's rendering cycle is correctly integrated with Lozad.js's observation mechanism.\n\nRemember to consult the Lozad.js documentation for more detailed information and specific examples related to your situation.  If you continue to experience problems, consider providing a minimal reproducible example to help others assist you in resolving the issue.\n\n\n## Contributing\n\n### Contributing Guidelines\n\nWe welcome contributions to Lozad.js! To contribute, please follow these guidelines:\n\n1. **Fork the repository:** Create a fork of the Lozad.js repository on GitHub.\n\n2. **Create a branch:** Create a new branch for your changes.  Use descriptive branch names that clearly indicate the purpose of your changes (e.g., `fix/bug-in-selector`, `feat/add-new-option`).\n\n3. **Make your changes:**  Make your changes to the codebase.  Follow the existing coding style and conventions.\n\n4. **Write tests:** Add or update tests to cover your changes.  Ensure that all existing tests pass before submitting your pull request.  Lozad.js uses Jest for testing.\n\n5. **Document your changes:**  Update the documentation to reflect your changes.\n\n6. **Commit your changes:**  Commit your changes with clear and concise commit messages.  Follow the conventional commit message format (e.g., `fix: resolve issue with selector`).\n\n7. **Submit a pull request:** Create a pull request on GitHub, clearly describing the changes you've made and the rationale behind them.\n\n\n### Code of Conduct\n\nWe follow a code of conduct based on the Contributor Covenant.  We expect all contributors to be respectful and professional in their interactions.  Harassment, discrimination, and abusive behavior will not be tolerated.\n\n### Reporting Bugs\n\nWhen reporting bugs, please provide the following information:\n\n* **Lozad.js version:** Specify the version of Lozad.js you are using.\n* **Browser and version:**  Specify the browser and its version where the bug occurs.\n* **Steps to reproduce:**  Clearly describe the steps needed to reproduce the bug.\n* **Expected behavior:**  Describe the expected behavior.\n* **Actual behavior:** Describe the actual behavior.\n* **Error messages:** If any error messages are displayed, include them in your report.\n* **Code snippet:**  If possible, provide a minimal reproducible example demonstrating the bug.\n\n\n### Suggesting Features\n\nWhen suggesting features, please provide the following information:\n\n* **Feature description:**  Clearly describe the feature you're proposing.\n* **Use case:** Explain why this feature is needed and how it will be used.\n* **Implementation details (optional):**  If you have ideas on how to implement the feature, share them.  This is helpful but not mandatory.\n* **Potential drawbacks (optional):**  Consider and mention potential drawbacks or challenges of implementing the feature.\n\n\nWe appreciate your contributions and look forward to working with you to improve Lozad.js!\n\n"},"formats":{"html":{"identifier":{"display-name":"HTML","target-format":"html","base-format":"html"},"execute":{"fig-width":7,"fig-height":5,"fig-format":"retina","fig-dpi":96,"df-print":"default","error":false,"eval":true,"cache":null,"freeze":true,"echo":true,"output":true,"warning":true,"include":true,"keep-md":false,"keep-ipynb":false,"ipynb":null,"enabled":null,"daemon":null,"daemon-restart":false,"debug":false,"ipynb-filters":[],"ipynb-shell-interactivity":null,"plotly-connected":true,"engine":"markdown"},"render":{"keep-tex":false,"keep-typ":false,"keep-source":false,"keep-hidden":false,"prefer-html":false,"output-divs":true,"output-ext":"html","fig-align":"default","fig-pos":null,"fig-env":null,"code-fold":"none","code-overflow":"scroll","code-link":false,"code-line-numbers":false,"code-tools":false,"tbl-colwidths":"auto","merge-includes":true,"inline-includes":false,"preserve-yaml":false,"latex-auto-mk":true,"latex-auto-install":true,"latex-clean":true,"latex-min-runs":1,"latex-max-runs":10,"latex-makeindex":"makeindex","latex-makeindex-opts":[],"latex-tlmgr-opts":[],"latex-input-paths":[],"latex-output-dir":null,"link-external-icon":false,"link-external-newwindow":false,"self-contained-math":false,"format-resources":[],"notebook-links":true},"pandoc":{"standalone":true,"wrap":"none","default-image-extension":"png","to":"html","toc":true,"css":["../../styles.css"],"html-math-method":{"method":"mathjax","url":"https://cdn.jsdelivr.net/npm/mathjax@3/es5/tex-mml-chtml.js"},"include-in-header":["../../favicon.html","../../header.html"],"include-after-body":[{"text":"<script async src=\"https://pagead2.googlesyndication.com/pagead/js/adsbygoogle.js?client=ca-pub-3609399560636561\" crossorigin=\"anonymous\"></script>\n"},"../../footer.html"],"output-file":"lozadjs.html"},"language":{"toc-title-document":"Table of contents","toc-title-website":"On this page","related-formats-title":"Other Formats","related-notebooks-title":"Notebooks","source-notebooks-prefix":"Source","other-links-title":"Other Links","code-links-title":"Code Links","launch-dev-container-title":"Launch Dev Container","launch-binder-title":"Launch Binder","article-notebook-label":"Article Notebook","notebook-preview-download":"Download Notebook","notebook-preview-download-src":"Download Source","notebook-preview-back":"Back to Article","manuscript-meca-bundle":"MECA Bundle","section-title-abstract":"Abstract","section-title-appendices":"Appendices","section-title-footnotes":"Footnotes","section-title-references":"References","section-title-reuse":"Reuse","section-title-copyright":"Copyright","section-title-citation":"Citation","appendix-attribution-cite-as":"For attribution, please cite this work as:","appendix-attribution-bibtex":"BibTeX citation:","appendix-view-license":"View License","title-block-author-single":"Author","title-block-author-plural":"Authors","title-block-affiliation-single":"Affiliation","title-block-affiliation-plural":"Affiliations","title-block-published":"Published","title-block-modified":"Modified","title-block-keywords":"Keywords","callout-tip-title":"Tip","callout-note-title":"Note","callout-warning-title":"Warning","callout-important-title":"Important","callout-caution-title":"Caution","code-summary":"Code","code-tools-menu-caption":"Code","code-tools-show-all-code":"Show All Code","code-tools-hide-all-code":"Hide All Code","code-tools-view-source":"View Source","code-tools-source-code":"Source Code","tools-share":"Share","tools-download":"Download","code-line":"Line","code-lines":"Lines","copy-button-tooltip":"Copy to Clipboard","copy-button-tooltip-success":"Copied!","repo-action-links-edit":"Edit this page","repo-action-links-source":"View source","repo-action-links-issue":"Report an issue","back-to-top":"Back to top","search-no-results-text":"No results","search-matching-documents-text":"matching documents","search-copy-link-title":"Copy link to search","search-hide-matches-text":"Hide additional matches","search-more-match-text":"more match in this document","search-more-matches-text":"more matches in this document","search-clear-button-title":"Clear","search-text-placeholder":"","search-detached-cancel-button-title":"Cancel","search-submit-button-title":"Submit","search-label":"Search","toggle-section":"Toggle section","toggle-sidebar":"Toggle sidebar navigation","toggle-dark-mode":"Toggle dark mode","toggle-reader-mode":"Toggle reader mode","toggle-navigation":"Toggle navigation","crossref-fig-title":"Figure","crossref-tbl-title":"Table","crossref-lst-title":"Listing","crossref-thm-title":"Theorem","crossref-lem-title":"Lemma","crossref-cor-title":"Corollary","crossref-prp-title":"Proposition","crossref-cnj-title":"Conjecture","crossref-def-title":"Definition","crossref-exm-title":"Example","crossref-exr-title":"Exercise","crossref-ch-prefix":"Chapter","crossref-apx-prefix":"Appendix","crossref-sec-prefix":"Section","crossref-eq-prefix":"Equation","crossref-lof-title":"List of Figures","crossref-lot-title":"List of Tables","crossref-lol-title":"List of Listings","environment-proof-title":"Proof","environment-remark-title":"Remark","environment-solution-title":"Solution","listing-page-order-by":"Order By","listing-page-order-by-default":"Default","listing-page-order-by-date-asc":"Oldest","listing-page-order-by-date-desc":"Newest","listing-page-order-by-number-desc":"High to Low","listing-page-order-by-number-asc":"Low to High","listing-page-field-date":"Date","listing-page-field-title":"Title","listing-page-field-description":"Description","listing-page-field-author":"Author","listing-page-field-filename":"File Name","listing-page-field-filemodified":"Modified","listing-page-field-subtitle":"Subtitle","listing-page-field-readingtime":"Reading Time","listing-page-field-wordcount":"Word Count","listing-page-field-categories":"Categories","listing-page-minutes-compact":"{0} min","listing-page-category-all":"All","listing-page-no-matches":"No matching items","listing-page-words":"{0} words","listing-page-filter":"Filter","draft":"Draft"},"metadata":{"lang":"en","fig-responsive":false,"quarto-version":"1.6.39","theme":"pandoc","mermaid":{"theme":"neutral"},"minimal":true,"title-block-banner":true,"page-navigation":true,"license":"MIT","author-meta":"Muthukrishnan","title":"Lozad.js - Documentation","categories":["JavaScript Libraries and Functions"]},"extensions":{"book":{"multiFile":true}}}},"projectFormats":["html"]}