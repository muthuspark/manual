<!DOCTYPE html>
<html xmlns="http://www.w3.org/1999/xhtml" lang="en" xml:lang="en"><head>

<meta charset="utf-8">
<meta name="generator" content="quarto-1.6.39">

<meta name="viewport" content="width=device-width, initial-scale=1.0, user-scalable=yes">

<meta name="author" content="Muthukrishnan">

<title>Packery - Documentation – Technical Manuals</title>
<style>
html {
  color: #1a1a1a;
  background-color: #fdfdfd;
}
body {
  margin: 0 auto;
  max-width: 36em;
  padding-left: 50px;
  padding-right: 50px;
  padding-top: 50px;
  padding-bottom: 50px;
  hyphens: auto;
  overflow-wrap: break-word;
  text-rendering: optimizeLegibility;
  font-kerning: normal;
}
@media (max-width: 600px) {
  body {
    font-size: 0.9em;
    padding: 12px;
  }
  h1 {
    font-size: 1.8em;
  }
}
@media print {
  html {
    background-color: white;
  }
  body {
    background-color: transparent;
    color: black;
    font-size: 12pt;
  }
  p, h2, h3 {
    orphans: 3;
    widows: 3;
  }
  h2, h3, h4 {
    page-break-after: avoid;
  }
}
p {
  margin: 1em 0;
}
a {
  color: #1a1a1a;
}
a:visited {
  color: #1a1a1a;
}
img {
  max-width: 100%;
}
svg {
  height; auto;
  max-width: 100%;
}
h1, h2, h3, h4, h5, h6 {
  margin-top: 1.4em;
}
h5, h6 {
  font-size: 1em;
  font-style: italic;
}
h6 {
  font-weight: normal;
}
ol, ul {
  padding-left: 1.7em;
  margin-top: 1em;
}
li > ol, li > ul {
  margin-top: 0;
}
ul > li:not(:has(> p)) > ul,
ol > li:not(:has(> p)) > ul,
ul > li:not(:has(> p)) > ol,
ol > li:not(:has(> p)) > ol {
  margin-bottom: 0;
}
ul > li:not(:has(> p)) > ul > li:has(> p),
ol > li:not(:has(> p)) > ul > li:has(> p),
ul > li:not(:has(> p)) > ol > li:has(> p),
ol > li:not(:has(> p)) > ol > li:has(> p) {
  margin-top: 1rem;
}
blockquote {
  margin: 1em 0 1em 1.7em;
  padding-left: 1em;
  border-left: 2px solid #e6e6e6;
  color: #606060;
}
code {
  font-family: Menlo, Monaco, Consolas, 'Lucida Console', monospace;
  font-size: 85%;
  margin: 0;
  hyphens: manual;
}
pre {
  margin: 1em 0;
  overflow: auto;
}
pre code {
  padding: 0;
  overflow: visible;
  overflow-wrap: normal;
}
.sourceCode {
 background-color: transparent;
 overflow: visible;
}
hr {
  background-color: #1a1a1a;
  border: none;
  height: 1px;
  margin: 1em 0;
}
table {
  margin: 1em 0;
  border-collapse: collapse;
  width: 100%;
  overflow-x: auto;
  display: block;
  font-variant-numeric: lining-nums tabular-nums;
}
table caption {
  margin-bottom: 0.75em;
}
tbody {
  margin-top: 0.5em;
  border-top: 1px solid #1a1a1a;
  border-bottom: 1px solid #1a1a1a;
}
th {
  border-top: 1px solid #1a1a1a;
  padding: 0.25em 0.5em 0.25em 0.5em;
}
td {
  padding: 0.125em 0.5em 0.25em 0.5em;
}
header {
  margin-bottom: 4em;
  text-align: center;
}
#TOC li {
  list-style: none;
}
#TOC ul {
  padding-left: 1.3em;
}
#TOC > ul {
  padding-left: 0;
}
#TOC a:not(:hover) {
  text-decoration: none;
}
code{white-space: pre-wrap;}
span.smallcaps{font-variant: small-caps;}
div.columns{display: flex; gap: min(4vw, 1.5em);}
div.column{flex: auto; overflow-x: auto;}
div.hanging-indent{margin-left: 1.5em; text-indent: -1.5em;}
ul.task-list{list-style: none;}
ul.task-list li input[type="checkbox"] {
  width: 0.8em;
  margin: 0 0.8em 0.2em -1em; /* quarto-specific, see https://github.com/quarto-dev/quarto-cli/issues/4556 */ 
  vertical-align: middle;
}
/* CSS for syntax highlighting */
pre > code.sourceCode { white-space: pre; position: relative; }
pre > code.sourceCode > span { line-height: 1.25; }
pre > code.sourceCode > span:empty { height: 1.2em; }
.sourceCode { overflow: visible; }
code.sourceCode > span { color: inherit; text-decoration: inherit; }
div.sourceCode { margin: 1em 0; }
pre.sourceCode { margin: 0; }
@media screen {
div.sourceCode { overflow: auto; }
}
@media print {
pre > code.sourceCode { white-space: pre-wrap; }
pre > code.sourceCode > span { display: inline-block; text-indent: -5em; padding-left: 5em; }
}
pre.numberSource code
  { counter-reset: source-line 0; }
pre.numberSource code > span
  { position: relative; left: -4em; counter-increment: source-line; }
pre.numberSource code > span > a:first-child::before
  { content: counter(source-line);
    position: relative; left: -1em; text-align: right; vertical-align: baseline;
    border: none; display: inline-block;
    -webkit-touch-callout: none; -webkit-user-select: none;
    -khtml-user-select: none; -moz-user-select: none;
    -ms-user-select: none; user-select: none;
    padding: 0 4px; width: 4em;
  }
pre.numberSource { margin-left: 3em;  padding-left: 4px; }
div.sourceCode
  {   }
@media screen {
pre > code.sourceCode > span > a:first-child::before { text-decoration: underline; }
}
</style>


<link href="../../favicon.ico" rel="icon">
<script async="" src="https://www.googletagmanager.com/gtag/js?id=G-MXDPF6L5TL"></script>

<script type="text/javascript">

window.dataLayer = window.dataLayer || [];
function gtag(){dataLayer.push(arguments);}
gtag('js', new Date());
gtag('config', 'G-MXDPF6L5TL', { 'anonymize_ip': true});
</script>
<link rel="icon" type="image/x-icon" href="favicon.ico">
<meta property="og:title" content="Packery - Documentation – Technical Manuals">
<meta property="og:site_name" content="Technical Manuals">
</head><body><div class="navigation-header">
    <nav>
        <div>
            <div class="logo">
                <a href="../../" aria-label="Home">
                    <span>Technical Manuals - Home</span>
                </a>
            </div>
            <div class="nav-menu">
                <ul>
                    <li>
                        <a href="../../about.html">
                            <span class="menu-text">About</span>
                        </a>
                    </li>
                    <li> 
                        <a href="https://github.com/muthuspark" target="_blank">
                            <span class="menu-text">Github</span>
                        </a>
                    </li>
                    <li>
                        <a href="https://linkedin.com/in/krimuthu" target="_blank">
                            <span class="menu-text">Linkedin</span>
                        </a>
                    </li>
                    <li>
                        <button onclick="window.print()" class="print-button">
                            <svg width="20" height="20" viewbox="0 0 24 24" fill="none" stroke="currentColor" stroke-width="2">
                              <path d="M6 9V2h12v7"></path>
                              <path d="M6 18H4a2 2 0 01-2-2v-5a2 2 0 012-2h16a2 2 0 012 2v5a2 2 0 01-2 2h-2"></path>
                              <path d="M6 14h12v8H6z"></path>
                            </svg>
                            Print Page
                        </button>
                    </li>
                </ul>
            </div>
        </div>
    </nav>
</div>


<link rel="stylesheet" href="../../styles.css">





<header id="title-block-header">
<h1 class="title">Packery - Documentation</h1>

</header>

<nav id="TOC" role="doc-toc">
    <h2 id="toc-title">On this page</h2>
   
  <ul>
  <li><a href="#what-is-packery" id="toc-what-is-packery">What is Packery?</a></li>
  <li><a href="#key-features-and-benefits" id="toc-key-features-and-benefits">Key Features and Benefits</a></li>
  <li><a href="#comparison-with-other-layout-libraries" id="toc-comparison-with-other-layout-libraries">Comparison with Other Layout Libraries</a></li>
  <li><a href="#setting-up-packery-installation-and-dependencies" id="toc-setting-up-packery-installation-and-dependencies">Setting up Packery: Installation and Dependencies</a></li>
  <li><a href="#getting-started-with-packery" id="toc-getting-started-with-packery">Getting Started with Packery</a>
  <ul>
  <li><a href="#basic-usage-creating-a-packery-layout" id="toc-basic-usage-creating-a-packery-layout">Basic Usage: Creating a Packery Layout</a></li>
  <li><a href="#understanding-the-packery-constructor" id="toc-understanding-the-packery-constructor">Understanding the <code>Packery</code> Constructor</a></li>
  <li><a href="#item-elements-and-data" id="toc-item-elements-and-data">Item Elements and Data</a></li>
  <li><a href="#essential-options-and-configuration" id="toc-essential-options-and-configuration">Essential Options and Configuration</a></li>
  </ul></li>
  <li><a href="#working-with-items" id="toc-working-with-items">Working with Items</a>
  <ul>
  <li><a href="#adding-and-removing-items" id="toc-adding-and-removing-items">Adding and Removing Items</a></li>
  <li><a href="#item-manipulation-positioning-and-resizing" id="toc-item-manipulation-positioning-and-resizing">Item Manipulation: Positioning and Resizing</a></li>
  <li><a href="#handling-item-events" id="toc-handling-item-events">Handling Item Events</a></li>
  <li><a href="#working-with-item-layouts" id="toc-working-with-item-layouts">Working with Item Layouts</a></li>
  <li><a href="#filtering-and-sorting-items" id="toc-filtering-and-sorting-items">Filtering and Sorting Items</a></li>
  </ul></li>
  <li><a href="#layout-options-and-customization" id="toc-layout-options-and-customization">Layout Options and Customization</a>
  <ul>
  <li><a href="#understanding-layout-modes" id="toc-understanding-layout-modes">Understanding Layout Modes</a></li>
  <li><a href="#column-and-row-configuration" id="toc-column-and-row-configuration">Column and Row Configuration</a></li>
  <li><a href="#controlling-item-sizes-and-aspect-ratios" id="toc-controlling-item-sizes-and-aspect-ratios">Controlling Item Sizes and Aspect Ratios</a></li>
  <li><a href="#customizing-gutter-and-spacing" id="toc-customizing-gutter-and-spacing">Customizing Gutter and Spacing</a></li>
  <li><a href="#responsive-layouts-and-breakpoints" id="toc-responsive-layouts-and-breakpoints">Responsive Layouts and Breakpoints</a></li>
  <li><a href="#advanced-layout-options" id="toc-advanced-layout-options">Advanced Layout Options</a></li>
  </ul></li>
  <li><a href="#advanced-techniques-and-integrations" id="toc-advanced-techniques-and-integrations">Advanced Techniques and Integrations</a>
  <ul>
  <li><a href="#integrating-with-other-libraries-e.g.-isotope" id="toc-integrating-with-other-libraries-e.g.-isotope">Integrating with Other Libraries (e.g., Isotope)</a></li>
  <li><a href="#handling-animations-and-transitions" id="toc-handling-animations-and-transitions">Handling Animations and Transitions</a></li>
  <li><a href="#custom-item-renderers-and-templates" id="toc-custom-item-renderers-and-templates">Custom Item Renderers and Templates</a></li>
  <li><a href="#performance-optimization-techniques" id="toc-performance-optimization-techniques">Performance Optimization Techniques</a></li>
  <li><a href="#troubleshooting-and-debugging" id="toc-troubleshooting-and-debugging">Troubleshooting and Debugging</a></li>
  </ul></li>
  <li><a href="#api-reference" id="toc-api-reference">API Reference</a>
  <ul>
  <li><a href="#packery-constructor" id="toc-packery-constructor">Packery Constructor</a></li>
  <li><a href="#methods" id="toc-methods">Methods</a></li>
  <li><a href="#events" id="toc-events">Events</a></li>
  <li><a href="#options" id="toc-options">Options</a></li>
  </ul></li>
  <li><a href="#examples-and-use-cases" id="toc-examples-and-use-cases">Examples and Use Cases</a>
  <ul>
  <li><a href="#simple-grid-layouts" id="toc-simple-grid-layouts">Simple Grid Layouts</a></li>
  <li><a href="#masonry-layouts" id="toc-masonry-layouts">Masonry Layouts</a></li>
  <li><a href="#responsive-image-galleries" id="toc-responsive-image-galleries">Responsive Image Galleries</a></li>
  <li><a href="#dynamic-content-updates" id="toc-dynamic-content-updates">Dynamic Content Updates</a></li>
  <li><a href="#filtering-and-sorting-examples" id="toc-filtering-and-sorting-examples">Filtering and Sorting Examples</a></li>
  </ul></li>
  </ul>
</nav>
<h3 id="what-is-packery">What is Packery?</h3>
<p>Packery is a JavaScript library that makes it easy to create dynamic, responsive, and flexible layouts of items in a container. It’s particularly well-suited for layouts where items have varying sizes and you want them to fit neatly together without gaps. Think of layouts like a Pinterest board, an online portfolio, or a responsive image gallery. Packery uses a bin-packing algorithm to efficiently arrange items, making it performant even with a large number of elements. Unlike grid-based layouts, Packery adapts gracefully to different screen sizes and item dimensions, ensuring an optimal presentation across devices.</p>
<h3 id="key-features-and-benefits">Key Features and Benefits</h3>
<ul>
<li><strong>Responsive and adaptive:</strong> Packery automatically adjusts the layout to fit different screen sizes and window resizes.</li>
<li><strong>Flexible item sizes:</strong> Handles items with varying widths and heights seamlessly.</li>
<li><strong>Easy to use:</strong> A simple and intuitive API makes integration into your projects straightforward.</li>
<li><strong>Efficient bin-packing:</strong> Minimizes wasted space and creates visually appealing layouts.</li>
<li><strong>Filtering and sorting:</strong> Easily filter and sort items to dynamically change the layout.</li>
<li><strong>Animation support:</strong> Provides smooth animation transitions during layout changes.</li>
<li><strong>Lightweight:</strong> Keeps file size small for fast loading times.</li>
<li><strong>Well-documented:</strong> Comprehensive documentation and examples are available to get you started quickly.</li>
</ul>
<h3 id="comparison-with-other-layout-libraries">Comparison with Other Layout Libraries</h3>
<p>Packery differs from other layout libraries like Masonry in its approach to bin-packing. While Masonry uses a column-based approach, Packery uses a more sophisticated algorithm that results in denser and often more aesthetically pleasing layouts, especially when dealing with irregularly sized items. Other libraries might focus on specific use-cases (like grids), while Packery offers flexibility to handle a wider range of layout scenarios. Its strength lies in handling dynamic content where item sizes are not known in advance or can change. Libraries such as Gridster focus on drag-and-drop functionalities which are not the primary function of Packery.</p>
<h3 id="setting-up-packery-installation-and-dependencies">Setting up Packery: Installation and Dependencies</h3>
<p>Packery can be easily integrated into your project using several methods:</p>
<ul>
<li><strong>Using a CDN:</strong> The simplest way to include Packery is by linking to it via a Content Delivery Network (CDN). Include the following <code>&lt;script&gt;</code> tag in your HTML file, replacing <code>&lt;VERSION&gt;</code> with the latest version number (check the Packery website for the current version):</li>
</ul>
<div class="sourceCode" id="cb1"><pre class="sourceCode html"><code class="sourceCode html"><span id="cb1-1"><a href="#cb1-1" aria-hidden="true" tabindex="-1"></a><span class="dt">&lt;</span><span class="kw">script</span><span class="ot"> src</span><span class="op">=</span><span class="st">"https://unpkg.com/packery@</span><span class="er">&lt;</span><span class="st">VERSION&gt;/dist/packery.pkgd.min.js"</span><span class="dt">&gt;&lt;/</span><span class="kw">script</span><span class="dt">&gt;</span></span></code></pre></div>
<ul>
<li><strong>Using npm (Node Package Manager):</strong> If you’re using npm for managing project dependencies, install Packery with:</li>
</ul>
<div class="sourceCode" id="cb2"><pre class="sourceCode bash"><code class="sourceCode bash"><span id="cb2-1"><a href="#cb2-1" aria-hidden="true" tabindex="-1"></a><span class="ex">npm</span> install packery</span></code></pre></div>
<p>Then, import it into your JavaScript file using a module bundler like Webpack or Parcel.</p>
<ul>
<li><strong>Using yarn (Yarn Package Manager):</strong> Similar to npm, you can install Packery using yarn:</li>
</ul>
<div class="sourceCode" id="cb3"><pre class="sourceCode bash"><code class="sourceCode bash"><span id="cb3-1"><a href="#cb3-1" aria-hidden="true" tabindex="-1"></a><span class="ex">yarn</span> add packery</span></code></pre></div>
<p>Packery has a minimal dependency: it requires the existence of a <code>querySelector</code> method, which is widely supported across modern browsers. If you’re supporting very old browsers, you may need to include a polyfill for older browsers lacking this functionality. However, for most modern development this is not usually a concern. No other external libraries are required.</p>
<h2 id="getting-started-with-packery">Getting Started with Packery</h2>
<h3 id="basic-usage-creating-a-packery-layout">Basic Usage: Creating a Packery Layout</h3>
<p>The simplest way to use Packery is to instantiate the <code>Packery</code> class with a container element. This element will hold the items you want to arrange. Here’s a basic example:</p>
<div class="sourceCode" id="cb4"><pre class="sourceCode html"><code class="sourceCode html"><span id="cb4-1"><a href="#cb4-1" aria-hidden="true" tabindex="-1"></a><span class="dt">&lt;</span><span class="kw">div</span><span class="ot"> id</span><span class="op">=</span><span class="st">"packery-container"</span><span class="dt">&gt;</span></span>
<span id="cb4-2"><a href="#cb4-2" aria-hidden="true" tabindex="-1"></a>  <span class="dt">&lt;</span><span class="kw">div</span><span class="ot"> class</span><span class="op">=</span><span class="st">"item"</span><span class="dt">&gt;</span>Item 1<span class="dt">&lt;/</span><span class="kw">div</span><span class="dt">&gt;</span></span>
<span id="cb4-3"><a href="#cb4-3" aria-hidden="true" tabindex="-1"></a>  <span class="dt">&lt;</span><span class="kw">div</span><span class="ot"> class</span><span class="op">=</span><span class="st">"item"</span><span class="dt">&gt;</span>Item 2<span class="dt">&lt;/</span><span class="kw">div</span><span class="dt">&gt;</span></span>
<span id="cb4-4"><a href="#cb4-4" aria-hidden="true" tabindex="-1"></a>  <span class="dt">&lt;</span><span class="kw">div</span><span class="ot"> class</span><span class="op">=</span><span class="st">"item"</span><span class="dt">&gt;</span>Item 3<span class="dt">&lt;/</span><span class="kw">div</span><span class="dt">&gt;</span></span>
<span id="cb4-5"><a href="#cb4-5" aria-hidden="true" tabindex="-1"></a>  <span class="co">&lt;!-- More items... --&gt;</span></span>
<span id="cb4-6"><a href="#cb4-6" aria-hidden="true" tabindex="-1"></a><span class="dt">&lt;/</span><span class="kw">div</span><span class="dt">&gt;</span></span>
<span id="cb4-7"><a href="#cb4-7" aria-hidden="true" tabindex="-1"></a><span class="dt">&lt;</span><span class="kw">script</span><span class="dt">&gt;</span></span>
<span id="cb4-8"><a href="#cb4-8" aria-hidden="true" tabindex="-1"></a>  <span class="kw">const</span> container <span class="op">=</span> <span class="bu">document</span><span class="op">.</span><span class="fu">querySelector</span>(<span class="st">'#packery-container'</span>)<span class="op">;</span></span>
<span id="cb4-9"><a href="#cb4-9" aria-hidden="true" tabindex="-1"></a>  <span class="kw">const</span> packery <span class="op">=</span> <span class="kw">new</span> <span class="fu">Packery</span>( container<span class="op">,</span> {</span>
<span id="cb4-10"><a href="#cb4-10" aria-hidden="true" tabindex="-1"></a>    <span class="co">// options...</span></span>
<span id="cb4-11"><a href="#cb4-11" aria-hidden="true" tabindex="-1"></a>  })<span class="op">;</span></span>
<span id="cb4-12"><a href="#cb4-12" aria-hidden="true" tabindex="-1"></a><span class="dt">&lt;/</span><span class="kw">script</span><span class="dt">&gt;</span></span></code></pre></div>
<p>This code selects the container element with the ID “packery-container” and creates a Packery instance. The second argument is an optional options object (covered in the next section). The items within the container will be automatically laid out by Packery. Note that the <code>item</code> class is used here, but you can use any class name, as long as it’s consistent in your CSS and JavaScript.</p>
<h3 id="understanding-the-packery-constructor">Understanding the <code>Packery</code> Constructor</h3>
<p>The <code>Packery</code> constructor takes two arguments:</p>
<ol type="1">
<li><p><strong><code>element</code> (required):</strong> A DOM element or a selector string representing the container element where the layout will be created. This is where Packery will arrange the items.</p></li>
<li><p><strong><code>options</code> (optional):</strong> An object containing various configuration options. This allows customization of the layout’s behavior, such as column width, item selector, and animation settings (discussed further below).</p></li>
</ol>
<div class="sourceCode" id="cb5"><pre class="sourceCode javascript"><code class="sourceCode javascript"><span id="cb5-1"><a href="#cb5-1" aria-hidden="true" tabindex="-1"></a><span class="kw">const</span> packery <span class="op">=</span> <span class="kw">new</span> <span class="fu">Packery</span>( <span class="st">'#myContainer'</span><span class="op">,</span> {</span>
<span id="cb5-2"><a href="#cb5-2" aria-hidden="true" tabindex="-1"></a>  <span class="co">//options</span></span>
<span id="cb5-3"><a href="#cb5-3" aria-hidden="true" tabindex="-1"></a>} )<span class="op">;</span></span></code></pre></div>
<p>The <code>Packery</code> constructor returns a <code>Packery</code> instance object which provides methods for manipulating and interacting with the layout.</p>
<h3 id="item-elements-and-data">Item Elements and Data</h3>
<p>Packery arranges child elements within your container. By default, Packery assumes all direct child elements of the container are items. You can specify different items using the <code>itemSelector</code> option (see Essential Options and Configuration).</p>
<p>Packery does not inherently understand the content or semantics of each item. It only considers their dimensions in calculating the layout. You’ll use CSS to style items individually. You can add data attributes to your item elements to influence behavior or provide additional context for your own JavaScript interactions. For instance:</p>
<div class="sourceCode" id="cb6"><pre class="sourceCode html"><code class="sourceCode html"><span id="cb6-1"><a href="#cb6-1" aria-hidden="true" tabindex="-1"></a><span class="dt">&lt;</span><span class="kw">div</span><span class="ot"> class</span><span class="op">=</span><span class="st">"item"</span><span class="ot"> data-width</span><span class="op">=</span><span class="st">"2"</span><span class="ot"> data-height</span><span class="op">=</span><span class="st">"1"</span><span class="dt">&gt;</span>Item A<span class="dt">&lt;/</span><span class="kw">div</span><span class="dt">&gt;</span></span></code></pre></div>
<p>This allows you to indicate that “Item A” should occupy a space twice as wide as a default item. You can access this data within your custom JavaScript functions.</p>
<h3 id="essential-options-and-configuration">Essential Options and Configuration</h3>
<p>Several options allow you to customize Packery’s behavior:</p>
<ul>
<li><strong><code>itemSelector</code>:</strong> A selector string that specifies which child elements within the container should be considered layout items. The default is <code>&gt;*</code>.</li>
<li><strong><code>columnWidth</code>:</strong> The width of each column in the layout. This can be a number (in pixels), a string (e.g., “100px”), or a DOM element.</li>
<li><strong><code>rowHeight</code>:</strong> Similar to <code>columnWidth</code>, but specifies the height of each row.</li>
<li><strong><code>percentPosition</code>:</strong> Boolean; if true, positions items using percentages. This is useful for responsive layouts. Defaults to <code>false</code>.</li>
<li><strong><code>gutter</code>:</strong> The spacing (in pixels) between items. This can be a single number for uniform spacing or an object with <code>horizontal</code> and <code>vertical</code> properties for different horizontal and vertical spacing.</li>
<li><strong><code>transitionDuration</code>:</strong> The duration (in milliseconds) of the animation when items are repositioned. Set to <code>0</code> to disable animation.</li>
<li><strong><code>isFitWidth</code>:</strong> Boolean; if true, the container will resize to fit its contents horizontally. Defaults to false.</li>
</ul>
<p>Example using options:</p>
<div class="sourceCode" id="cb7"><pre class="sourceCode javascript"><code class="sourceCode javascript"><span id="cb7-1"><a href="#cb7-1" aria-hidden="true" tabindex="-1"></a><span class="kw">const</span> packery <span class="op">=</span> <span class="kw">new</span> <span class="fu">Packery</span>( <span class="st">'#myContainer'</span><span class="op">,</span> {</span>
<span id="cb7-2"><a href="#cb7-2" aria-hidden="true" tabindex="-1"></a>  <span class="dt">itemSelector</span><span class="op">:</span> <span class="st">'.grid-item'</span><span class="op">,</span></span>
<span id="cb7-3"><a href="#cb7-3" aria-hidden="true" tabindex="-1"></a>  <span class="dt">columnWidth</span><span class="op">:</span> <span class="dv">200</span><span class="op">,</span></span>
<span id="cb7-4"><a href="#cb7-4" aria-hidden="true" tabindex="-1"></a>  <span class="dt">gutter</span><span class="op">:</span> <span class="dv">10</span><span class="op">,</span></span>
<span id="cb7-5"><a href="#cb7-5" aria-hidden="true" tabindex="-1"></a>  <span class="dt">percentPosition</span><span class="op">:</span> <span class="kw">true</span><span class="op">,</span></span>
<span id="cb7-6"><a href="#cb7-6" aria-hidden="true" tabindex="-1"></a>  <span class="dt">transitionDuration</span><span class="op">:</span> <span class="dv">0</span> <span class="co">// disables animation</span></span>
<span id="cb7-7"><a href="#cb7-7" aria-hidden="true" tabindex="-1"></a>})<span class="op">;</span></span></code></pre></div>
<p>Remember to consult the Packery documentation for the most up-to-date list of available options and their detailed explanations.</p>
<h2 id="working-with-items">Working with Items</h2>
<h3 id="adding-and-removing-items">Adding and Removing Items</h3>
<p>Packery provides methods to dynamically add and remove items from the layout.</p>
<ul>
<li><strong>Adding Items:</strong> Use the <code>appended</code> method to add new items to the layout. This method accepts either a single DOM element or an array of DOM elements. Packery will automatically re-layout the items after addition.</li>
</ul>
<div class="sourceCode" id="cb8"><pre class="sourceCode javascript"><code class="sourceCode javascript"><span id="cb8-1"><a href="#cb8-1" aria-hidden="true" tabindex="-1"></a><span class="kw">const</span> newItem <span class="op">=</span> <span class="bu">document</span><span class="op">.</span><span class="fu">createElement</span>(<span class="st">'div'</span>)<span class="op">;</span></span>
<span id="cb8-2"><a href="#cb8-2" aria-hidden="true" tabindex="-1"></a>newItem<span class="op">.</span><span class="at">className</span> <span class="op">=</span> <span class="st">'item'</span><span class="op">;</span></span>
<span id="cb8-3"><a href="#cb8-3" aria-hidden="true" tabindex="-1"></a>newItem<span class="op">.</span><span class="at">innerHTML</span> <span class="op">=</span> <span class="st">'New Item'</span><span class="op">;</span></span>
<span id="cb8-4"><a href="#cb8-4" aria-hidden="true" tabindex="-1"></a>packery<span class="op">.</span><span class="fu">appended</span>( newItem )<span class="op">;</span> <span class="co">// Add single item</span></span>
<span id="cb8-5"><a href="#cb8-5" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb8-6"><a href="#cb8-6" aria-hidden="true" tabindex="-1"></a><span class="kw">const</span> newItems <span class="op">=</span> [item1<span class="op">,</span> item2<span class="op">,</span> item3]<span class="op">;</span></span>
<span id="cb8-7"><a href="#cb8-7" aria-hidden="true" tabindex="-1"></a>packery<span class="op">.</span><span class="fu">appended</span>( newItems )<span class="op">;</span> <span class="co">// Add multiple items</span></span></code></pre></div>
<ul>
<li><strong>Removing Items:</strong> Use the <code>remove</code> method to remove items from the layout. This method accepts a single DOM element. Packery will re-layout the remaining items.</li>
</ul>
<div class="sourceCode" id="cb9"><pre class="sourceCode javascript"><code class="sourceCode javascript"><span id="cb9-1"><a href="#cb9-1" aria-hidden="true" tabindex="-1"></a><span class="kw">const</span> itemToRemove <span class="op">=</span> <span class="bu">document</span><span class="op">.</span><span class="fu">querySelector</span>(<span class="st">'.item-to-remove'</span>)<span class="op">;</span></span>
<span id="cb9-2"><a href="#cb9-2" aria-hidden="true" tabindex="-1"></a>packery<span class="op">.</span><span class="fu">remove</span>(itemToRemove)<span class="op">;</span></span></code></pre></div>
<ul>
<li><strong>Prepend Items:</strong> To add items at the beginning of the layout, use the <code>prepended</code> method. This functions similarly to <code>appended</code>.</li>
</ul>
<div class="sourceCode" id="cb10"><pre class="sourceCode javascript"><code class="sourceCode javascript"><span id="cb10-1"><a href="#cb10-1" aria-hidden="true" tabindex="-1"></a><span class="kw">const</span> newItem <span class="op">=</span> <span class="bu">document</span><span class="op">.</span><span class="fu">createElement</span>(<span class="st">'div'</span>)<span class="op">;</span></span>
<span id="cb10-2"><a href="#cb10-2" aria-hidden="true" tabindex="-1"></a>newItem<span class="op">.</span><span class="at">className</span> <span class="op">=</span> <span class="st">'item'</span><span class="op">;</span></span>
<span id="cb10-3"><a href="#cb10-3" aria-hidden="true" tabindex="-1"></a>newItem<span class="op">.</span><span class="at">innerHTML</span> <span class="op">=</span> <span class="st">'New Item'</span><span class="op">;</span></span>
<span id="cb10-4"><a href="#cb10-4" aria-hidden="true" tabindex="-1"></a>packery<span class="op">.</span><span class="fu">prepended</span>( newItem )<span class="op">;</span></span></code></pre></div>
<h3 id="item-manipulation-positioning-and-resizing">Item Manipulation: Positioning and Resizing</h3>
<p>While Packery automatically handles positioning, you can manually adjust item positions and sizes. Modifying an item’s size will trigger a layout update. For precise control, use the <code>getItemElements</code> method to get the underlying elements for specific items.</p>
<ul>
<li><strong>Resizing:</strong> If you change the dimensions of an item using CSS or JavaScript, call the <code>layout</code> method to update the Packery layout:</li>
</ul>
<div class="sourceCode" id="cb11"><pre class="sourceCode javascript"><code class="sourceCode javascript"><span id="cb11-1"><a href="#cb11-1" aria-hidden="true" tabindex="-1"></a><span class="kw">const</span> item <span class="op">=</span> packery<span class="op">.</span><span class="fu">getItemElements</span>()[<span class="dv">0</span>]<span class="op">;</span> <span class="co">//Get the first item</span></span>
<span id="cb11-2"><a href="#cb11-2" aria-hidden="true" tabindex="-1"></a>item<span class="op">.</span><span class="at">style</span><span class="op">.</span><span class="at">width</span> <span class="op">=</span> <span class="st">'300px'</span><span class="op">;</span></span>
<span id="cb11-3"><a href="#cb11-3" aria-hidden="true" tabindex="-1"></a>packery<span class="op">.</span><span class="fu">layout</span>()<span class="op">;</span></span></code></pre></div>
<ul>
<li><strong>Positioning:</strong> Packery manages item positioning automatically; there is usually no need to directly manipulate item positions unless you have specific requirements beyond its default behavior. However, you can access individual item positions through <code>getItemElements()</code> to gain insights or potentially perform custom animations.</li>
</ul>
<h3 id="handling-item-events">Handling Item Events</h3>
<p>Packery triggers several events that you can listen for to respond to changes in the layout. These events are dispatched on the Packery instance.</p>
<ul>
<li><strong><code>layoutComplete</code>:</strong> Fired after a layout update is complete.</li>
<li><strong><code>arrangeComplete</code>:</strong> Fired when items are arranged.</li>
<li><strong><code>itemTransitionStart</code>:</strong> Fired when an item starts its transition animation.</li>
<li><strong><code>itemTransitionEnd</code>:</strong> Fired when an item finishes its transition animation.</li>
<li><strong><code>packery:dragItemLayout</code>:</strong> Fired during drag and drop operations to handle layout changes.</li>
</ul>
<p>Example of listening for the <code>layoutComplete</code> event:</p>
<div class="sourceCode" id="cb12"><pre class="sourceCode javascript"><code class="sourceCode javascript"><span id="cb12-1"><a href="#cb12-1" aria-hidden="true" tabindex="-1"></a>packery<span class="op">.</span><span class="fu">on</span>(<span class="st">'layoutComplete'</span><span class="op">,</span> <span class="kw">function</span>() {</span>
<span id="cb12-2"><a href="#cb12-2" aria-hidden="true" tabindex="-1"></a>  <span class="bu">console</span><span class="op">.</span><span class="fu">log</span>(<span class="st">'Layout complete!'</span>)<span class="op">;</span></span>
<span id="cb12-3"><a href="#cb12-3" aria-hidden="true" tabindex="-1"></a>})<span class="op">;</span></span></code></pre></div>
<p>Remember to use <code>packery.off()</code> to remove event listeners if necessary.</p>
<h3 id="working-with-item-layouts">Working with Item Layouts</h3>
<p>Packery provides several methods for working with item layouts:</p>
<ul>
<li><strong><code>getItemElements()</code>:</strong> Returns an array of the item elements currently in the layout.</li>
<li><strong><code>getItem(element)</code>:</strong> Returns the Packery item object for a given element.</li>
<li><strong><code>getLayoutRect(item)</code>:</strong> Returns the layout rectangle (x, y, width, height) of a given item.</li>
<li><strong><code>layout()</code>:</strong> Forces Packery to re-calculate and update the layout.</li>
</ul>
<h3 id="filtering-and-sorting-items">Filtering and Sorting Items</h3>
<p>While Packery doesn’t directly handle filtering and sorting, you can combine it with other JavaScript libraries or techniques to achieve this. You can hide and show items using CSS classes and then call <code>layout()</code> to update the Packery layout, effectively filtering items. For sorting, you would manipulate the DOM order of your items and then call <code>layout()</code> to refresh the layout. This approach gives you full control over how filtering and sorting are implemented.</p>
<h2 id="layout-options-and-customization">Layout Options and Customization</h2>
<h3 id="understanding-layout-modes">Understanding Layout Modes</h3>
<p>Packery primarily uses a bin-packing layout algorithm. It doesn’t offer distinct “modes” in the way some grid systems might (e.g., masonry, fitting, etc.). The core algorithm adapts to the sizes of the items you provide, aiming for the most efficient arrangement. However, the appearance of the layout is highly influenced by the configuration options you set (columnWidth, rowHeight, gutter, etc.), allowing you to achieve various visual effects.</p>
<h3 id="column-and-row-configuration">Column and Row Configuration</h3>
<p>The <code>columnWidth</code> and <code>rowHeight</code> options are central to controlling the layout. These options determine the grid-like structure that Packery uses as a basis for placement.</p>
<ul>
<li><p><strong><code>columnWidth</code>:</strong> This defines the preferred width of each column in the layout. If you set <code>columnWidth</code>, Packery will attempt to place items within columns of this width. You can specify a numeric value (pixels), a string value (e.g., “100px”), or a DOM element whose width will be used.</p></li>
<li><p><strong><code>rowHeight</code>:</strong> This works similarly to <code>columnWidth</code>, defining the preferred height of each row. If not specified, Packery will infer row heights based on the items.</p></li>
</ul>
<p>If neither <code>columnWidth</code> nor <code>rowHeight</code> is defined, Packery will attempt to determine an optimal layout based on the sizes of the items.</p>
<h3 id="controlling-item-sizes-and-aspect-ratios">Controlling Item Sizes and Aspect Ratios</h3>
<p>While Packery arranges items based on their dimensions, you control the dimensions themselves using CSS. You can set fixed sizes, percentages, or use flexible units like <code>vw</code> or <code>vh</code> to create responsive item sizes. Remember to call <code>packery.layout()</code> after making any changes to item sizes.</p>
<p>For greater control over item aspect ratios, consider using CSS techniques like <code>padding-top</code> with a percentage value. This can create the appearance of aspect ratio constraints without requiring explicit width and height settings. For example, to maintain a 16:9 aspect ratio:</p>
<div class="sourceCode" id="cb13"><pre class="sourceCode css"><code class="sourceCode css"><span id="cb13-1"><a href="#cb13-1" aria-hidden="true" tabindex="-1"></a><span class="fu">.item</span> {</span>
<span id="cb13-2"><a href="#cb13-2" aria-hidden="true" tabindex="-1"></a>  <span class="kw">position</span><span class="ch">:</span> <span class="dv">relative</span><span class="op">;</span></span>
<span id="cb13-3"><a href="#cb13-3" aria-hidden="true" tabindex="-1"></a>  <span class="kw">padding-bottom</span><span class="ch">:</span> <span class="dv">56.25</span><span class="dt">%</span><span class="op">;</span> <span class="co">/* 9/16 = 0.5625 */</span></span>
<span id="cb13-4"><a href="#cb13-4" aria-hidden="true" tabindex="-1"></a>}</span>
<span id="cb13-5"><a href="#cb13-5" aria-hidden="true" tabindex="-1"></a><span class="fu">.item</span> <span class="op">&gt;</span> img {</span>
<span id="cb13-6"><a href="#cb13-6" aria-hidden="true" tabindex="-1"></a>  <span class="kw">position</span><span class="ch">:</span> <span class="dv">absolute</span><span class="op">;</span></span>
<span id="cb13-7"><a href="#cb13-7" aria-hidden="true" tabindex="-1"></a>  <span class="kw">top</span><span class="ch">:</span> <span class="dv">0</span><span class="op">;</span></span>
<span id="cb13-8"><a href="#cb13-8" aria-hidden="true" tabindex="-1"></a>  <span class="kw">left</span><span class="ch">:</span> <span class="dv">0</span><span class="op">;</span></span>
<span id="cb13-9"><a href="#cb13-9" aria-hidden="true" tabindex="-1"></a>  <span class="kw">width</span><span class="ch">:</span> <span class="dv">100</span><span class="dt">%</span><span class="op">;</span></span>
<span id="cb13-10"><a href="#cb13-10" aria-hidden="true" tabindex="-1"></a>  <span class="kw">height</span><span class="ch">:</span> <span class="dv">100</span><span class="dt">%</span><span class="op">;</span></span>
<span id="cb13-11"><a href="#cb13-11" aria-hidden="true" tabindex="-1"></a>}</span></code></pre></div>
<h3 id="customizing-gutter-and-spacing">Customizing Gutter and Spacing</h3>
<p>The <code>gutter</code> option controls the spacing between items. You can provide a single numeric value (pixels) for uniform horizontal and vertical spacing. For more granular control, provide an object:</p>
<div class="sourceCode" id="cb14"><pre class="sourceCode javascript"><code class="sourceCode javascript"><span id="cb14-1"><a href="#cb14-1" aria-hidden="true" tabindex="-1"></a><span class="kw">const</span> packery <span class="op">=</span> <span class="kw">new</span> <span class="fu">Packery</span>( <span class="st">'#grid'</span><span class="op">,</span> {</span>
<span id="cb14-2"><a href="#cb14-2" aria-hidden="true" tabindex="-1"></a>  <span class="dt">gutter</span><span class="op">:</span> <span class="dv">10</span><span class="op">,</span> <span class="co">// Uniform 10px gutter</span></span>
<span id="cb14-3"><a href="#cb14-3" aria-hidden="true" tabindex="-1"></a>  <span class="co">//or</span></span>
<span id="cb14-4"><a href="#cb14-4" aria-hidden="true" tabindex="-1"></a>  <span class="dt">gutter</span><span class="op">:</span> { <span class="dt">horizontal</span><span class="op">:</span> <span class="dv">20</span><span class="op">,</span> <span class="dt">vertical</span><span class="op">:</span> <span class="dv">10</span> } <span class="co">//Different horizontal and vertical gutters</span></span>
<span id="cb14-5"><a href="#cb14-5" aria-hidden="true" tabindex="-1"></a>})<span class="op">;</span></span></code></pre></div>
<p>This allows you to have different spacing between columns and rows.</p>
<h3 id="responsive-layouts-and-breakpoints">Responsive Layouts and Breakpoints</h3>
<p>Packery itself isn’t directly tied to specific breakpoints. Its responsiveness comes from using CSS media queries to change item sizes, <code>columnWidth</code>, <code>rowHeight</code>, or other options based on screen size. Combine Packery with CSS media queries to adapt the layout to different screen sizes:</p>
<div class="sourceCode" id="cb15"><pre class="sourceCode css"><code class="sourceCode css"><span id="cb15-1"><a href="#cb15-1" aria-hidden="true" tabindex="-1"></a><span class="co">/* Styles for screens wider than 768px */</span></span>
<span id="cb15-2"><a href="#cb15-2" aria-hidden="true" tabindex="-1"></a><span class="im">@media</span> <span class="fu">(</span><span class="kw">min-width</span><span class="ch">:</span> <span class="dv">768</span><span class="dt">px</span><span class="fu">)</span> {</span>
<span id="cb15-3"><a href="#cb15-3" aria-hidden="true" tabindex="-1"></a>  <span class="pp">#packery-container</span> {</span>
<span id="cb15-4"><a href="#cb15-4" aria-hidden="true" tabindex="-1"></a>    <span class="kw">column-width</span><span class="ch">:</span> <span class="dv">200</span><span class="dt">px</span><span class="op">;</span></span>
<span id="cb15-5"><a href="#cb15-5" aria-hidden="true" tabindex="-1"></a>  }</span>
<span id="cb15-6"><a href="#cb15-6" aria-hidden="true" tabindex="-1"></a>  <span class="fu">.item</span> {</span>
<span id="cb15-7"><a href="#cb15-7" aria-hidden="true" tabindex="-1"></a>    <span class="kw">width</span><span class="ch">:</span> <span class="dv">100</span><span class="dt">%</span><span class="op">;</span> <span class="co">/*adjusting item size for bigger screens*/</span></span>
<span id="cb15-8"><a href="#cb15-8" aria-hidden="true" tabindex="-1"></a>  }</span>
<span id="cb15-9"><a href="#cb15-9" aria-hidden="true" tabindex="-1"></a>}</span>
<span id="cb15-10"><a href="#cb15-10" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb15-11"><a href="#cb15-11" aria-hidden="true" tabindex="-1"></a><span class="co">/* Styles for screens smaller than 768px */</span></span>
<span id="cb15-12"><a href="#cb15-12" aria-hidden="true" tabindex="-1"></a><span class="im">@media</span> <span class="fu">(</span><span class="kw">max-width</span><span class="ch">:</span> <span class="dv">767</span><span class="dt">px</span><span class="fu">)</span> {</span>
<span id="cb15-13"><a href="#cb15-13" aria-hidden="true" tabindex="-1"></a>  <span class="pp">#packery-container</span> {</span>
<span id="cb15-14"><a href="#cb15-14" aria-hidden="true" tabindex="-1"></a>    <span class="kw">column-width</span><span class="ch">:</span> <span class="dv">150</span><span class="dt">px</span><span class="op">;</span></span>
<span id="cb15-15"><a href="#cb15-15" aria-hidden="true" tabindex="-1"></a>  }</span>
<span id="cb15-16"><a href="#cb15-16" aria-hidden="true" tabindex="-1"></a>    <span class="fu">.item</span> {</span>
<span id="cb15-17"><a href="#cb15-17" aria-hidden="true" tabindex="-1"></a>    <span class="kw">width</span><span class="ch">:</span> <span class="dv">100</span><span class="dt">%</span><span class="op">;</span> <span class="co">/*adjusting item size for smaller screens*/</span></span>
<span id="cb15-18"><a href="#cb15-18" aria-hidden="true" tabindex="-1"></a>  }</span>
<span id="cb15-19"><a href="#cb15-19" aria-hidden="true" tabindex="-1"></a>}</span></code></pre></div>
<p>Remember to call <code>packery.layout()</code> after resizing the window or triggering a media query change, to ensure the layout updates accordingly. For more complex scenarios, consider using a CSS framework with built-in breakpoint utilities.</p>
<h3 id="advanced-layout-options">Advanced Layout Options</h3>
<p>Beyond the core options, consider exploring these:</p>
<ul>
<li><strong><code>isFitWidth</code>:</strong> Setting this to <code>true</code> makes the container resize horizontally to fit its contents. Useful for fluid layouts that adapt to the available width.</li>
<li><strong><code>percentPosition</code>:</strong> Setting to <code>true</code> uses percentages for item positioning instead of pixels. Makes responsive layout easier.</li>
<li><strong><code>originLeft</code> / <code>originTop</code>:</strong> These options (boolean) control whether items are positioned from the left or top edge, useful for creating layouts that flow differently.</li>
<li><strong><code>stamp</code> / <code>unstamp</code>:</strong> Allow you to add ‘stamped’ elements that are part of the layout but are not considered layout items themselves (e.g., static headers or footers). These are helpful for reserving space for elements that won’t be repositioned. Refer to the official documentation for usage.</li>
</ul>
<p>Experimenting with these advanced options provides fine-grained control over layout behavior. Remember to consult the Packery documentation for the most up-to-date information on all options and their functionalities.</p>
<h2 id="advanced-techniques-and-integrations">Advanced Techniques and Integrations</h2>
<h3 id="integrating-with-other-libraries-e.g.-isotope">Integrating with Other Libraries (e.g., Isotope)</h3>
<p>Packery works well in conjunction with other JavaScript libraries, particularly Isotope. Isotope is a filtering and sorting library that can be combined with Packery to create highly interactive and dynamic layouts. Isotope uses Packery (or other layout engines) as its underlying layout engine. Using Isotope allows you to filter and sort items, and Packery handles the re-layout efficiently.</p>
<p>To use Packery with Isotope:</p>
<ol type="1">
<li>Include both Isotope and Packery in your project.</li>
<li>Initialize Isotope with <code>layoutMode: 'packery'</code> and the Packery options you want to use.</li>
</ol>
<div class="sourceCode" id="cb16"><pre class="sourceCode javascript"><code class="sourceCode javascript"><span id="cb16-1"><a href="#cb16-1" aria-hidden="true" tabindex="-1"></a><span class="fu">$</span>(<span class="st">'#container'</span>)<span class="op">.</span><span class="fu">isotope</span>({</span>
<span id="cb16-2"><a href="#cb16-2" aria-hidden="true" tabindex="-1"></a>  <span class="dt">layoutMode</span><span class="op">:</span> <span class="st">'packery'</span><span class="op">,</span></span>
<span id="cb16-3"><a href="#cb16-3" aria-hidden="true" tabindex="-1"></a>  <span class="dt">packery</span><span class="op">:</span> {</span>
<span id="cb16-4"><a href="#cb16-4" aria-hidden="true" tabindex="-1"></a>    <span class="dt">columnWidth</span><span class="op">:</span> <span class="dv">200</span><span class="op">,</span></span>
<span id="cb16-5"><a href="#cb16-5" aria-hidden="true" tabindex="-1"></a>    <span class="dt">gutter</span><span class="op">:</span> <span class="dv">10</span></span>
<span id="cb16-6"><a href="#cb16-6" aria-hidden="true" tabindex="-1"></a>  }</span>
<span id="cb16-7"><a href="#cb16-7" aria-hidden="true" tabindex="-1"></a>})<span class="op">;</span></span></code></pre></div>
<p>Isotope then handles filtering and sorting, and Packery manages the layout after each change.</p>
<h3 id="handling-animations-and-transitions">Handling Animations and Transitions</h3>
<p>Packery provides smooth animation during layout changes. The <code>transitionDuration</code> option controls the animation speed. Setting it to <code>0</code> disables animations. For more sophisticated animations, consider using CSS transitions or animation libraries like GSAP (GreenSock Animation Platform) to create custom animations synchronized with Packery’s layout updates. You can listen for Packery events like <code>itemTransitionStart</code> and <code>itemTransitionEnd</code> to trigger additional animations or effects.</p>
<h3 id="custom-item-renderers-and-templates">Custom Item Renderers and Templates</h3>
<p>Packery itself doesn’t provide a built-in templating engine. To create custom item renderers, you’ll need to use a templating library (like Handlebars, Mustache, or a simpler approach using JavaScript string manipulation) and integrate it into your workflow. Create your items using your templating engine, add them to the Packery container using the <code>appended</code> method, and call <code>packery.layout()</code> to update the layout.</p>
<h3 id="performance-optimization-techniques">Performance Optimization Techniques</h3>
<p>For large datasets, optimizing Packery’s performance is crucial. Consider these techniques:</p>
<ul>
<li><strong>Reduce the number of layout updates:</strong> Avoid unnecessary calls to <code>packery.layout()</code>. Batch updates when possible.</li>
<li><strong>Optimize item sizes:</strong> If possible, pre-calculate or cache item sizes to avoid repeated calculations.</li>
<li><strong>Use efficient CSS:</strong> Avoid complex or computationally intensive CSS styles that could impact performance.</li>
<li><strong>Lazy loading:</strong> Load items only when they’re needed, using techniques such as lazy loading images.</li>
<li><strong>Debouncing/throttling:</strong> If you’re responding to window resize or other events that trigger frequent layout updates, use debouncing or throttling to limit the rate of layout calculations.</li>
</ul>
<h3 id="troubleshooting-and-debugging">Troubleshooting and Debugging</h3>
<ul>
<li><strong>Inspect your HTML:</strong> Ensure your container and items have the correct structure and classes.</li>
<li><strong>Check your CSS:</strong> Verify that your CSS isn’t interfering with Packery’s layout. Inspect elements with your browser’s developer tools to see computed styles.</li>
<li><strong>Use the browser’s developer console:</strong> Check for JavaScript errors or warnings. Use <code>console.log()</code> statements to track the state of variables and the flow of your code.</li>
<li><strong>Consult the Packery documentation:</strong> The documentation contains detailed explanations of how to use Packery and how to troubleshoot common problems.</li>
<li><strong>Simplify your code:</strong> Try reducing your code to a minimal example to isolate the cause of any issues. Start with a very basic Packery implementation and gradually add your code to pinpoint the problematic parts.</li>
<li><strong>Test with smaller datasets:</strong> If you are experiencing performance issues, start with a reduced number of items to see if the problem persists.</li>
</ul>
<p>Remember to carefully read the error messages in your browser’s developer console, as they often provide valuable clues to resolve issues. Debugging often involves a combination of careful code review, inspecting your HTML and CSS, and using the browser’s developer tools.</p>
<h2 id="api-reference">API Reference</h2>
<h3 id="packery-constructor">Packery Constructor</h3>
<p>The Packery constructor creates a new Packery instance.</p>
<div class="sourceCode" id="cb17"><pre class="sourceCode javascript"><code class="sourceCode javascript"><span id="cb17-1"><a href="#cb17-1" aria-hidden="true" tabindex="-1"></a><span class="kw">new</span> <span class="fu">Packery</span>( element [<span class="op">,</span> options] )</span></code></pre></div>
<ul>
<li><strong><code>element</code> (required):</strong> A DOM element or selector string representing the container element.</li>
<li><strong><code>options</code> (optional):</strong> An object containing configuration options (see Options section below).</li>
</ul>
<p>The constructor returns a Packery instance object.</p>
<h3 id="methods">Methods</h3>
<ul>
<li><p><strong><code>bindResize()</code>:</strong> Binds a resize event listener to the window, triggering a layout update when the window resizes. It’s automatically called by the constructor if you don’t disable it via options.</p></li>
<li><p><strong><code>destroy()</code>:</strong> Removes Packery from the element, unbinding events, and cleaning up resources.</p></li>
<li><p><strong><code>getItemElements()</code>:</strong> Returns an array of the item elements currently in the layout.</p></li>
<li><p><strong><code>getPackery()</code>:</strong> Returns the Packery instance itself (useful for chaining or accessing methods in certain contexts).</p></li>
<li><p><strong><code>layout()</code>:</strong> Forces Packery to recalculate and update the layout. Call this after adding, removing, or resizing items.</p></li>
<li><p><strong><code>on(eventName, handler)</code>:</strong> Binds an event listener to the Packery instance. (See Events section below).</p></li>
<li><p><strong><code>off(eventName, handler)</code>:</strong> Removes an event listener from the Packery instance.</p></li>
<li><p><strong><code>prepend(elements)</code>:</strong> Prepends elements to the layout. <code>elements</code> can be a single element or an array of elements.</p></li>
<li><p><strong><code>remove(elements)</code>:</strong> Removes elements from the layout. <code>elements</code> can be a single element or an array of elements.</p></li>
<li><p><strong><code>reloadItems()</code>:</strong> Reloads the items from the container, useful if the contents of the container change dynamically (without using <code>prepend</code> or <code>append</code>).</p></li>
<li><p><strong><code>render()</code>:</strong> Renders the layout. Usually called automatically, but useful to call after significant changes.</p></li>
<li><p><strong><code>getSize()</code>:</strong> Returns the size (width and height) of the Packery container.</p></li>
<li><p><strong><code>stamp(elements)</code>:</strong> Stamps elements into the layout. Stamped elements are part of the layout but are not considered layout items themselves; they reserve space but won’t be repositioned.</p></li>
<li><p><strong><code>unstamp(elements)</code>:</strong> Removes the stamped status of elements.</p></li>
<li><p><strong><code>updateLayout()</code>:</strong> Updates the layout and triggers layoutComplete event. This method is now deprecated; use <code>layout()</code> instead.</p></li>
</ul>
<h3 id="events">Events</h3>
<p>Packery emits several custom events on its instance. You can listen for these using the <code>on()</code> method.</p>
<ul>
<li><strong><code>layoutComplete</code>:</strong> Fired when a layout update is complete.</li>
<li><strong><code>arrangeComplete</code>:</strong> Fired when items are arranged.</li>
<li><strong><code>itemTransitionStart</code>:</strong> Fired when an item’s transition animation starts.</li>
<li><strong><code>itemTransitionEnd</code>:</strong> Fired when an item’s transition animation ends.</li>
<li><strong><code>packery:dragItemLayout</code>:</strong> Fired during drag-and-drop operations (if integrated with a drag-and-drop library) to handle layout changes.</li>
</ul>
<p>Example of listening for the <code>layoutComplete</code> event:</p>
<div class="sourceCode" id="cb18"><pre class="sourceCode javascript"><code class="sourceCode javascript"><span id="cb18-1"><a href="#cb18-1" aria-hidden="true" tabindex="-1"></a>packery<span class="op">.</span><span class="fu">on</span>( <span class="st">'layoutComplete'</span><span class="op">,</span> <span class="kw">function</span>( data ) {</span>
<span id="cb18-2"><a href="#cb18-2" aria-hidden="true" tabindex="-1"></a>  <span class="bu">console</span><span class="op">.</span><span class="fu">log</span>( <span class="st">'layout is complete'</span><span class="op">,</span> data )<span class="op">;</span></span>
<span id="cb18-3"><a href="#cb18-3" aria-hidden="true" tabindex="-1"></a>})<span class="op">;</span></span></code></pre></div>
<h3 id="options">Options</h3>
<p>These options are passed as the second argument to the Packery constructor.</p>
<ul>
<li><strong><code>columnWidth</code>:</strong> Number, string, or DOM element. The width of each column.</li>
<li><strong><code>rowHeight</code>:</strong> Number or string. The height of each row.</li>
<li><strong><code>itemSelector</code>:</strong> String. Selector string that specifies the item elements within the container. Defaults to <code>&gt;*</code>.</li>
<li><strong><code>gutter</code>:</strong> Number or object. The spacing between items. Can be a single number (for uniform spacing) or an object <code>{ horizontal: x, vertical: y }</code>.</li>
<li><strong><code>percentPosition</code>:</strong> Boolean. Whether to use percentages for item positioning. Defaults to <code>false</code>.</li>
<li><strong><code>transitionDuration</code>:</strong> Number. The duration of transition animations in milliseconds. Defaults to a value defined in Packery.</li>
<li><strong><code>isFitWidth</code>:</strong> Boolean. Whether to resize the container to fit its contents horizontally. Defaults to <code>false</code>.</li>
<li><strong><code>originLeft</code>:</strong> Boolean. Whether to start positioning items from the left. Defaults to <code>true</code>.</li>
<li><strong><code>originTop</code>:</strong> Boolean. Whether to start positioning items from the top. Defaults to <code>true</code>.</li>
<li><strong><code>isHorizontal</code>:</strong> Boolean. Whether to lay out horizontally (rows) instead of vertically (columns) - not recommended to use.</li>
</ul>
<p>Remember to consult the official Packery documentation for the most current and detailed API reference, as specifics might change between versions.</p>
<h2 id="examples-and-use-cases">Examples and Use Cases</h2>
<h3 id="simple-grid-layouts">Simple Grid Layouts</h3>
<p>Packery excels at creating clean and efficient grid layouts, even with items of varying sizes. Here’s a basic example demonstrating a simple grid:</p>
<div class="sourceCode" id="cb19"><pre class="sourceCode html"><code class="sourceCode html"><span id="cb19-1"><a href="#cb19-1" aria-hidden="true" tabindex="-1"></a><span class="dt">&lt;</span><span class="kw">div</span><span class="ot"> id</span><span class="op">=</span><span class="st">"grid"</span><span class="dt">&gt;</span></span>
<span id="cb19-2"><a href="#cb19-2" aria-hidden="true" tabindex="-1"></a>  <span class="dt">&lt;</span><span class="kw">div</span><span class="ot"> class</span><span class="op">=</span><span class="st">"grid-item"</span><span class="dt">&gt;</span>Item 1<span class="dt">&lt;/</span><span class="kw">div</span><span class="dt">&gt;</span></span>
<span id="cb19-3"><a href="#cb19-3" aria-hidden="true" tabindex="-1"></a>  <span class="dt">&lt;</span><span class="kw">div</span><span class="ot"> class</span><span class="op">=</span><span class="st">"grid-item"</span><span class="dt">&gt;</span>Item 2<span class="dt">&lt;/</span><span class="kw">div</span><span class="dt">&gt;</span></span>
<span id="cb19-4"><a href="#cb19-4" aria-hidden="true" tabindex="-1"></a>  <span class="dt">&lt;</span><span class="kw">div</span><span class="ot"> class</span><span class="op">=</span><span class="st">"grid-item"</span><span class="dt">&gt;</span>Item 3<span class="dt">&lt;/</span><span class="kw">div</span><span class="dt">&gt;</span></span>
<span id="cb19-5"><a href="#cb19-5" aria-hidden="true" tabindex="-1"></a>  <span class="dt">&lt;</span><span class="kw">div</span><span class="ot"> class</span><span class="op">=</span><span class="st">"grid-item wide"</span><span class="dt">&gt;</span>Item 4 (wider)<span class="dt">&lt;/</span><span class="kw">div</span><span class="dt">&gt;</span></span>
<span id="cb19-6"><a href="#cb19-6" aria-hidden="true" tabindex="-1"></a>  <span class="dt">&lt;</span><span class="kw">div</span><span class="ot"> class</span><span class="op">=</span><span class="st">"grid-item"</span><span class="dt">&gt;</span>Item 5<span class="dt">&lt;/</span><span class="kw">div</span><span class="dt">&gt;</span></span>
<span id="cb19-7"><a href="#cb19-7" aria-hidden="true" tabindex="-1"></a><span class="dt">&lt;/</span><span class="kw">div</span><span class="dt">&gt;</span></span>
<span id="cb19-8"><a href="#cb19-8" aria-hidden="true" tabindex="-1"></a><span class="dt">&lt;</span><span class="kw">script</span><span class="dt">&gt;</span></span>
<span id="cb19-9"><a href="#cb19-9" aria-hidden="true" tabindex="-1"></a>  <span class="kw">const</span> grid <span class="op">=</span> <span class="kw">new</span> <span class="fu">Packery</span>( <span class="st">'#grid'</span><span class="op">,</span> {</span>
<span id="cb19-10"><a href="#cb19-10" aria-hidden="true" tabindex="-1"></a>    <span class="dt">columnWidth</span><span class="op">:</span> <span class="dv">100</span><span class="op">,</span></span>
<span id="cb19-11"><a href="#cb19-11" aria-hidden="true" tabindex="-1"></a>    <span class="dt">gutter</span><span class="op">:</span> <span class="dv">10</span></span>
<span id="cb19-12"><a href="#cb19-12" aria-hidden="true" tabindex="-1"></a>  } )<span class="op">;</span></span>
<span id="cb19-13"><a href="#cb19-13" aria-hidden="true" tabindex="-1"></a><span class="dt">&lt;/</span><span class="kw">script</span><span class="dt">&gt;</span></span></code></pre></div>
<p>In this example, <code>columnWidth</code> sets a base column width, and <code>gutter</code> adds spacing between items. The <code>.wide</code> class could be used with CSS to make certain items twice the width of standard items. Packery automatically arranges the items to fill the available space efficiently.</p>
<h3 id="masonry-layouts">Masonry Layouts</h3>
<p>While Packery doesn’t have a specific “masonry” mode, you can easily achieve a masonry-like effect by setting appropriate <code>columnWidth</code> and letting Packery’s bin-packing algorithm handle the layout.</p>
<div class="sourceCode" id="cb20"><pre class="sourceCode html"><code class="sourceCode html"><span id="cb20-1"><a href="#cb20-1" aria-hidden="true" tabindex="-1"></a><span class="dt">&lt;</span><span class="kw">div</span><span class="ot"> id</span><span class="op">=</span><span class="st">"masonry-grid"</span><span class="dt">&gt;</span></span>
<span id="cb20-2"><a href="#cb20-2" aria-hidden="true" tabindex="-1"></a>  <span class="co">&lt;!-- Items of various heights --&gt;</span></span>
<span id="cb20-3"><a href="#cb20-3" aria-hidden="true" tabindex="-1"></a><span class="dt">&lt;/</span><span class="kw">div</span><span class="dt">&gt;</span></span>
<span id="cb20-4"><a href="#cb20-4" aria-hidden="true" tabindex="-1"></a><span class="dt">&lt;</span><span class="kw">script</span><span class="dt">&gt;</span></span>
<span id="cb20-5"><a href="#cb20-5" aria-hidden="true" tabindex="-1"></a>  <span class="kw">new</span> <span class="fu">Packery</span>( <span class="st">'#masonry-grid'</span><span class="op">,</span> {</span>
<span id="cb20-6"><a href="#cb20-6" aria-hidden="true" tabindex="-1"></a>    <span class="dt">columnWidth</span><span class="op">:</span> <span class="dv">100</span><span class="op">,</span></span>
<span id="cb20-7"><a href="#cb20-7" aria-hidden="true" tabindex="-1"></a>    <span class="dt">gutter</span><span class="op">:</span> <span class="dv">10</span></span>
<span id="cb20-8"><a href="#cb20-8" aria-hidden="true" tabindex="-1"></a>  } )<span class="op">;</span></span>
<span id="cb20-9"><a href="#cb20-9" aria-hidden="true" tabindex="-1"></a><span class="dt">&lt;/</span><span class="kw">script</span><span class="dt">&gt;</span></span></code></pre></div>
<p>The key here is to have items with varying heights; Packery will arrange them in a way that resembles a traditional masonry layout. Experiment with different <code>columnWidth</code> values to fine-tune the appearance.</p>
<h3 id="responsive-image-galleries">Responsive Image Galleries</h3>
<p>Packery is ideal for building responsive image galleries. Combine it with CSS media queries and percentage-based sizing to create galleries that adapt to different screen sizes:</p>
<div class="sourceCode" id="cb21"><pre class="sourceCode html"><code class="sourceCode html"><span id="cb21-1"><a href="#cb21-1" aria-hidden="true" tabindex="-1"></a><span class="dt">&lt;</span><span class="kw">div</span><span class="ot"> id</span><span class="op">=</span><span class="st">"image-gallery"</span><span class="dt">&gt;</span></span>
<span id="cb21-2"><a href="#cb21-2" aria-hidden="true" tabindex="-1"></a>  <span class="dt">&lt;</span><span class="kw">img</span><span class="ot"> src</span><span class="op">=</span><span class="st">"image1.jpg"</span><span class="ot"> alt</span><span class="op">=</span><span class="st">"Image 1"</span><span class="dt">&gt;</span></span>
<span id="cb21-3"><a href="#cb21-3" aria-hidden="true" tabindex="-1"></a>  <span class="dt">&lt;</span><span class="kw">img</span><span class="ot"> src</span><span class="op">=</span><span class="st">"image2.jpg"</span><span class="ot"> alt</span><span class="op">=</span><span class="st">"Image 2"</span><span class="dt">&gt;</span></span>
<span id="cb21-4"><a href="#cb21-4" aria-hidden="true" tabindex="-1"></a>  <span class="co">&lt;!-- More images --&gt;</span></span>
<span id="cb21-5"><a href="#cb21-5" aria-hidden="true" tabindex="-1"></a><span class="dt">&lt;/</span><span class="kw">div</span><span class="dt">&gt;</span></span>
<span id="cb21-6"><a href="#cb21-6" aria-hidden="true" tabindex="-1"></a><span class="dt">&lt;</span><span class="kw">script</span><span class="dt">&gt;</span></span>
<span id="cb21-7"><a href="#cb21-7" aria-hidden="true" tabindex="-1"></a>  <span class="kw">const</span> gallery <span class="op">=</span> <span class="kw">new</span> <span class="fu">Packery</span>( <span class="st">'#image-gallery'</span><span class="op">,</span> {</span>
<span id="cb21-8"><a href="#cb21-8" aria-hidden="true" tabindex="-1"></a>    <span class="dt">itemSelector</span><span class="op">:</span> <span class="st">'img'</span><span class="op">,</span></span>
<span id="cb21-9"><a href="#cb21-9" aria-hidden="true" tabindex="-1"></a>    <span class="dt">percentPosition</span><span class="op">:</span> <span class="kw">true</span><span class="op">,</span> <span class="co">// Important for responsive layouts</span></span>
<span id="cb21-10"><a href="#cb21-10" aria-hidden="true" tabindex="-1"></a>    <span class="dt">columnWidth</span><span class="op">:</span> <span class="st">'.image-item'</span> <span class="co">//Use a class selector for width</span></span>
<span id="cb21-11"><a href="#cb21-11" aria-hidden="true" tabindex="-1"></a>  } )<span class="op">;</span></span>
<span id="cb21-12"><a href="#cb21-12" aria-hidden="true" tabindex="-1"></a><span class="dt">&lt;/</span><span class="kw">script</span><span class="dt">&gt;</span></span></code></pre></div>
<p>Here, <code>percentPosition: true</code> is crucial; it ensures that item positions are calculated as percentages, making the layout responsive. A class selector <code>.image-item</code> could be applied to the images, controlling their dimensions. Adjust the CSS based on screen size using media queries.</p>
<h3 id="dynamic-content-updates">Dynamic Content Updates</h3>
<p>Packery handles dynamic updates gracefully. Use the <code>appended</code> and <code>prepend</code> methods to add items, and <code>remove</code> to delete them. Remember to call <code>packery.layout()</code> after each update to refresh the layout.</p>
<div class="sourceCode" id="cb22"><pre class="sourceCode javascript"><code class="sourceCode javascript"><span id="cb22-1"><a href="#cb22-1" aria-hidden="true" tabindex="-1"></a><span class="co">// Add a new item</span></span>
<span id="cb22-2"><a href="#cb22-2" aria-hidden="true" tabindex="-1"></a><span class="kw">const</span> newItem <span class="op">=</span> <span class="bu">document</span><span class="op">.</span><span class="fu">createElement</span>(<span class="st">'div'</span>)<span class="op">;</span></span>
<span id="cb22-3"><a href="#cb22-3" aria-hidden="true" tabindex="-1"></a>newItem<span class="op">.</span><span class="at">className</span> <span class="op">=</span> <span class="st">'grid-item'</span><span class="op">;</span></span>
<span id="cb22-4"><a href="#cb22-4" aria-hidden="true" tabindex="-1"></a>newItem<span class="op">.</span><span class="at">innerHTML</span> <span class="op">=</span> <span class="st">'New Item'</span><span class="op">;</span></span>
<span id="cb22-5"><a href="#cb22-5" aria-hidden="true" tabindex="-1"></a>grid<span class="op">.</span><span class="fu">appended</span>( newItem )<span class="op">;</span></span>
<span id="cb22-6"><a href="#cb22-6" aria-hidden="true" tabindex="-1"></a>grid<span class="op">.</span><span class="fu">layout</span>()<span class="op">;</span></span>
<span id="cb22-7"><a href="#cb22-7" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb22-8"><a href="#cb22-8" aria-hidden="true" tabindex="-1"></a><span class="co">// Remove an item</span></span>
<span id="cb22-9"><a href="#cb22-9" aria-hidden="true" tabindex="-1"></a><span class="kw">const</span> itemToRemove <span class="op">=</span> <span class="bu">document</span><span class="op">.</span><span class="fu">querySelector</span>(<span class="st">'.remove-me'</span>)<span class="op">;</span></span>
<span id="cb22-10"><a href="#cb22-10" aria-hidden="true" tabindex="-1"></a>grid<span class="op">.</span><span class="fu">remove</span>( itemToRemove )<span class="op">;</span></span>
<span id="cb22-11"><a href="#cb22-11" aria-hidden="true" tabindex="-1"></a>grid<span class="op">.</span><span class="fu">layout</span>()<span class="op">;</span></span></code></pre></div>
<p>This shows how to add and remove items, with <code>grid.layout()</code> ensuring the layout is recalculated.</p>
<h3 id="filtering-and-sorting-examples">Filtering and Sorting Examples</h3>
<p>Packery itself doesn’t directly handle filtering and sorting. You need to combine it with another library (like Isotope) or manage this yourself by manipulating the DOM order of items and calling <code>packery.layout()</code>.</p>
<p>A basic example of filtering (without a library) involves showing/hiding elements based on a criteria and then calling <code>layout()</code>:</p>
<div class="sourceCode" id="cb23"><pre class="sourceCode javascript"><code class="sourceCode javascript"><span id="cb23-1"><a href="#cb23-1" aria-hidden="true" tabindex="-1"></a><span class="co">// Example Filter: hide items with class 'hidden'</span></span>
<span id="cb23-2"><a href="#cb23-2" aria-hidden="true" tabindex="-1"></a><span class="kw">const</span> hiddenItems <span class="op">=</span> <span class="bu">document</span><span class="op">.</span><span class="fu">querySelectorAll</span>(<span class="st">'.hidden'</span>)<span class="op">;</span></span>
<span id="cb23-3"><a href="#cb23-3" aria-hidden="true" tabindex="-1"></a>hiddenItems<span class="op">.</span><span class="fu">forEach</span>(item <span class="kw">=&gt;</span> item<span class="op">.</span><span class="at">style</span><span class="op">.</span><span class="at">display</span> <span class="op">=</span> <span class="st">'none'</span>)<span class="op">;</span></span>
<span id="cb23-4"><a href="#cb23-4" aria-hidden="true" tabindex="-1"></a>grid<span class="op">.</span><span class="fu">layout</span>()<span class="op">;</span></span>
<span id="cb23-5"><a href="#cb23-5" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb23-6"><a href="#cb23-6" aria-hidden="true" tabindex="-1"></a><span class="co">// Example Filter: show them back</span></span>
<span id="cb23-7"><a href="#cb23-7" aria-hidden="true" tabindex="-1"></a>hiddenItems<span class="op">.</span><span class="fu">forEach</span>(item <span class="kw">=&gt;</span> item<span class="op">.</span><span class="at">style</span><span class="op">.</span><span class="at">display</span> <span class="op">=</span> <span class="st">'block'</span>)<span class="op">;</span></span>
<span id="cb23-8"><a href="#cb23-8" aria-hidden="true" tabindex="-1"></a>grid<span class="op">.</span><span class="fu">layout</span>()<span class="op">;</span></span></code></pre></div>
<p>For more complex filtering and sorting, using Isotope is strongly recommended. Isotope provides a robust API for managing such operations seamlessly with Packery. Remember to consult Isotope’s documentation for details.</p>


<footer>Copyright 2025 - Muthukrishnan</footer>
<script async="" src="https://pagead2.googlesyndication.com/pagead/js/adsbygoogle.js?client=ca-pub-3609399560636561" crossorigin="anonymous"></script>




</body></html>