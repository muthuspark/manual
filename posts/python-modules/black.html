<!DOCTYPE html>
<html xmlns="http://www.w3.org/1999/xhtml" lang="en" xml:lang="en"><head>

<meta charset="utf-8">
<meta name="generator" content="quarto-1.6.39">

<meta name="viewport" content="width=device-width, initial-scale=1.0, user-scalable=yes">


<title>black - Documentation – Technical Manuals</title>
<style>
html {
  color: #1a1a1a;
  background-color: #fdfdfd;
}
body {
  margin: 0 auto;
  max-width: 36em;
  padding-left: 50px;
  padding-right: 50px;
  padding-top: 50px;
  padding-bottom: 50px;
  hyphens: auto;
  overflow-wrap: break-word;
  text-rendering: optimizeLegibility;
  font-kerning: normal;
}
@media (max-width: 600px) {
  body {
    font-size: 0.9em;
    padding: 12px;
  }
  h1 {
    font-size: 1.8em;
  }
}
@media print {
  html {
    background-color: white;
  }
  body {
    background-color: transparent;
    color: black;
    font-size: 12pt;
  }
  p, h2, h3 {
    orphans: 3;
    widows: 3;
  }
  h2, h3, h4 {
    page-break-after: avoid;
  }
}
p {
  margin: 1em 0;
}
a {
  color: #1a1a1a;
}
a:visited {
  color: #1a1a1a;
}
img {
  max-width: 100%;
}
svg {
  height; auto;
  max-width: 100%;
}
h1, h2, h3, h4, h5, h6 {
  margin-top: 1.4em;
}
h5, h6 {
  font-size: 1em;
  font-style: italic;
}
h6 {
  font-weight: normal;
}
ol, ul {
  padding-left: 1.7em;
  margin-top: 1em;
}
li > ol, li > ul {
  margin-top: 0;
}
ul > li:not(:has(> p)) > ul,
ol > li:not(:has(> p)) > ul,
ul > li:not(:has(> p)) > ol,
ol > li:not(:has(> p)) > ol {
  margin-bottom: 0;
}
ul > li:not(:has(> p)) > ul > li:has(> p),
ol > li:not(:has(> p)) > ul > li:has(> p),
ul > li:not(:has(> p)) > ol > li:has(> p),
ol > li:not(:has(> p)) > ol > li:has(> p) {
  margin-top: 1rem;
}
blockquote {
  margin: 1em 0 1em 1.7em;
  padding-left: 1em;
  border-left: 2px solid #e6e6e6;
  color: #606060;
}
code {
  font-family: Menlo, Monaco, Consolas, 'Lucida Console', monospace;
  font-size: 85%;
  margin: 0;
  hyphens: manual;
}
pre {
  margin: 1em 0;
  overflow: auto;
}
pre code {
  padding: 0;
  overflow: visible;
  overflow-wrap: normal;
}
.sourceCode {
 background-color: transparent;
 overflow: visible;
}
hr {
  background-color: #1a1a1a;
  border: none;
  height: 1px;
  margin: 1em 0;
}
table {
  margin: 1em 0;
  border-collapse: collapse;
  width: 100%;
  overflow-x: auto;
  display: block;
  font-variant-numeric: lining-nums tabular-nums;
}
table caption {
  margin-bottom: 0.75em;
}
tbody {
  margin-top: 0.5em;
  border-top: 1px solid #1a1a1a;
  border-bottom: 1px solid #1a1a1a;
}
th {
  border-top: 1px solid #1a1a1a;
  padding: 0.25em 0.5em 0.25em 0.5em;
}
td {
  padding: 0.125em 0.5em 0.25em 0.5em;
}
header {
  margin-bottom: 4em;
  text-align: center;
}
#TOC li {
  list-style: none;
}
#TOC ul {
  padding-left: 1.3em;
}
#TOC > ul {
  padding-left: 0;
}
#TOC a:not(:hover) {
  text-decoration: none;
}
code{white-space: pre-wrap;}
span.smallcaps{font-variant: small-caps;}
div.columns{display: flex; gap: min(4vw, 1.5em);}
div.column{flex: auto; overflow-x: auto;}
div.hanging-indent{margin-left: 1.5em; text-indent: -1.5em;}
ul.task-list{list-style: none;}
ul.task-list li input[type="checkbox"] {
  width: 0.8em;
  margin: 0 0.8em 0.2em -1em; /* quarto-specific, see https://github.com/quarto-dev/quarto-cli/issues/4556 */ 
  vertical-align: middle;
}
/* CSS for syntax highlighting */
pre > code.sourceCode { white-space: pre; position: relative; }
pre > code.sourceCode > span { line-height: 1.25; }
pre > code.sourceCode > span:empty { height: 1.2em; }
.sourceCode { overflow: visible; }
code.sourceCode > span { color: inherit; text-decoration: inherit; }
div.sourceCode { margin: 1em 0; }
pre.sourceCode { margin: 0; }
@media screen {
div.sourceCode { overflow: auto; }
}
@media print {
pre > code.sourceCode { white-space: pre-wrap; }
pre > code.sourceCode > span { display: inline-block; text-indent: -5em; padding-left: 5em; }
}
pre.numberSource code
  { counter-reset: source-line 0; }
pre.numberSource code > span
  { position: relative; left: -4em; counter-increment: source-line; }
pre.numberSource code > span > a:first-child::before
  { content: counter(source-line);
    position: relative; left: -1em; text-align: right; vertical-align: baseline;
    border: none; display: inline-block;
    -webkit-touch-callout: none; -webkit-user-select: none;
    -khtml-user-select: none; -moz-user-select: none;
    -ms-user-select: none; user-select: none;
    padding: 0 4px; width: 4em;
  }
pre.numberSource { margin-left: 3em;  padding-left: 4px; }
div.sourceCode
  {   }
@media screen {
pre > code.sourceCode > span > a:first-child::before { text-decoration: underline; }
}
</style>


<link href="../../favicon.ico" rel="icon">
<script async="" src="https://www.googletagmanager.com/gtag/js?id="></script>

<script type="text/javascript">

window.dataLayer = window.dataLayer || [];
function gtag(){dataLayer.push(arguments);}
gtag('js', new Date());
gtag('config', '', { 'anonymize_ip': true});
</script>
<link rel="icon" type="image/x-icon" href="../../favicon.ico">
<meta property="og:title" content="black - Documentation – Technical Manuals">
<meta property="og:site_name" content="Technical Manuals">
</head><body><div class="navigation-header">
    <nav>
        <div>
            <div class="logo">
                <a href="../../" aria-label="Home">
                    <span>Technical Manuals - Home</span>
                </a>
            </div>
            <div class="nav-menu">
                <ul>
                    <li>
                        <a href="../../about.html">
                            <span class="menu-text">About</span>
                        </a>
                    </li>
                    <li> 
                        <a href="https://github.com/muthuspark" target="_blank">
                            <span class="menu-text">Github</span>
                        </a>
                    </li>
                    <li>
                        <a href="https://linkedin.com/in/krimuthu" target="_blank">
                            <span class="menu-text">Linkedin</span>
                        </a>
                    </li>
                    <li>
                        <button onclick="window.print()" class="print-button">
                            <svg width="20" height="20" viewbox="0 0 24 24" fill="none" stroke="currentColor" stroke-width="2">
                              <path d="M6 9V2h12v7"></path>
                              <path d="M6 18H4a2 2 0 01-2-2v-5a2 2 0 012-2h16a2 2 0 012 2v5a2 2 0 01-2 2h-2"></path>
                              <path d="M6 14h12v8H6z"></path>
                            </svg>
                            Print Page
                        </button>
                    </li>
                </ul>
            </div>
        </div>
    </nav>
</div>


<link rel="stylesheet" href="../../styles.css">





<header id="title-block-header">
<h1 class="title">black - Documentation</h1>

</header>

<nav id="TOC" role="doc-toc">
    <h2 id="toc-title">On this page</h2>
   
  <ul>
  <li><a href="#what-is-black" id="toc-what-is-black">What is Black?</a></li>
  <li><a href="#why-use-black" id="toc-why-use-black">Why use Black?</a></li>
  <li><a href="#installation-and-setup" id="toc-installation-and-setup">Installation and Setup</a></li>
  <li><a href="#basic-usage" id="toc-basic-usage">Basic Usage</a></li>
  <li><a href="#configuration" id="toc-configuration">Configuration</a>
  <ul>
  <li><a href="#configuration-files" id="toc-configuration-files">Configuration Files</a></li>
  <li><a href="#command-line-options" id="toc-command-line-options">Command-Line Options</a></li>
  <li><a href="#line-length" id="toc-line-length">Line Length</a></li>
  <li><a href="#string-quotes" id="toc-string-quotes">String Quotes</a></li>
  <li><a href="#other-style-options" id="toc-other-style-options">Other Style Options</a></li>
  <li><a href="#customizing-blacks-behavior" id="toc-customizing-blacks-behavior">Customizing Black’s Behavior</a></li>
  </ul></li>
  <li><a href="#advanced-usage" id="toc-advanced-usage">Advanced Usage</a>
  <ul>
  <li><a href="#integrating-with-editors-and-ides" id="toc-integrating-with-editors-and-ides">Integrating with Editors and IDEs</a></li>
  <li><a href="#using-black-with-version-control" id="toc-using-black-with-version-control">Using Black with Version Control</a></li>
  <li><a href="#auto-formatting-on-save" id="toc-auto-formatting-on-save">Auto-Formatting on Save</a></li>
  <li><a href="#ignoring-files-and-directories" id="toc-ignoring-files-and-directories">Ignoring Files and Directories</a></li>
  <li><a href="#working-with-large-projects" id="toc-working-with-large-projects">Working with Large Projects</a></li>
  </ul></li>
  <li><a href="#language-features-supported-by-black" id="toc-language-features-supported-by-black">Language Features Supported by Black</a>
  <ul>
  <li><a href="#python-versions-supported" id="toc-python-versions-supported">Python Versions Supported</a></li>
  <li><a href="#supported-syntax-constructs" id="toc-supported-syntax-constructs">Supported Syntax Constructs</a></li>
  <li><a href="#type-hints" id="toc-type-hints">Type Hints</a></li>
  <li><a href="#asynchronous-functions" id="toc-asynchronous-functions">Asynchronous Functions</a></li>
  <li><a href="#decorators" id="toc-decorators">Decorators</a></li>
  <li><a href="#lambda-expressions" id="toc-lambda-expressions">Lambda Expressions</a></li>
  </ul></li>
  <li><a href="#troubleshooting" id="toc-troubleshooting">Troubleshooting</a>
  <ul>
  <li><a href="#common-errors-and-solutions" id="toc-common-errors-and-solutions">Common Errors and Solutions</a></li>
  <li><a href="#debugging-formatting-issues" id="toc-debugging-formatting-issues">Debugging Formatting Issues</a></li>
  <li><a href="#performance-tuning" id="toc-performance-tuning">Performance Tuning</a></li>
  <li><a href="#compatibility-issues" id="toc-compatibility-issues">Compatibility Issues</a></li>
  </ul></li>
  <li><a href="#extending-black" id="toc-extending-black">Extending Black</a>
  <ul>
  <li><a href="#creating-custom-plugins" id="toc-creating-custom-plugins">Creating Custom Plugins</a></li>
  <li><a href="#writing-custom-parsers" id="toc-writing-custom-parsers">Writing Custom Parsers</a></li>
  <li><a href="#contributing-to-blacks-development" id="toc-contributing-to-blacks-development">Contributing to Black’s Development</a></li>
  </ul></li>
  <li><a href="#appendix" id="toc-appendix">Appendix</a>
  <ul>
  <li><a href="#glossary-of-terms" id="toc-glossary-of-terms">Glossary of Terms</a></li>
  <li><a href="#command-line-options-reference" id="toc-command-line-options-reference">Command-Line Options Reference</a></li>
  <li><a href="#configuration-file-options-reference" id="toc-configuration-file-options-reference">Configuration File Options Reference</a></li>
  <li><a href="#frequently-asked-questions-faq" id="toc-frequently-asked-questions-faq">Frequently Asked Questions (FAQ)</a></li>
  </ul></li>
  </ul>
</nav>
<h3 id="what-is-black">What is Black?</h3>
<p>Black is an uncompromising code formatter for Python. It enforces a consistent style guide, automatically reformatting your code to adhere to its rules. This means you don’t have to worry about stylistic debates or manually adjusting your code to meet a particular standard; Black handles it all for you. Its configuration is intentionally minimal, reducing friction and allowing developers to focus on writing code rather than formatting it.</p>
<h3 id="why-use-black">Why use Black?</h3>
<p>Using Black offers several key advantages:</p>
<ul>
<li><strong>Consistency:</strong> Black eliminates stylistic inconsistencies across your codebase, leading to improved readability and maintainability. Everyone’s code will look the same, regardless of individual preferences.</li>
<li><strong>Speed:</strong> Black is incredibly fast, reformatting even large codebases in a matter of seconds. This minimizes disruption during development.</li>
<li><strong>Simplicity:</strong> Black’s configuration is deliberately minimal. There are few options to tweak, reducing complexity and decision fatigue. This “zero-configuration” philosophy ensures everyone uses the same style.</li>
<li><strong>Community Support:</strong> Black is widely adopted within the Python community, offering a large user base and readily available support.</li>
<li><strong>Improved Readability:</strong> By enforcing a consistent style, Black makes code easier to read and understand, benefitting both the original author and others working with the code.</li>
</ul>
<h3 id="installation-and-setup">Installation and Setup</h3>
<p>Black is easily installed using pip:</p>
<div class="sourceCode" id="cb1"><pre class="sourceCode bash"><code class="sourceCode bash"><span id="cb1-1"><a href="#cb1-1" aria-hidden="true" tabindex="-1"></a><span class="ex">pip</span> install black</span></code></pre></div>
<p>No further configuration is typically needed. Black’s default settings are designed to be broadly applicable and effective. While advanced configuration options exist (primarily through command-line arguments), the simplicity of its defaults is a core design principle.</p>
<h3 id="basic-usage">Basic Usage</h3>
<p>To format a Python file, simply run Black from your terminal:</p>
<div class="sourceCode" id="cb2"><pre class="sourceCode bash"><code class="sourceCode bash"><span id="cb2-1"><a href="#cb2-1" aria-hidden="true" tabindex="-1"></a><span class="ex">black</span> my_file.py</span></code></pre></div>
<p>This will reformat <code>my_file.py</code> in place. To format multiple files, specify them as arguments:</p>
<div class="sourceCode" id="cb3"><pre class="sourceCode bash"><code class="sourceCode bash"><span id="cb3-1"><a href="#cb3-1" aria-hidden="true" tabindex="-1"></a><span class="ex">black</span> file1.py file2.py my_module/</span></code></pre></div>
<p>You can also format an entire directory:</p>
<div class="sourceCode" id="cb4"><pre class="sourceCode bash"><code class="sourceCode bash"><span id="cb4-1"><a href="#cb4-1" aria-hidden="true" tabindex="-1"></a><span class="ex">black</span> .</span></code></pre></div>
<p>(This will format all Python files within the current directory and its subdirectories.) Black will only modify files that need reformatting, leaving unchanged files untouched. For a dry-run (to see what changes would be made without actually writing them to the files), use the <code>--check</code> flag:</p>
<div class="sourceCode" id="cb5"><pre class="sourceCode bash"><code class="sourceCode bash"><span id="cb5-1"><a href="#cb5-1" aria-hidden="true" tabindex="-1"></a><span class="ex">black</span> <span class="at">--check</span> .</span></code></pre></div>
<p>This will exit with a non-zero status code if any changes would be made. This is commonly used in CI/CD pipelines to ensure code style compliance.</p>
<h2 id="configuration">Configuration</h2>
<h3 id="configuration-files">Configuration Files</h3>
<p>While Black is designed to work effectively with minimal configuration, it does support configuration through files. Black will search for a <code>pyproject.toml</code> file in the current directory and its parent directories. Within this file, a <code>[tool.black]</code> table can specify options. For example:</p>
<div class="sourceCode" id="cb6"><pre class="sourceCode toml"><code class="sourceCode toml"><span id="cb6-1"><a href="#cb6-1" aria-hidden="true" tabindex="-1"></a><span class="kw">[tool.black]</span></span>
<span id="cb6-2"><a href="#cb6-2" aria-hidden="true" tabindex="-1"></a><span class="dt">line-length</span> <span class="op">=</span> <span class="dv">100</span></span></code></pre></div>
<p>This would override the default line length to 100. Note that only a subset of Black’s options can be configured via <code>pyproject.toml</code>.</p>
<h3 id="command-line-options">Command-Line Options</h3>
<p>Many Black options can be set via the command line. These are generally more flexible than configuration files for one-off adjustments or testing different styles. Some commonly used options include:</p>
<ul>
<li><code>--line-length=INT</code>: Sets the line length (default 88).</li>
<li><code>--check</code>: Checks if files need reformatting without modifying them. Exits with a non-zero status code if changes are needed.</li>
<li><code>--diff</code>: Shows a diff of the changes that would be made.</li>
<li><code>--fast</code>: Uses a faster but less accurate algorithm (useful for very large files).</li>
<li><code>--safe</code>: Only format files that are known to be safe to format (i.e., not generated code or containing non-UTF-8 characters).</li>
<li><code>--target-version=PYVERSION</code>: Specify the Python version to target (e.g., <code>py37</code>, <code>py38</code>). This affects the formatting style for features available in different Python versions.</li>
<li><code>--include=GLOB</code>: A glob pattern to specify which files to format. Useful for selectively formatting portions of a project.</li>
<li><code>--exclude=GLOB</code>: A glob pattern to exclude files from formatting.</li>
</ul>
<p>A complete list of command-line options can be found using <code>black --help</code>.</p>
<h3 id="line-length">Line Length</h3>
<p>Black’s default line length is 88 characters. This can be overridden using the <code>--line-length</code> command-line option or the <code>line-length</code> setting in a <code>pyproject.toml</code> file. Choosing a shorter line length improves readability on smaller screens, while a longer length allows for fewer line breaks in some cases. The ideal length is often a matter of personal preference and project-specific considerations.</p>
<h3 id="string-quotes">String Quotes</h3>
<p>Black generally prefers double quotes (<code>"</code>) for strings unless a single quote (<code>'</code>) is necessary to avoid escaping. This preference is consistent and designed to improve code readability. You cannot directly configure Black to change this behavior; it’s a core part of the enforced style.</p>
<h3 id="other-style-options">Other Style Options</h3>
<p>While Black aims for a mostly “hands-off” approach, some stylistic choices are configurable. These are mainly focused on aspects compatible with Python’s syntax and semantics. These options are usually accessed via command-line flags or the <code>pyproject.toml</code> file, and their availability might change with Black versions. Refer to the latest Black documentation for the most up-to-date list. For instance, <code>--target-version</code> lets you adapt the formatting to specific Python versions.</p>
<h3 id="customizing-blacks-behavior">Customizing Black’s Behavior</h3>
<p>Black’s design prioritizes consistency and minimal configuration. Extensive customization options are intentionally avoided. However, the options provided allow for sufficient flexibility to adapt to various project needs and preferences. For scenarios requiring more extensive customization than what Black offers directly, consider using a pre-commit hook to run Black along with other code linters or formatters which provide greater degrees of customization. Keep in mind that this approach sacrifices some of Black’s core benefits like enforced uniformity.</p>
<h2 id="advanced-usage">Advanced Usage</h2>
<h3 id="integrating-with-editors-and-ides">Integrating with Editors and IDEs</h3>
<p>Many popular code editors and IDEs have plugins or extensions that integrate with Black. These integrations typically allow you to format your code with Black directly from within your editor, providing a seamless workflow. Some popular examples include plugins for VS Code, Sublime Text, Atom, and various JetBrains IDEs. Check your editor’s plugin repository for a “Black” or “Python formatting” plugin to enable this integration. These plugins often offer options for configuring Black’s behavior, such as the line length or whether to perform a check before formatting.</p>
<h3 id="using-black-with-version-control">Using Black with Version Control</h3>
<p>Using Black with version control (e.g., Git) is highly recommended. It allows for consistent code formatting across your team and helps prevent merge conflicts caused by differing formatting styles. It’s good practice to commit your changes after running <code>black</code>, including the reformatted code in your version control history. You can also leverage pre-commit hooks to automatically run Black before each commit, preventing improperly formatted code from entering your repository. This ensures all code checked into the repository conforms to the consistent style enforced by Black.</p>
<h3 id="auto-formatting-on-save">Auto-Formatting on Save</h3>
<p>Many editor integrations allow for automatic formatting on save. This feature automatically runs Black whenever you save a Python file, ensuring that your code is always formatted correctly. This setup enhances developer productivity by eliminating the need for manual formatting. While convenient, be aware that very large files might experience a noticeable delay during saving when using auto-formatting.</p>
<h3 id="ignoring-files-and-directories">Ignoring Files and Directories</h3>
<p>Sometimes, you might want to exclude certain files or directories from Black’s formatting. This is often useful for files generated by other tools, files with non-standard coding styles, or test data. You can achieve this using the <code>--exclude</code> flag or by setting the <code>exclude</code> option in your <code>pyproject.toml</code> file. Glob patterns can be used to specify files and directories to ignore. For example, <code>--exclude='tests/*'</code> would exclude all files and subdirectories within the <code>tests</code> directory.</p>
<h3 id="working-with-large-projects">Working with Large Projects</h3>
<p>Formatting extremely large projects can take a significant amount of time. Black offers the <code>--fast</code> option to trade off formatting accuracy for speed. However, it’s generally recommended to initially focus on formatting smaller, self-contained parts of the project. This strategy reduces the impact of unexpected issues and facilitates the identification of errors more efficiently. For large projects, consider also leveraging Black’s ability to format specific files or directories instead of running it on the entire project all at once. Using a pre-commit hook that runs on changed files rather than the entire project can further optimize the process.</p>
<h2 id="language-features-supported-by-black">Language Features Supported by Black</h2>
<h3 id="python-versions-supported">Python Versions Supported</h3>
<p>Black supports a wide range of Python versions. The specific versions supported may change with each release of Black, so always consult the official Black documentation for the most up-to-date information. Generally, Black aims to support the latest stable Python versions and several preceding ones. This means that code formatted with Black will be compatible with the specified Python version and should work correctly across different Python interpreters within the supported range.</p>
<h3 id="supported-syntax-constructs">Supported Syntax Constructs</h3>
<p>Black supports a vast majority of modern Python syntax constructs. This includes but is not limited to:</p>
<ul>
<li>Standard control flow statements (e.g., <code>if</code>, <code>elif</code>, <code>else</code>, <code>for</code>, <code>while</code>, <code>try</code>, <code>except</code>, <code>finally</code>).</li>
<li>Compound statements (e.g., function definitions, class definitions, comprehensions).</li>
<li>Various operators and expressions.</li>
<li>Import statements (including relative imports).</li>
<li>Docstrings (though the formatting of docstrings might be influenced by the chosen line length).</li>
</ul>
<p>Essentially, if your code is valid Python, Black can format it. If you encounter an unsupported construct, it’s likely due to either a bug in Black (please report it!) or the construct being highly non-standard or experimental.</p>
<h3 id="type-hints">Type Hints</h3>
<p>Black fully supports Python type hints introduced in Python 3.5 and later versions. It correctly formats type annotations, handling both function annotations and variable annotations. The formatting of type hints follows Black’s overall style, maintaining consistency and readability.</p>
<h3 id="asynchronous-functions">Asynchronous Functions</h3>
<p>Black seamlessly handles asynchronous functions defined using the <code>async</code> and <code>await</code> keywords. The formatting of <code>async def</code> functions follows the same style guidelines as regular function definitions, ensuring consistency throughout your codebase.</p>
<h3 id="decorators">Decorators</h3>
<p>Black correctly formats decorators, handling both simple and complex decorator expressions. It ensures that decorators are properly positioned and aligned, contributing to the overall readability of the code.</p>
<h3 id="lambda-expressions">Lambda Expressions</h3>
<p>Black supports lambda expressions and formats them consistently with other anonymous functions, keeping them readable and aligned with the rest of the code style. The placement and formatting of lambda expressions follow the established style rules of Black, ensuring consistency in the code.</p>
<h2 id="troubleshooting">Troubleshooting</h2>
<h3 id="common-errors-and-solutions">Common Errors and Solutions</h3>
<p>Several common errors can occur when using Black. Here are some examples and their solutions:</p>
<ul>
<li><p><strong><code>black: error: ... is not a Python file.</code>:</strong> This error occurs when Black attempts to format a file that is not a valid Python file (e.g., a text file, a binary file). Ensure that the files you’re trying to format have a <code>.py</code> extension and contain valid Python code.</p></li>
<li><p><strong><code>black: error: cannot write to file ...</code>:</strong> This often means Black doesn’t have write permissions to the file or directory. Check the file permissions and make sure Black has write access. Run Black with administrator or elevated privileges if necessary.</p></li>
<li><p><strong><code>black: error: ...</code> (other errors):</strong> For other errors, carefully read the entire error message. It usually provides a clue about the location and nature of the problem. Check for typos in filenames or paths, ensure your Python installation is correct, and make sure you have the required dependencies installed (<code>pip install black</code>).</p></li>
<li><p><strong>No changes made:</strong> If Black reports “No changes made” when you expect changes, check your settings (<code>pyproject.toml</code>, command-line arguments) to ensure they align with your intentions. Also, be sure that the files in question are actually Python files and are not empty or all comments.</p></li>
<li><p><strong>Unexpected formatting:</strong> If Black formats your code in an unexpected way, double-check that you are not using a version of Black that is significantly older than your current Python version. This can lead to different formatting rules being applied.</p></li>
</ul>
<h3 id="debugging-formatting-issues">Debugging Formatting Issues</h3>
<p>If you encounter unexpected formatting results, several steps can help debug the issue:</p>
<ol type="1">
<li><p><strong>Simplify:</strong> Create a minimal reproducible example that demonstrates the problem. This helps isolate the specific code causing the issue.</p></li>
<li><p><strong>Check the version:</strong> Ensure you’re using the latest version of Black. Run <code>pip show black</code> to check the installed version. Outdated versions may have bugs or different formatting rules.</p></li>
<li><p><strong>Dry run:</strong> Use the <code>--check</code> flag to see what changes Black would make without actually modifying your files. This helps identify the problematic areas in your code.</p></li>
<li><p><strong>Diff:</strong> Use the <code>--diff</code> flag to view a diff of the changes that would be made. This allows for a more detailed examination of the formatting modifications.</p></li>
<li><p><strong>Report a bug:</strong> If you can’t find the cause of the issue, report a bug on Black’s issue tracker, providing the minimal reproducible example and relevant information.</p></li>
</ol>
<h3 id="performance-tuning">Performance Tuning</h3>
<p>For very large codebases, formatting can take a noticeable amount of time. To improve performance:</p>
<ul>
<li><strong>Use <code>--fast</code>:</strong> The <code>--fast</code> flag uses a faster algorithm, though it may sacrifice some formatting accuracy.</li>
<li><strong>Format selectively:</strong> Instead of formatting the entire project at once, focus on formatting only the changed files since the last commit. Pre-commit hooks can automate this process.</li>
<li><strong>Increase system resources:</strong> Ensure your system has adequate RAM and processing power.</li>
<li><strong>Check for slow I/O:</strong> Slow hard drive access can impact formatting time. Consider using an SSD or improving disk performance.</li>
</ul>
<h3 id="compatibility-issues">Compatibility Issues</h3>
<p>Compatibility issues are rare but can arise.</p>
<ul>
<li><strong>Python version:</strong> Ensure your Python version is supported by the Black version you’re using. Refer to the documentation for supported Python versions.</li>
<li><strong>Third-party libraries:</strong> Extremely unusual syntax used by obscure third-party libraries might cause issues. Consider isolating the problem to a minimal example and reporting it to Black’s issue tracker.</li>
<li><strong>Encoding:</strong> Black typically handles UTF-8 encoding well, but problems can occur with files using other encodings. Ensure that files have correct encoding metadata.</li>
</ul>
<p>If you encounter compatibility issues, provide as much detail as possible when reporting them, including the versions of Black and Python being used, along with a small example that reproduces the problem.</p>
<h2 id="extending-black">Extending Black</h2>
<h3 id="creating-custom-plugins">Creating Custom Plugins</h3>
<p>Black’s extensibility is currently limited. While it doesn’t directly support user-defined plugins in the same way as some other tools, you can achieve similar results through several approaches:</p>
<ol type="1">
<li><p><strong>Pre-commit hooks:</strong> You can create a pre-commit hook that runs Black along with other custom formatting or linting tools. This allows you to integrate additional checks or modifications before code is committed. This approach is suitable for adding custom rules or behaviors that do not fundamentally alter Black’s core formatting logic.</p></li>
<li><p><strong>External tools:</strong> Instead of modifying Black itself, consider using other tools alongside Black to achieve specific formatting needs not covered by Black’s default style. These tools can be integrated into your workflow using pre-commit hooks or similar mechanisms.</p></li>
<li><p><strong>Indirect Modification (Advanced):</strong> For advanced users who are comfortable modifying Black’s source code, it is technically possible to create a custom fork of Black incorporating your desired changes. However, this approach is significantly more complex and requires a strong understanding of Black’s internal architecture. Furthermore, maintaining such a custom fork can become challenging as updates are released for the original Black project. This method is generally discouraged unless you have a compelling reason and the technical expertise to manage it.</p></li>
</ol>
<h3 id="writing-custom-parsers">Writing Custom Parsers</h3>
<p>Black uses its own internal parser. It is not designed to be extensible by allowing users to easily plug in custom parsers. The parsing logic is a critical component of Black’s functionality and is tightly integrated with its formatting engine. Directly modifying this internal component is strongly discouraged, as it could break the stability and consistency that Black aims to provide. Any changes would be exceptionally difficult to maintain and could render your fork incompatible with future updates.</p>
<h3 id="contributing-to-blacks-development">Contributing to Black’s Development</h3>
<p>Contributions to Black are welcome! To contribute, follow these steps:</p>
<ol type="1">
<li><p><strong>Familiarize yourself with the codebase:</strong> Understand Black’s architecture and coding style.</p></li>
<li><p><strong>Identify an issue:</strong> Find an existing issue or identify a new area for improvement.</p></li>
<li><p><strong>Create a new branch:</strong> Create a new branch for your changes.</p></li>
<li><p><strong>Write clean, well-tested code:</strong> Ensure your changes are thoroughly tested and follow Black’s coding conventions.</p></li>
<li><p><strong>Submit a pull request:</strong> Create a pull request to the official Black repository on GitHub, providing a clear description of your changes.</p></li>
</ol>
<p>Before submitting any significant contributions, it’s recommended to open an issue to discuss your proposed changes with the Black maintainers. This helps ensure your contribution aligns with the project’s goals and avoids unnecessary work. The Black team will provide feedback and guidance throughout the contribution process. Remember that all contributions are subject to the project’s contribution guidelines and code of conduct.</p>
<h2 id="appendix">Appendix</h2>
<h3 id="glossary-of-terms">Glossary of Terms</h3>
<ul>
<li><strong>Black:</strong> An uncompromising code formatter for Python.</li>
<li><strong>pyproject.toml:</strong> A configuration file used by Black (and other tools) to specify project settings.</li>
<li><strong>line length:</strong> The maximum number of characters allowed per line of code.</li>
<li><strong>formatter:</strong> A tool that automatically reformats code to a consistent style.</li>
<li><strong>pre-commit hook:</strong> A script that runs automatically before each Git commit.</li>
<li><strong>glob pattern:</strong> A pattern used to match files and directories.</li>
<li><strong>dry run:</strong> A test run of a command that shows the changes that would be made without actually modifying the files.</li>
<li><strong>diff:</strong> A comparison showing the differences between two versions of a file or code.</li>
</ul>
<h3 id="command-line-options-reference">Command-Line Options Reference</h3>
<p>A comprehensive list of command-line options is available by running <code>black --help</code>. Key options include:</p>
<ul>
<li><code>--line-length</code>: Specifies the maximum line length.</li>
<li><code>--check</code>: Performs a dry run, checking for formatting issues without modifying files.</li>
<li><code>--diff</code>: Shows a diff of the changes that would be made.</li>
<li><code>--fast</code>: Uses a faster but less accurate formatting algorithm.</li>
<li><code>--safe</code>: Only formats files deemed safe to modify.</li>
<li><code>--target-version</code>: Specifies the Python version to target (e.g., <code>py37</code>, <code>py39</code>).</li>
<li><code>--include</code>: Specifies files or directories to include (using glob patterns).</li>
<li><code>--exclude</code>: Specifies files or directories to exclude (using glob patterns).</li>
</ul>
<p>See the Black documentation for a complete and up-to-date list of command-line options and their descriptions.</p>
<h3 id="configuration-file-options-reference">Configuration File Options Reference</h3>
<p>Black’s configuration file (<code>pyproject.toml</code>) primarily uses the <code>[tool.black]</code> section. Key options include:</p>
<ul>
<li><code>line-length</code>: Specifies the maximum line length. (Corresponds to the <code>--line-length</code> command-line option.)</li>
<li><code>target-version</code>: Specifies the Python version to target (e.g., <code>["py37", "py38"]</code>). (Corresponds to the <code>--target-version</code> command-line option.)</li>
<li><code>include</code>: Specifies files or directories to include (using glob patterns). (Corresponds to the <code>--include</code> command-line option.)</li>
<li><code>exclude</code>: Specifies files or directories to exclude (using glob patterns). (Corresponds to the <code>--exclude</code> command-line option.)</li>
</ul>
<p>Not all command-line options are configurable via the <code>pyproject.toml</code> file. Consult the Black documentation for the most current list of configurable options and their descriptions.</p>
<h3 id="frequently-asked-questions-faq">Frequently Asked Questions (FAQ)</h3>
<ul>
<li><strong>Q: What is the difference between <code>--check</code> and <code>--diff</code>?</strong>
<ul>
<li><strong>A:</strong> <code>--check</code> only reports whether changes are needed; <code>--diff</code> shows exactly what changes would be made.</li>
</ul></li>
<li><strong>Q: Can I customize Black’s formatting beyond line length?</strong>
<ul>
<li><strong>A:</strong> Limited customization is possible through <code>pyproject.toml</code> and command-line options (e.g., <code>target-version</code>), but Black’s core style is intentionally fixed to ensure consistency.</li>
</ul></li>
<li><strong>Q: How do I format only a specific file or directory?</strong>
<ul>
<li><strong>A:</strong> Pass the filename or directory path as an argument to the <code>black</code> command.</li>
</ul></li>
<li><strong>Q: Why is Black so opinionated?</strong>
<ul>
<li><strong>A:</strong> Black’s uncompromising nature minimizes stylistic debates and ensures consistent code formatting across projects.</li>
</ul></li>
<li><strong>Q: How can I integrate Black with my editor?</strong>
<ul>
<li><strong>A:</strong> Many editors have plugins or extensions that integrate with Black, providing auto-formatting on save or on-demand formatting. Check your editor’s plugin marketplace.</li>
</ul></li>
<li><strong>Q: What should I do if Black produces unexpected results?</strong>
<ul>
<li><strong>A:</strong> Try a minimal reproducible example. Check your version of Black. Use <code>--check</code> and <code>--diff</code> to understand the changes. Report the issue with a reproducible example on the Black issue tracker.</li>
</ul></li>
</ul>
<p>For further questions, consult the Black documentation or community forums.</p>


<script async="" src="https://pagead2.googlesyndication.com/pagead/js/adsbygoogle.js?client=ca-pub-3609399560636561" crossorigin="anonymous"></script>




</body></html>