<!DOCTYPE html>
<html xmlns="http://www.w3.org/1999/xhtml" lang="en" xml:lang="en"><head>

<meta charset="utf-8">
<meta name="generator" content="quarto-1.6.39">

<meta name="viewport" content="width=device-width, initial-scale=1.0, user-scalable=yes">

<meta name="author" content="Muthukrishnan">

<title>Preact JS - Documentation – Technical Manuals</title>
<style>
html {
  color: #1a1a1a;
  background-color: #fdfdfd;
}
body {
  margin: 0 auto;
  max-width: 36em;
  padding-left: 50px;
  padding-right: 50px;
  padding-top: 50px;
  padding-bottom: 50px;
  hyphens: auto;
  overflow-wrap: break-word;
  text-rendering: optimizeLegibility;
  font-kerning: normal;
}
@media (max-width: 600px) {
  body {
    font-size: 0.9em;
    padding: 12px;
  }
  h1 {
    font-size: 1.8em;
  }
}
@media print {
  html {
    background-color: white;
  }
  body {
    background-color: transparent;
    color: black;
    font-size: 12pt;
  }
  p, h2, h3 {
    orphans: 3;
    widows: 3;
  }
  h2, h3, h4 {
    page-break-after: avoid;
  }
}
p {
  margin: 1em 0;
}
a {
  color: #1a1a1a;
}
a:visited {
  color: #1a1a1a;
}
img {
  max-width: 100%;
}
svg {
  height; auto;
  max-width: 100%;
}
h1, h2, h3, h4, h5, h6 {
  margin-top: 1.4em;
}
h5, h6 {
  font-size: 1em;
  font-style: italic;
}
h6 {
  font-weight: normal;
}
ol, ul {
  padding-left: 1.7em;
  margin-top: 1em;
}
li > ol, li > ul {
  margin-top: 0;
}
ul > li:not(:has(> p)) > ul,
ol > li:not(:has(> p)) > ul,
ul > li:not(:has(> p)) > ol,
ol > li:not(:has(> p)) > ol {
  margin-bottom: 0;
}
ul > li:not(:has(> p)) > ul > li:has(> p),
ol > li:not(:has(> p)) > ul > li:has(> p),
ul > li:not(:has(> p)) > ol > li:has(> p),
ol > li:not(:has(> p)) > ol > li:has(> p) {
  margin-top: 1rem;
}
blockquote {
  margin: 1em 0 1em 1.7em;
  padding-left: 1em;
  border-left: 2px solid #e6e6e6;
  color: #606060;
}
code {
  font-family: Menlo, Monaco, Consolas, 'Lucida Console', monospace;
  font-size: 85%;
  margin: 0;
  hyphens: manual;
}
pre {
  margin: 1em 0;
  overflow: auto;
}
pre code {
  padding: 0;
  overflow: visible;
  overflow-wrap: normal;
}
.sourceCode {
 background-color: transparent;
 overflow: visible;
}
hr {
  background-color: #1a1a1a;
  border: none;
  height: 1px;
  margin: 1em 0;
}
table {
  margin: 1em 0;
  border-collapse: collapse;
  width: 100%;
  overflow-x: auto;
  display: block;
  font-variant-numeric: lining-nums tabular-nums;
}
table caption {
  margin-bottom: 0.75em;
}
tbody {
  margin-top: 0.5em;
  border-top: 1px solid #1a1a1a;
  border-bottom: 1px solid #1a1a1a;
}
th {
  border-top: 1px solid #1a1a1a;
  padding: 0.25em 0.5em 0.25em 0.5em;
}
td {
  padding: 0.125em 0.5em 0.25em 0.5em;
}
header {
  margin-bottom: 4em;
  text-align: center;
}
#TOC li {
  list-style: none;
}
#TOC ul {
  padding-left: 1.3em;
}
#TOC > ul {
  padding-left: 0;
}
#TOC a:not(:hover) {
  text-decoration: none;
}
code{white-space: pre-wrap;}
span.smallcaps{font-variant: small-caps;}
div.columns{display: flex; gap: min(4vw, 1.5em);}
div.column{flex: auto; overflow-x: auto;}
div.hanging-indent{margin-left: 1.5em; text-indent: -1.5em;}
ul.task-list{list-style: none;}
ul.task-list li input[type="checkbox"] {
  width: 0.8em;
  margin: 0 0.8em 0.2em -1em; /* quarto-specific, see https://github.com/quarto-dev/quarto-cli/issues/4556 */ 
  vertical-align: middle;
}
/* CSS for syntax highlighting */
pre > code.sourceCode { white-space: pre; position: relative; }
pre > code.sourceCode > span { line-height: 1.25; }
pre > code.sourceCode > span:empty { height: 1.2em; }
.sourceCode { overflow: visible; }
code.sourceCode > span { color: inherit; text-decoration: inherit; }
div.sourceCode { margin: 1em 0; }
pre.sourceCode { margin: 0; }
@media screen {
div.sourceCode { overflow: auto; }
}
@media print {
pre > code.sourceCode { white-space: pre-wrap; }
pre > code.sourceCode > span { display: inline-block; text-indent: -5em; padding-left: 5em; }
}
pre.numberSource code
  { counter-reset: source-line 0; }
pre.numberSource code > span
  { position: relative; left: -4em; counter-increment: source-line; }
pre.numberSource code > span > a:first-child::before
  { content: counter(source-line);
    position: relative; left: -1em; text-align: right; vertical-align: baseline;
    border: none; display: inline-block;
    -webkit-touch-callout: none; -webkit-user-select: none;
    -khtml-user-select: none; -moz-user-select: none;
    -ms-user-select: none; user-select: none;
    padding: 0 4px; width: 4em;
  }
pre.numberSource { margin-left: 3em;  padding-left: 4px; }
div.sourceCode
  {   }
@media screen {
pre > code.sourceCode > span > a:first-child::before { text-decoration: underline; }
}
</style>


<link href="../../favicon.ico" rel="icon">
<script async="" src="https://www.googletagmanager.com/gtag/js?id="></script>

<script type="text/javascript">

window.dataLayer = window.dataLayer || [];
function gtag(){dataLayer.push(arguments);}
gtag('js', new Date());
gtag('config', '', { 'anonymize_ip': true});
</script>
<link rel="icon" type="image/x-icon" href="../../favicon.ico">
<meta property="og:title" content="Preact JS - Documentation – Technical Manuals">
<meta property="og:site_name" content="Technical Manuals">
</head><body><div class="navigation-header">
    <nav>
        <div>
            <div class="logo">
                <a href="../../" aria-label="Home">
                    <span>Technical Manuals - Home</span>
                </a>
            </div>
            <div class="nav-menu">
                <ul>
                    <li>
                        <a href="../../about.html">
                            <span class="menu-text">About</span>
                        </a>
                    </li>
                    <li> 
                        <a href="https://github.com/muthuspark" target="_blank">
                            <span class="menu-text">Github</span>
                        </a>
                    </li>
                    <li>
                        <a href="https://linkedin.com/in/krimuthu" target="_blank">
                            <span class="menu-text">Linkedin</span>
                        </a>
                    </li>
                    <li>
                        <button onclick="window.print()" class="print-button">
                            <svg width="20" height="20" viewbox="0 0 24 24" fill="none" stroke="currentColor" stroke-width="2">
                              <path d="M6 9V2h12v7"></path>
                              <path d="M6 18H4a2 2 0 01-2-2v-5a2 2 0 012-2h16a2 2 0 012 2v5a2 2 0 01-2 2h-2"></path>
                              <path d="M6 14h12v8H6z"></path>
                            </svg>
                            Print Page
                        </button>
                    </li>
                </ul>
            </div>
        </div>
    </nav>
</div>


<link rel="stylesheet" href="../../styles.css">





<header id="title-block-header">
<h1 class="title">Preact JS - Documentation</h1>

</header>

<nav id="TOC" role="doc-toc">
    <h2 id="toc-title">On this page</h2>
   
  <ul>
  <li><a href="#what-is-preact" id="toc-what-is-preact">What is Preact?</a></li>
  <li><a href="#why-use-preact" id="toc-why-use-preact">Why use Preact?</a></li>
  <li><a href="#preact-vs.-react" id="toc-preact-vs.-react">Preact vs.&nbsp;React</a></li>
  <li><a href="#setting-up-a-preact-project" id="toc-setting-up-a-preact-project">Setting up a Preact Project</a></li>
  <li><a href="#hello-world-example" id="toc-hello-world-example">Hello World Example</a></li>
  <li><a href="#core-concepts" id="toc-core-concepts">Core Concepts</a>
  <ul>
  <li><a href="#jsx" id="toc-jsx">JSX</a></li>
  <li><a href="#virtual-dom" id="toc-virtual-dom">Virtual DOM</a></li>
  <li><a href="#components" id="toc-components">Components</a></li>
  <li><a href="#state-management" id="toc-state-management">State Management</a></li>
  <li><a href="#props" id="toc-props">Props</a></li>
  <li><a href="#lifecycle-methods" id="toc-lifecycle-methods">Lifecycle Methods</a></li>
  <li><a href="#events" id="toc-events">Events</a></li>
  </ul></li>
  <li><a href="#working-with-components" id="toc-working-with-components">Working with Components</a>
  <ul>
  <li><a href="#creating-components" id="toc-creating-components">Creating Components</a></li>
  <li><a href="#functional-components" id="toc-functional-components">Functional Components</a></li>
  <li><a href="#class-components" id="toc-class-components">Class Components</a></li>
  <li><a href="#component-composition" id="toc-component-composition">Component Composition</a></li>
  <li><a href="#higher-order-components-hocs" id="toc-higher-order-components-hocs">Higher-Order Components (HOCs)</a></li>
  <li><a href="#render-props" id="toc-render-props">Render Props</a></li>
  <li><a href="#forwarding-refs" id="toc-forwarding-refs">Forwarding Refs</a></li>
  </ul></li>
  <li><a href="#advanced-concepts" id="toc-advanced-concepts">Advanced Concepts</a>
  <ul>
  <li><a href="#context-api" id="toc-context-api">Context API</a></li>
  <li><a href="#hooks" id="toc-hooks">Hooks</a></li>
  <li><a href="#suspense" id="toc-suspense">Suspense</a></li>
  <li><a href="#portals" id="toc-portals">Portals</a></li>
  <li><a href="#error-boundaries" id="toc-error-boundaries">Error Boundaries</a></li>
  <li><a href="#fragments" id="toc-fragments">Fragments</a></li>
  <li><a href="#memoization" id="toc-memoization">Memoization</a></li>
  </ul></li>
  <li><a href="#data-fetching-and-handling" id="toc-data-fetching-and-handling">Data Fetching and Handling</a>
  <ul>
  <li><a href="#fetching-data-with-fetch-api" id="toc-fetching-data-with-fetch-api">Fetching Data with Fetch API</a></li>
  <li><a href="#asynchronous-operations" id="toc-asynchronous-operations">Asynchronous Operations</a></li>
  <li><a href="#data-loading-states" id="toc-data-loading-states">Data Loading States</a></li>
  <li><a href="#error-handling" id="toc-error-handling">Error Handling</a></li>
  <li><a href="#data-caching" id="toc-data-caching">Data Caching</a></li>
  </ul></li>
  <li><a href="#routing-and-navigation" id="toc-routing-and-navigation">Routing and Navigation</a>
  <ul>
  <li><a href="#introduction-to-preact-router" id="toc-introduction-to-preact-router">Introduction to Preact Router</a></li>
  <li><a href="#basic-routing" id="toc-basic-routing">Basic Routing</a></li>
  <li><a href="#nested-routing" id="toc-nested-routing">Nested Routing</a></li>
  <li><a href="#route-parameters" id="toc-route-parameters">Route Parameters</a></li>
  <li><a href="#programmatic-navigation" id="toc-programmatic-navigation">Programmatic Navigation</a></li>
  <li><a href="#custom-link-components" id="toc-custom-link-components">Custom Link Components</a></li>
  </ul></li>
  <li><a href="#testing" id="toc-testing">Testing</a>
  <ul>
  <li><a href="#unit-testing" id="toc-unit-testing">Unit Testing</a></li>
  <li><a href="#integration-testing" id="toc-integration-testing">Integration Testing</a></li>
  <li><a href="#end-to-end-testing" id="toc-end-to-end-testing">End-to-End Testing</a></li>
  <li><a href="#testing-libraries-and-frameworks" id="toc-testing-libraries-and-frameworks">Testing Libraries and Frameworks</a></li>
  </ul></li>
  <li><a href="#optimization-and-performance" id="toc-optimization-and-performance">Optimization and Performance</a>
  <ul>
  <li><a href="#improving-render-performance" id="toc-improving-render-performance">Improving Render Performance</a></li>
  <li><a href="#minimizing-dom-updates" id="toc-minimizing-dom-updates">Minimizing DOM Updates</a></li>
  <li><a href="#code-splitting" id="toc-code-splitting">Code Splitting</a></li>
  <li><a href="#lazy-loading" id="toc-lazy-loading">Lazy Loading</a></li>
  <li><a href="#performance-measurement-and-profiling" id="toc-performance-measurement-and-profiling">Performance Measurement and Profiling</a></li>
  </ul></li>
  <li><a href="#deployment" id="toc-deployment">Deployment</a>
  <ul>
  <li><a href="#building-for-production" id="toc-building-for-production">Building for Production</a></li>
  <li><a href="#deployment-to-static-hosting" id="toc-deployment-to-static-hosting">Deployment to Static Hosting</a></li>
  <li><a href="#deployment-to-serverless-functions" id="toc-deployment-to-serverless-functions">Deployment to Serverless Functions</a></li>
  </ul></li>
  <li><a href="#preact-ecosystem" id="toc-preact-ecosystem">Preact Ecosystem</a>
  <ul>
  <li><a href="#community-and-resources" id="toc-community-and-resources">Community and Resources</a></li>
  <li><a href="#preact-plugins-and-add-ons" id="toc-preact-plugins-and-add-ons">Preact Plugins and Add-ons</a></li>
  <li><a href="#third-party-libraries" id="toc-third-party-libraries">Third-party Libraries</a></li>
  <li><a href="#contributing-to-preact" id="toc-contributing-to-preact">Contributing to Preact</a></li>
  </ul></li>
  <li><a href="#appendix" id="toc-appendix">Appendix</a>
  <ul>
  <li><a href="#glossary-of-terms" id="toc-glossary-of-terms">Glossary of Terms</a></li>
  <li><a href="#common-errors-and-troubleshooting" id="toc-common-errors-and-troubleshooting">Common Errors and Troubleshooting</a></li>
  </ul></li>
  </ul>
</nav>
<h3 id="what-is-preact">What is Preact?</h3>
<p>Preact is a fast 3kB alternative to React with the same ES6 API. It’s a lightweight library that allows you to build user interfaces with a component-based architecture, similar to React. Preact’s core strength lies in its incredibly small bundle size, making it ideal for projects where performance and download speed are paramount, such as mobile apps or websites with limited bandwidth. Despite its small size, Preact offers a nearly identical API to React, meaning that most React code will work seamlessly with Preact with minimal, if any, changes.</p>
<h3 id="why-use-preact">Why use Preact?</h3>
<p>Several compelling reasons exist for choosing Preact:</p>
<ul>
<li><strong>Blazing Fast Performance:</strong> Preact’s tiny size translates to faster load times and improved overall application performance. This is crucial for delivering a smooth user experience, especially on low-powered devices or slow networks.</li>
<li><strong>Near-Identical React API:</strong> Developers familiar with React can quickly transition to Preact because of its compatible API. This minimizes the learning curve and allows for easy code migration.</li>
<li><strong>Small Bundle Size:</strong> Preact’s small footprint reduces the amount of JavaScript that needs to be downloaded and parsed, resulting in faster initial load times.</li>
<li><strong>SEO-Friendly:</strong> The fast load times directly contribute to better SEO scores, as search engines prioritize websites that load quickly.</li>
<li><strong>Active Community and Support:</strong> Preact benefits from a supportive community and active development, ensuring ongoing maintenance and improvements.</li>
</ul>
<h3 id="preact-vs.-react">Preact vs.&nbsp;React</h3>
<table class="caption-top">
<colgroup>
<col style="width: 17%">
<col style="width: 40%">
<col style="width: 41%">
</colgroup>
<thead>
<tr class="header">
<th>Feature</th>
<th>Preact</th>
<th>React</th>
</tr>
</thead>
<tbody>
<tr class="odd">
<td>Size</td>
<td>~3kB</td>
<td>Significantly larger (~50kB+)</td>
</tr>
<tr class="even">
<td>API Compatibility</td>
<td>Nearly identical</td>
<td>N/A</td>
</tr>
<tr class="odd">
<td>Performance</td>
<td>Generally faster due to smaller size</td>
<td>Good, but larger size impacts performance</td>
</tr>
<tr class="even">
<td>Ecosystem</td>
<td>Smaller than React’s</td>
<td>Vast and extensive ecosystem</td>
</tr>
<tr class="odd">
<td>Learning Curve</td>
<td>Easy for React developers</td>
<td>Steeper learning curve initially</td>
</tr>
</tbody>
</table>
<h3 id="setting-up-a-preact-project">Setting up a Preact Project</h3>
<p>The easiest way to set up a Preact project is using the <code>preact-cli</code>:</p>
<ol type="1">
<li><p><strong>Install Node.js and npm (or yarn):</strong> Ensure you have Node.js and npm (Node Package Manager) installed on your system. Yarn is also a viable package manager alternative.</p></li>
<li><p><strong>Create a new project:</strong> Open your terminal and run: <code>npx create-preact-app my-preact-app</code> (Replace <code>my-preact-app</code> with your desired project name).</p></li>
<li><p><strong>Navigate to the project directory:</strong> <code>cd my-preact-app</code></p></li>
<li><p><strong>Start the development server:</strong> <code>npm start</code> (or <code>yarn start</code>). This will start a local development server and open the application in your browser.</p></li>
</ol>
<h3 id="hello-world-example">Hello World Example</h3>
<p>Here’s a simple “Hello, World!” example using Preact:</p>
<div class="sourceCode" id="cb1"><pre class="sourceCode jsx"><code class="sourceCode javascriptreact"><span id="cb1-1"><a href="#cb1-1" aria-hidden="true" tabindex="-1"></a><span class="im">import</span> { h<span class="op">,</span> render } <span class="im">from</span> <span class="st">'preact'</span><span class="op">;</span></span>
<span id="cb1-2"><a href="#cb1-2" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb1-3"><a href="#cb1-3" aria-hidden="true" tabindex="-1"></a><span class="kw">function</span> <span class="fu">App</span>() {</span>
<span id="cb1-4"><a href="#cb1-4" aria-hidden="true" tabindex="-1"></a>  <span class="cf">return</span> (</span>
<span id="cb1-5"><a href="#cb1-5" aria-hidden="true" tabindex="-1"></a>    <span class="kw">&lt;div&gt;</span></span>
<span id="cb1-6"><a href="#cb1-6" aria-hidden="true" tabindex="-1"></a>      <span class="kw">&lt;h1&gt;</span>Hello, World!<span class="kw">&lt;/h1&gt;</span></span>
<span id="cb1-7"><a href="#cb1-7" aria-hidden="true" tabindex="-1"></a>    <span class="kw">&lt;/div&gt;</span></span>
<span id="cb1-8"><a href="#cb1-8" aria-hidden="true" tabindex="-1"></a>  )<span class="op">;</span></span>
<span id="cb1-9"><a href="#cb1-9" aria-hidden="true" tabindex="-1"></a>}</span>
<span id="cb1-10"><a href="#cb1-10" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb1-11"><a href="#cb1-11" aria-hidden="true" tabindex="-1"></a><span class="fu">render</span>(<span class="fu">&lt;App</span> <span class="fu">/&gt;</span><span class="op">,</span> <span class="bu">document</span><span class="op">.</span><span class="fu">getElementById</span>(<span class="st">'root'</span>))<span class="op">;</span></span></code></pre></div>
<p>This code imports the necessary functions from <code>preact</code>, defines a simple functional component <code>App</code>, and renders it into the DOM element with the ID “root”. Remember to include a <code>&lt;div id="root"&gt;&lt;/div&gt;</code> in your HTML file. This example demonstrates the fundamental structure of a Preact application.</p>
<h2 id="core-concepts">Core Concepts</h2>
<h3 id="jsx">JSX</h3>
<p>JSX (JavaScript XML) is a syntax extension to JavaScript. It allows you to write HTML-like code within your JavaScript files. In Preact, JSX is used to describe the user interface. It’s not directly understood by JavaScript engines; instead, it’s transformed into regular JavaScript functions during the build process using a tool like Babel. This transformation makes it easier to build and manage complex UI structures in a more readable and maintainable way. JSX elements are often referred to as “virtual nodes” because they’re representations of actual DOM nodes before they’re rendered.</p>
<h3 id="virtual-dom">Virtual DOM</h3>
<p>Preact utilizes a Virtual DOM (VDOM) for efficient updates. The VDOM is a lightweight in-memory representation of the actual DOM. When changes occur in your application (e.g., updating component state), Preact updates the VDOM first. It then compares the updated VDOM with the previous VDOM using a highly optimized diffing algorithm. Only the necessary changes are applied to the real DOM, minimizing direct manipulations and improving performance significantly. This process avoids expensive DOM manipulations, making updates much faster.</p>
<h3 id="components">Components</h3>
<p>Components are reusable building blocks of Preact applications. They encapsulate UI elements and their behavior, promoting modularity and maintainability. Preact supports two primary types of components: functional components and class components.</p>
<ul>
<li><p><strong>Functional Components:</strong> These are simple JavaScript functions that accept props (input data) and return JSX. They are stateless by default.</p></li>
<li><p><strong>Class Components:</strong> These are JavaScript classes that extend <code>Component</code> and allow for managing internal state and lifecycle methods. They are suited for more complex components that require state and lifecycle management.</p></li>
</ul>
<h3 id="state-management">State Management</h3>
<p>State refers to internal data within a component that can change over time, causing the UI to re-render. In Preact, state is typically managed using the <code>useState</code> hook (for functional components) or the <code>this.state</code> object (for class components). When the state changes, Preact’s efficient diffing mechanism ensures only the necessary parts of the UI are updated, preventing unnecessary re-renders. For more complex state management needs, consider using dedicated libraries such as Zustand, Jotai, or Redux (though usually overkill for simpler Preact apps).</p>
<h3 id="props">Props</h3>
<p>Props are immutable input data passed to a component from its parent component. They are used to customize the behavior and appearance of components. Props are read-only within the child component – you cannot modify them directly. Props are passed as attributes in the JSX.</p>
<h3 id="lifecycle-methods">Lifecycle Methods</h3>
<p>Lifecycle methods are functions that are called at specific points in a component’s existence. These methods allow you to perform actions at different stages, such as component mounting, updating, or unmounting. Class components offer several lifecycle methods (e.g., <code>componentDidMount</code>, <code>componentDidUpdate</code>, <code>componentWillUnmount</code>), whereas functional components primarily leverage hooks to achieve similar functionality.</p>
<h3 id="events">Events</h3>
<p>Preact handles events similarly to React. Events are handled using JavaScript event handlers attached to JSX elements. Event handlers are functions that are executed when a specific event occurs on an element (e.g., a click, mouseover, or keypress). The event object provides details about the event that occurred. Event handlers are written within JSX using the <code>on</code> prefix (e.g., <code>onClick</code>, <code>onMouseOver</code>, <code>onChange</code>).</p>
<h2 id="working-with-components">Working with Components</h2>
<h3 id="creating-components">Creating Components</h3>
<p>Preact components are the fundamental building blocks of your application’s UI. They encapsulate logic and rendering, promoting reusability and maintainability. The simplest way to create a component is by defining a function that returns JSX. More complex components can leverage class components for managing internal state and lifecycle methods. Regardless of the approach, components follow a consistent pattern: they receive data via props and render JSX based on that data and their internal state.</p>
<h3 id="functional-components">Functional Components</h3>
<p>Functional components are the most concise way to create components in Preact. They are plain JavaScript functions that take props as an argument and return JSX. They are stateless by default, meaning they don’t manage internal state. However, using the <code>useState</code> hook, they can be made stateful. Functional components are often preferred for their simplicity and readability.</p>
<div class="sourceCode" id="cb2"><pre class="sourceCode jsx"><code class="sourceCode javascriptreact"><span id="cb2-1"><a href="#cb2-1" aria-hidden="true" tabindex="-1"></a><span class="kw">function</span> <span class="fu">MyComponent</span>(props) {</span>
<span id="cb2-2"><a href="#cb2-2" aria-hidden="true" tabindex="-1"></a>  <span class="cf">return</span> (</span>
<span id="cb2-3"><a href="#cb2-3" aria-hidden="true" tabindex="-1"></a>    <span class="kw">&lt;div&gt;</span></span>
<span id="cb2-4"><a href="#cb2-4" aria-hidden="true" tabindex="-1"></a>      <span class="kw">&lt;h1&gt;</span><span class="va">{</span>props<span class="op">.</span><span class="at">title</span><span class="va">}</span><span class="kw">&lt;/h1&gt;</span></span>
<span id="cb2-5"><a href="#cb2-5" aria-hidden="true" tabindex="-1"></a>      <span class="kw">&lt;p&gt;</span><span class="va">{</span>props<span class="op">.</span><span class="at">content</span><span class="va">}</span><span class="kw">&lt;/p&gt;</span></span>
<span id="cb2-6"><a href="#cb2-6" aria-hidden="true" tabindex="-1"></a>    <span class="kw">&lt;/div&gt;</span></span>
<span id="cb2-7"><a href="#cb2-7" aria-hidden="true" tabindex="-1"></a>  )<span class="op">;</span></span>
<span id="cb2-8"><a href="#cb2-8" aria-hidden="true" tabindex="-1"></a>}</span></code></pre></div>
<h3 id="class-components">Class Components</h3>
<p>Class components offer more capabilities, especially for managing internal state and lifecycle methods. They are defined as JavaScript classes that extend <code>React.Component</code> (or, in Preact, it’s usually just <code>Component</code>). They have access to <code>this.state</code> for managing state and lifecycle methods like <code>componentDidMount</code>, <code>componentDidUpdate</code>, and <code>componentWillUnmount</code>. While functional components are often preferred for simplicity, class components remain useful for handling more complex scenarios needing explicit lifecycle control.</p>
<div class="sourceCode" id="cb3"><pre class="sourceCode jsx"><code class="sourceCode javascriptreact"><span id="cb3-1"><a href="#cb3-1" aria-hidden="true" tabindex="-1"></a><span class="im">import</span> { Component } <span class="im">from</span> <span class="st">'preact'</span><span class="op">;</span></span>
<span id="cb3-2"><a href="#cb3-2" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb3-3"><a href="#cb3-3" aria-hidden="true" tabindex="-1"></a><span class="kw">class</span> Counter <span class="kw">extends</span> Component {</span>
<span id="cb3-4"><a href="#cb3-4" aria-hidden="true" tabindex="-1"></a>  <span class="fu">constructor</span>(props) {</span>
<span id="cb3-5"><a href="#cb3-5" aria-hidden="true" tabindex="-1"></a>    <span class="kw">super</span>(props)<span class="op">;</span></span>
<span id="cb3-6"><a href="#cb3-6" aria-hidden="true" tabindex="-1"></a>    <span class="kw">this</span><span class="op">.</span><span class="at">state</span> <span class="op">=</span> { <span class="dt">count</span><span class="op">:</span> <span class="dv">0</span> }<span class="op">;</span></span>
<span id="cb3-7"><a href="#cb3-7" aria-hidden="true" tabindex="-1"></a>  }</span>
<span id="cb3-8"><a href="#cb3-8" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb3-9"><a href="#cb3-9" aria-hidden="true" tabindex="-1"></a>  <span class="fu">render</span>() {</span>
<span id="cb3-10"><a href="#cb3-10" aria-hidden="true" tabindex="-1"></a>    <span class="cf">return</span> (</span>
<span id="cb3-11"><a href="#cb3-11" aria-hidden="true" tabindex="-1"></a>      <span class="kw">&lt;div&gt;</span></span>
<span id="cb3-12"><a href="#cb3-12" aria-hidden="true" tabindex="-1"></a>        <span class="kw">&lt;p&gt;</span>Count: <span class="va">{</span><span class="kw">this</span><span class="op">.</span><span class="at">state</span><span class="op">.</span><span class="at">count</span><span class="va">}</span><span class="kw">&lt;/p&gt;</span></span>
<span id="cb3-13"><a href="#cb3-13" aria-hidden="true" tabindex="-1"></a>        <span class="kw">&lt;button</span> <span class="ot">onClick</span><span class="op">=</span><span class="va">{</span>() <span class="kw">=&gt;</span> <span class="kw">this</span><span class="op">.</span><span class="fu">setState</span>({ <span class="dt">count</span><span class="op">:</span> <span class="kw">this</span><span class="op">.</span><span class="at">state</span><span class="op">.</span><span class="at">count</span> <span class="op">+</span> <span class="dv">1</span> })<span class="va">}</span><span class="kw">&gt;</span>Increment<span class="kw">&lt;/button&gt;</span></span>
<span id="cb3-14"><a href="#cb3-14" aria-hidden="true" tabindex="-1"></a>      <span class="kw">&lt;/div&gt;</span></span>
<span id="cb3-15"><a href="#cb3-15" aria-hidden="true" tabindex="-1"></a>    )<span class="op">;</span></span>
<span id="cb3-16"><a href="#cb3-16" aria-hidden="true" tabindex="-1"></a>  }</span>
<span id="cb3-17"><a href="#cb3-17" aria-hidden="true" tabindex="-1"></a>}</span></code></pre></div>
<h3 id="component-composition">Component Composition</h3>
<p>Component composition is a powerful technique where you combine smaller, simpler components to create more complex ones. This promotes reusability and improves code organization. Instead of creating a monolithic component, break down the UI into smaller, manageable pieces and nest them together. This leads to better maintainability and understanding.</p>
<h3 id="higher-order-components-hocs">Higher-Order Components (HOCs)</h3>
<p>Higher-Order Components (HOCs) are advanced techniques for reusing component logic. An HOC is a function that takes a component as an argument and returns a new enhanced component. HOCs are useful for adding functionality to components without modifying their core logic, such as adding logging, authentication, or data fetching capabilities.</p>
<h3 id="render-props">Render Props</h3>
<p>Render props are a technique for sharing code between React components using a prop whose value is a function. A component using the render props pattern accepts a <code>render</code> prop, which is a function that receives data and returns JSX. This approach allows the component using the render prop to customize its output based on the data provided.</p>
<h3 id="forwarding-refs">Forwarding Refs</h3>
<p>Refs provide a way to access DOM elements or component instances directly. However, they don’t work seamlessly across component boundaries. Forwarding refs allows you to pass a ref from a parent component to a child component, enabling access to the child component’s underlying DOM element or instance from the parent. This is essential for scenarios where you need to directly interact with a child component’s DOM (for example, focusing an input). Preact provides <code>forwardRef</code> to handle this.</p>
<h2 id="advanced-concepts">Advanced Concepts</h2>
<h3 id="context-api">Context API</h3>
<p>Preact’s Context API provides a way to pass data through the component tree without having to pass props down manually at every level. This is particularly useful for sharing global state or configuration data that many components need to access. A Context object is created using <code>createContext</code>, and values are provided using the <code>Provider</code> component. Components can then subscribe to the context using the <code>useContext</code> hook (in functional components) or by consuming the context directly (in class components). This avoids “prop drilling,” making your code cleaner and more maintainable.</p>
<h3 id="hooks">Hooks</h3>
<p>Hooks are functions that let you “hook into” React state and lifecycle features from within functional components. Preact supports most of React’s hooks, including <code>useState</code>, <code>useEffect</code>, <code>useContext</code>, <code>useReducer</code>, <code>useCallback</code>, <code>useMemo</code>, and <code>useRef</code>. Hooks allow functional components to manage state and side effects, making them a powerful alternative to class components in many scenarios. They promote cleaner and more readable code, particularly for managing complex logic within functional components.</p>
<h3 id="suspense">Suspense</h3>
<p>Suspense allows you to declaratively handle loading states in your application. It is primarily used with asynchronous operations like data fetching or image loading. The <code>&lt;Suspense&gt;</code> component renders a fallback UI while the asynchronous operation is in progress, providing a smoother user experience. This prevents the UI from appearing blank or broken while waiting for data to load. Preact’s support for Suspense might differ slightly from React’s depending on the version. Check the Preact documentation for the most up-to-date details.</p>
<h3 id="portals">Portals</h3>
<p>Portals allow you to render a child component’s output into a different part of the DOM tree than where the parent component is rendered. This is useful for creating modals, tooltips, or other UI elements that need to be placed outside the usual component hierarchy. Preact’s <code>createPortal</code> function facilitates this. It takes the child component’s JSX and the target DOM element as arguments. This enables more flexibility in UI placement.</p>
<h3 id="error-boundaries">Error Boundaries</h3>
<p>Error boundaries are components that catch JavaScript errors in their child component tree and display a fallback UI instead of crashing the entire application. This helps to gracefully handle errors and prevent unexpected application crashes. Preact allows you to define a component as an error boundary by implementing the <code>componentDidCatch</code> lifecycle method. This method takes the error and information about the component where the error occurred as arguments. The fallback UI is then rendered in place of the component that threw the error.</p>
<h3 id="fragments">Fragments</h3>
<p>Fragments allow you to group multiple elements together without adding extra nodes to the DOM. They’re useful when you need to return multiple elements from a component but don’t want an extra unnecessary <code>&lt;div&gt;</code> or other container element in the rendered output. In JSX, you can represent a fragment using empty tags <code>&lt;&gt; &lt;/&gt;</code> or <code>&lt;React.Fragment&gt;&lt;/React.Fragment&gt;</code>.</p>
<h3 id="memoization">Memoization</h3>
<p>Memoization is an optimization technique that caches the result of an expensive function call and returns the cached result when the same inputs are provided again. In Preact, <code>useMemo</code> is a hook that provides memoization capabilities. It takes a function and an array of dependencies as arguments. The function is only re-executed when one of the dependencies changes, preventing unnecessary calculations and enhancing performance. This is especially beneficial for expensive calculations or rendering logic that doesn’t need to re-run on every render.</p>
<h2 id="data-fetching-and-handling">Data Fetching and Handling</h2>
<h3 id="fetching-data-with-fetch-api">Fetching Data with Fetch API</h3>
<p>The <code>fetch</code> API is a common way to retrieve data from external sources in Preact applications. It’s a simple and powerful method for making HTTP requests. <code>fetch</code> returns a promise that resolves with the response from the server. You can then access the response data using methods like <code>.json()</code> to parse JSON responses. Because <code>fetch</code> returns a promise, you’ll typically use <code>.then()</code> to handle the response and <code>.catch()</code> to handle any errors.</p>
<div class="sourceCode" id="cb4"><pre class="sourceCode javascript"><code class="sourceCode javascript"><span id="cb4-1"><a href="#cb4-1" aria-hidden="true" tabindex="-1"></a><span class="fu">useEffect</span>(() <span class="kw">=&gt;</span> {</span>
<span id="cb4-2"><a href="#cb4-2" aria-hidden="true" tabindex="-1"></a>  <span class="kw">const</span> fetchData <span class="op">=</span> <span class="kw">async</span> () <span class="kw">=&gt;</span> {</span>
<span id="cb4-3"><a href="#cb4-3" aria-hidden="true" tabindex="-1"></a>    <span class="cf">try</span> {</span>
<span id="cb4-4"><a href="#cb4-4" aria-hidden="true" tabindex="-1"></a>      <span class="kw">const</span> response <span class="op">=</span> <span class="cf">await</span> <span class="fu">fetch</span>(<span class="st">'/api/data'</span>)<span class="op">;</span></span>
<span id="cb4-5"><a href="#cb4-5" aria-hidden="true" tabindex="-1"></a>      <span class="cf">if</span> (<span class="op">!</span>response<span class="op">.</span><span class="at">ok</span>) {</span>
<span id="cb4-6"><a href="#cb4-6" aria-hidden="true" tabindex="-1"></a>        <span class="cf">throw</span> <span class="kw">new</span> <span class="bu">Error</span>(<span class="vs">`HTTP error! status: </span><span class="sc">${</span>response<span class="op">.</span><span class="at">status</span><span class="sc">}</span><span class="vs">`</span>)<span class="op">;</span></span>
<span id="cb4-7"><a href="#cb4-7" aria-hidden="true" tabindex="-1"></a>      }</span>
<span id="cb4-8"><a href="#cb4-8" aria-hidden="true" tabindex="-1"></a>      <span class="kw">const</span> data <span class="op">=</span> <span class="cf">await</span> response<span class="op">.</span><span class="fu">json</span>()<span class="op">;</span></span>
<span id="cb4-9"><a href="#cb4-9" aria-hidden="true" tabindex="-1"></a>      <span class="fu">setData</span>(data)<span class="op">;</span></span>
<span id="cb4-10"><a href="#cb4-10" aria-hidden="true" tabindex="-1"></a>    } <span class="cf">catch</span> (error) {</span>
<span id="cb4-11"><a href="#cb4-11" aria-hidden="true" tabindex="-1"></a>      <span class="fu">setError</span>(error)<span class="op">;</span></span>
<span id="cb4-12"><a href="#cb4-12" aria-hidden="true" tabindex="-1"></a>    }</span>
<span id="cb4-13"><a href="#cb4-13" aria-hidden="true" tabindex="-1"></a>  }<span class="op">;</span></span>
<span id="cb4-14"><a href="#cb4-14" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb4-15"><a href="#cb4-15" aria-hidden="true" tabindex="-1"></a>  <span class="fu">fetchData</span>()<span class="op">;</span></span>
<span id="cb4-16"><a href="#cb4-16" aria-hidden="true" tabindex="-1"></a>}<span class="op">,</span> [])<span class="op">;</span></span></code></pre></div>
<h3 id="asynchronous-operations">Asynchronous Operations</h3>
<p>Data fetching is inherently asynchronous. This means it takes time and doesn’t block the execution of other code. In Preact, asynchronous operations are often handled using promises and async/await. Promises provide a way to represent the eventual result of an asynchronous operation, and async/await makes asynchronous code easier to read and write. The <code>useEffect</code> hook is frequently used to manage asynchronous operations, ensuring they run after the component mounts and cleanup any resources when the component unmounts.</p>
<h3 id="data-loading-states">Data Loading States</h3>
<p>When fetching data, it’s important to manage the loading state to provide feedback to the user. This usually involves using state variables to track whether data is loading, has loaded successfully, or has failed to load. A loading indicator (e.g., a spinner) can be displayed while data is being fetched, and error messages can be shown if there’s a problem.</p>
<div class="sourceCode" id="cb5"><pre class="sourceCode javascript"><code class="sourceCode javascript"><span id="cb5-1"><a href="#cb5-1" aria-hidden="true" tabindex="-1"></a><span class="kw">const</span> [data<span class="op">,</span> setData] <span class="op">=</span> <span class="fu">useState</span>(<span class="kw">null</span>)<span class="op">;</span></span>
<span id="cb5-2"><a href="#cb5-2" aria-hidden="true" tabindex="-1"></a><span class="kw">const</span> [loading<span class="op">,</span> setLoading] <span class="op">=</span> <span class="fu">useState</span>(<span class="kw">true</span>)<span class="op">;</span></span>
<span id="cb5-3"><a href="#cb5-3" aria-hidden="true" tabindex="-1"></a><span class="kw">const</span> [error<span class="op">,</span> setError] <span class="op">=</span> <span class="fu">useState</span>(<span class="kw">null</span>)<span class="op">;</span></span>
<span id="cb5-4"><a href="#cb5-4" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb5-5"><a href="#cb5-5" aria-hidden="true" tabindex="-1"></a><span class="fu">useEffect</span>(() <span class="kw">=&gt;</span> {</span>
<span id="cb5-6"><a href="#cb5-6" aria-hidden="true" tabindex="-1"></a>  <span class="co">// ... fetch data ...</span></span>
<span id="cb5-7"><a href="#cb5-7" aria-hidden="true" tabindex="-1"></a>  <span class="fu">setLoading</span>(<span class="kw">false</span>)<span class="op">;</span></span>
<span id="cb5-8"><a href="#cb5-8" aria-hidden="true" tabindex="-1"></a>}<span class="op">,</span> [])<span class="op">;</span></span>
<span id="cb5-9"><a href="#cb5-9" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb5-10"><a href="#cb5-10" aria-hidden="true" tabindex="-1"></a><span class="cf">if</span> (loading) {</span>
<span id="cb5-11"><a href="#cb5-11" aria-hidden="true" tabindex="-1"></a>  <span class="cf">return</span> <span class="op">&lt;</span>p<span class="op">&gt;</span>Loading<span class="op">...&lt;/</span>p<span class="op">&gt;;</span></span>
<span id="cb5-12"><a href="#cb5-12" aria-hidden="true" tabindex="-1"></a>}</span>
<span id="cb5-13"><a href="#cb5-13" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb5-14"><a href="#cb5-14" aria-hidden="true" tabindex="-1"></a><span class="cf">if</span> (error) {</span>
<span id="cb5-15"><a href="#cb5-15" aria-hidden="true" tabindex="-1"></a>  <span class="cf">return</span> <span class="op">&lt;</span>p<span class="op">&gt;</span><span class="dt">Error</span><span class="op">:</span> {error<span class="op">.</span><span class="at">message</span>}<span class="op">&lt;/</span>p<span class="op">&gt;;</span></span>
<span id="cb5-16"><a href="#cb5-16" aria-hidden="true" tabindex="-1"></a>}</span>
<span id="cb5-17"><a href="#cb5-17" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb5-18"><a href="#cb5-18" aria-hidden="true" tabindex="-1"></a><span class="cf">return</span> (</span>
<span id="cb5-19"><a href="#cb5-19" aria-hidden="true" tabindex="-1"></a>  <span class="co">// ... render data ...</span></span>
<span id="cb5-20"><a href="#cb5-20" aria-hidden="true" tabindex="-1"></a>)<span class="op">;</span></span></code></pre></div>
<h3 id="error-handling">Error Handling</h3>
<p>Robust error handling is essential for a reliable application. When fetching data, errors can occur due to network problems, server errors, or incorrect data formats. It’s good practice to use <code>try...catch</code> blocks to handle potential errors during the fetching process. Displaying informative error messages to the user can significantly improve the user experience. Consider logging errors for debugging purposes.</p>
<h3 id="data-caching">Data Caching</h3>
<p>Caching data can improve performance by avoiding repeated fetches of the same data. Preact doesn’t have built-in caching mechanisms; however, you can implement caching using libraries or by managing a local cache within your application’s state. Techniques include storing data in browser storage (localStorage or sessionStorage) or using a dedicated caching library. Consider the data’s expiration time and update frequency when implementing caching. You might also want to check for stale data or implement update strategies.</p>
<h2 id="routing-and-navigation">Routing and Navigation</h2>
<h3 id="introduction-to-preact-router">Introduction to Preact Router</h3>
<p>Preact Router is a popular routing library for Preact applications. It provides a declarative way to define routes and handle navigation within your application. It allows you to map URLs to components, making it easy to build single-page applications (SPAs) with multiple views. Preact Router is lightweight and efficient, aligning well with Preact’s performance-focused philosophy. You’ll typically install it via npm or yarn (<code>npm install preact-router</code>).</p>
<h3 id="basic-routing">Basic Routing</h3>
<p>Basic routing involves mapping URLs to components. You define routes using the <code>&lt;Route&gt;</code> component, specifying the path and the component to render for that path. The <code>&lt;Router&gt;</code> component wraps your routes, acting as the central point for routing within your application.</p>
<div class="sourceCode" id="cb6"><pre class="sourceCode jsx"><code class="sourceCode javascriptreact"><span id="cb6-1"><a href="#cb6-1" aria-hidden="true" tabindex="-1"></a><span class="im">import</span> { Router<span class="op">,</span> Route } <span class="im">from</span> <span class="st">'preact-router'</span><span class="op">;</span></span>
<span id="cb6-2"><a href="#cb6-2" aria-hidden="true" tabindex="-1"></a><span class="im">import</span> Home <span class="im">from</span> <span class="st">'./Home'</span><span class="op">;</span></span>
<span id="cb6-3"><a href="#cb6-3" aria-hidden="true" tabindex="-1"></a><span class="im">import</span> About <span class="im">from</span> <span class="st">'./About'</span><span class="op">;</span></span>
<span id="cb6-4"><a href="#cb6-4" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb6-5"><a href="#cb6-5" aria-hidden="true" tabindex="-1"></a><span class="kw">const</span> App <span class="op">=</span> () <span class="kw">=&gt;</span> (</span>
<span id="cb6-6"><a href="#cb6-6" aria-hidden="true" tabindex="-1"></a>  <span class="fu">&lt;Router&gt;</span></span>
<span id="cb6-7"><a href="#cb6-7" aria-hidden="true" tabindex="-1"></a>    <span class="fu">&lt;Route</span> <span class="ot">path</span><span class="op">=</span><span class="st">"/"</span> <span class="ot">component</span><span class="op">=</span><span class="va">{</span>Home<span class="va">}</span> <span class="fu">/&gt;</span></span>
<span id="cb6-8"><a href="#cb6-8" aria-hidden="true" tabindex="-1"></a>    <span class="fu">&lt;Route</span> <span class="ot">path</span><span class="op">=</span><span class="st">"/about"</span> <span class="ot">component</span><span class="op">=</span><span class="va">{</span>About<span class="va">}</span> <span class="fu">/&gt;</span></span>
<span id="cb6-9"><a href="#cb6-9" aria-hidden="true" tabindex="-1"></a>  <span class="fu">&lt;/Router&gt;</span></span>
<span id="cb6-10"><a href="#cb6-10" aria-hidden="true" tabindex="-1"></a>)<span class="op">;</span></span></code></pre></div>
<h3 id="nested-routing">Nested Routing</h3>
<p>Nested routing allows you to create a hierarchy of routes. You can nest <code>&lt;Router&gt;</code> components within other routes to create more complex routing structures. This is useful for organizing larger applications and creating more manageable route definitions.</p>
<div class="sourceCode" id="cb7"><pre class="sourceCode jsx"><code class="sourceCode javascriptreact"><span id="cb7-1"><a href="#cb7-1" aria-hidden="true" tabindex="-1"></a><span class="im">import</span> { Router<span class="op">,</span> Route } <span class="im">from</span> <span class="st">'preact-router'</span><span class="op">;</span></span>
<span id="cb7-2"><a href="#cb7-2" aria-hidden="true" tabindex="-1"></a><span class="im">import</span> Home <span class="im">from</span> <span class="st">'./Home'</span><span class="op">;</span></span>
<span id="cb7-3"><a href="#cb7-3" aria-hidden="true" tabindex="-1"></a><span class="im">import</span> About <span class="im">from</span> <span class="st">'./About'</span><span class="op">;</span></span>
<span id="cb7-4"><a href="#cb7-4" aria-hidden="true" tabindex="-1"></a><span class="im">import</span> Products <span class="im">from</span> <span class="st">'./Products'</span><span class="op">;</span></span>
<span id="cb7-5"><a href="#cb7-5" aria-hidden="true" tabindex="-1"></a><span class="im">import</span> ProductDetails <span class="im">from</span> <span class="st">'./ProductDetails'</span><span class="op">;</span></span>
<span id="cb7-6"><a href="#cb7-6" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb7-7"><a href="#cb7-7" aria-hidden="true" tabindex="-1"></a><span class="kw">const</span> App <span class="op">=</span> () <span class="kw">=&gt;</span> (</span>
<span id="cb7-8"><a href="#cb7-8" aria-hidden="true" tabindex="-1"></a>  <span class="fu">&lt;Router&gt;</span></span>
<span id="cb7-9"><a href="#cb7-9" aria-hidden="true" tabindex="-1"></a>    <span class="fu">&lt;Route</span> <span class="ot">path</span><span class="op">=</span><span class="st">"/"</span> <span class="ot">component</span><span class="op">=</span><span class="va">{</span>Home<span class="va">}</span> <span class="fu">/&gt;</span></span>
<span id="cb7-10"><a href="#cb7-10" aria-hidden="true" tabindex="-1"></a>    <span class="fu">&lt;Route</span> <span class="ot">path</span><span class="op">=</span><span class="st">"/about"</span> <span class="ot">component</span><span class="op">=</span><span class="va">{</span>About<span class="va">}</span> <span class="fu">/&gt;</span></span>
<span id="cb7-11"><a href="#cb7-11" aria-hidden="true" tabindex="-1"></a>    <span class="fu">&lt;Route</span> <span class="ot">path</span><span class="op">=</span><span class="st">"/products"</span><span class="fu">&gt;</span></span>
<span id="cb7-12"><a href="#cb7-12" aria-hidden="true" tabindex="-1"></a>      <span class="fu">&lt;Route</span> <span class="ot">path</span><span class="op">=</span><span class="st">"/"</span> <span class="ot">component</span><span class="op">=</span><span class="va">{</span>Products<span class="va">}</span> <span class="fu">/&gt;</span></span>
<span id="cb7-13"><a href="#cb7-13" aria-hidden="true" tabindex="-1"></a>      <span class="fu">&lt;Route</span> <span class="ot">path</span><span class="op">=</span><span class="st">"/:productId"</span> <span class="ot">component</span><span class="op">=</span><span class="va">{</span>ProductDetails<span class="va">}</span> <span class="fu">/&gt;</span></span>
<span id="cb7-14"><a href="#cb7-14" aria-hidden="true" tabindex="-1"></a>    <span class="fu">&lt;/Route&gt;</span></span>
<span id="cb7-15"><a href="#cb7-15" aria-hidden="true" tabindex="-1"></a>  <span class="fu">&lt;/Router&gt;</span></span>
<span id="cb7-16"><a href="#cb7-16" aria-hidden="true" tabindex="-1"></a>)<span class="op">;</span></span></code></pre></div>
<h3 id="route-parameters">Route Parameters</h3>
<p>Route parameters allow you to pass dynamic values into your routes. These parameters are accessed within the component using the <code>params</code> property. Parameters are defined in the path using colons (<code>:paramName</code>).</p>
<div class="sourceCode" id="cb8"><pre class="sourceCode jsx"><code class="sourceCode javascriptreact"><span id="cb8-1"><a href="#cb8-1" aria-hidden="true" tabindex="-1"></a><span class="im">import</span> { Router<span class="op">,</span> Route } <span class="im">from</span> <span class="st">'preact-router'</span><span class="op">;</span></span>
<span id="cb8-2"><a href="#cb8-2" aria-hidden="true" tabindex="-1"></a><span class="im">import</span> ProductDetails <span class="im">from</span> <span class="st">'./ProductDetails'</span><span class="op">;</span></span>
<span id="cb8-3"><a href="#cb8-3" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb8-4"><a href="#cb8-4" aria-hidden="true" tabindex="-1"></a><span class="kw">const</span> App <span class="op">=</span> () <span class="kw">=&gt;</span> (</span>
<span id="cb8-5"><a href="#cb8-5" aria-hidden="true" tabindex="-1"></a>  <span class="fu">&lt;Router&gt;</span></span>
<span id="cb8-6"><a href="#cb8-6" aria-hidden="true" tabindex="-1"></a>    <span class="fu">&lt;Route</span> <span class="ot">path</span><span class="op">=</span><span class="st">"/products/:productId"</span> <span class="ot">component</span><span class="op">=</span><span class="va">{</span>ProductDetails<span class="va">}</span> <span class="fu">/&gt;</span></span>
<span id="cb8-7"><a href="#cb8-7" aria-hidden="true" tabindex="-1"></a>  <span class="fu">&lt;/Router&gt;</span></span>
<span id="cb8-8"><a href="#cb8-8" aria-hidden="true" tabindex="-1"></a>)<span class="op">;</span></span>
<span id="cb8-9"><a href="#cb8-9" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb8-10"><a href="#cb8-10" aria-hidden="true" tabindex="-1"></a><span class="co">// In ProductDetails component:</span></span>
<span id="cb8-11"><a href="#cb8-11" aria-hidden="true" tabindex="-1"></a><span class="kw">function</span> <span class="fu">ProductDetails</span>({ params }) {</span>
<span id="cb8-12"><a href="#cb8-12" aria-hidden="true" tabindex="-1"></a>  <span class="kw">const</span> productId <span class="op">=</span> params<span class="op">.</span><span class="at">productId</span><span class="op">;</span></span>
<span id="cb8-13"><a href="#cb8-13" aria-hidden="true" tabindex="-1"></a>  <span class="co">// ... use productId ...</span></span>
<span id="cb8-14"><a href="#cb8-14" aria-hidden="true" tabindex="-1"></a>}</span></code></pre></div>
<h3 id="programmatic-navigation">Programmatic Navigation</h3>
<p>Programmatic navigation allows you to change the route programmatically, typically triggered by user interactions or other events. You use the <code>navigate</code> function provided by the <code>useRouter</code> hook.</p>
<div class="sourceCode" id="cb9"><pre class="sourceCode jsx"><code class="sourceCode javascriptreact"><span id="cb9-1"><a href="#cb9-1" aria-hidden="true" tabindex="-1"></a><span class="im">import</span> { useRouter } <span class="im">from</span> <span class="st">'preact-router'</span><span class="op">;</span></span>
<span id="cb9-2"><a href="#cb9-2" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb9-3"><a href="#cb9-3" aria-hidden="true" tabindex="-1"></a><span class="kw">const</span> MyComponent <span class="op">=</span> () <span class="kw">=&gt;</span> {</span>
<span id="cb9-4"><a href="#cb9-4" aria-hidden="true" tabindex="-1"></a>  <span class="kw">const</span> router <span class="op">=</span> <span class="fu">useRouter</span>()<span class="op">;</span></span>
<span id="cb9-5"><a href="#cb9-5" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb9-6"><a href="#cb9-6" aria-hidden="true" tabindex="-1"></a>  <span class="kw">const</span> handleClick <span class="op">=</span> () <span class="kw">=&gt;</span> {</span>
<span id="cb9-7"><a href="#cb9-7" aria-hidden="true" tabindex="-1"></a>    router<span class="op">.</span><span class="fu">navigate</span>(<span class="st">'/about'</span>)<span class="op">;</span></span>
<span id="cb9-8"><a href="#cb9-8" aria-hidden="true" tabindex="-1"></a>  }<span class="op">;</span></span>
<span id="cb9-9"><a href="#cb9-9" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb9-10"><a href="#cb9-10" aria-hidden="true" tabindex="-1"></a>  <span class="cf">return </span><span class="kw">&lt;button</span> <span class="ot">onClick</span><span class="op">=</span><span class="va">{</span>handleClick<span class="va">}</span><span class="kw">&gt;</span>Go to About<span class="kw">&lt;/button&gt;</span><span class="op">;</span></span>
<span id="cb9-11"><a href="#cb9-11" aria-hidden="true" tabindex="-1"></a>}<span class="op">;</span></span></code></pre></div>
<h3 id="custom-link-components">Custom Link Components</h3>
<p>Preact Router allows you to create custom link components, providing greater control over the styling and behavior of links within your application. This customization allows for seamless integration with your design system and enables the addition of features like active state indicators. You typically create a custom component that uses the <code>&lt;Link&gt;</code> component internally, adding your styling and additional properties as needed.</p>
<h2 id="testing">Testing</h2>
<h3 id="unit-testing">Unit Testing</h3>
<p>Unit testing involves testing individual components or functions in isolation. The goal is to verify that each unit of code works correctly on its own. In Preact, you can use various testing libraries to write unit tests. These tests typically focus on verifying the output of a component for given inputs, checking for state updates, or testing the functionality of individual helper functions. Mocking dependencies is often necessary to isolate the unit under test.</p>
<div class="sourceCode" id="cb10"><pre class="sourceCode javascript"><code class="sourceCode javascript"><span id="cb10-1"><a href="#cb10-1" aria-hidden="true" tabindex="-1"></a><span class="im">import</span> { render<span class="op">,</span> <span class="bu">screen</span> } <span class="im">from</span> <span class="st">'@testing-library/preact'</span><span class="op">;</span></span>
<span id="cb10-2"><a href="#cb10-2" aria-hidden="true" tabindex="-1"></a><span class="im">import</span> MyComponent <span class="im">from</span> <span class="st">'./MyComponent'</span><span class="op">;</span></span>
<span id="cb10-3"><a href="#cb10-3" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb10-4"><a href="#cb10-4" aria-hidden="true" tabindex="-1"></a><span class="fu">test</span>(<span class="st">'renders a heading'</span><span class="op">,</span> () <span class="kw">=&gt;</span> {</span>
<span id="cb10-5"><a href="#cb10-5" aria-hidden="true" tabindex="-1"></a>  <span class="fu">render</span>(<span class="op">&lt;</span>MyComponent title<span class="op">=</span><span class="st">"Test Title"</span> <span class="op">/&gt;</span>)<span class="op">;</span></span>
<span id="cb10-6"><a href="#cb10-6" aria-hidden="true" tabindex="-1"></a>  <span class="kw">const</span> headingElement <span class="op">=</span> <span class="bu">screen</span><span class="op">.</span><span class="fu">getByRole</span>(<span class="st">'heading'</span><span class="op">,</span> { <span class="dt">name</span><span class="op">:</span> <span class="ss">/test title/i</span> })<span class="op">;</span></span>
<span id="cb10-7"><a href="#cb10-7" aria-hidden="true" tabindex="-1"></a>  <span class="fu">expect</span>(headingElement)<span class="op">.</span><span class="fu">toBeInTheDocument</span>()<span class="op">;</span></span>
<span id="cb10-8"><a href="#cb10-8" aria-hidden="true" tabindex="-1"></a>})<span class="op">;</span></span></code></pre></div>
<h3 id="integration-testing">Integration Testing</h3>
<p>Integration testing verifies how different components interact with each other. It focuses on testing the flow of data and functionality between multiple components, ensuring they work together correctly. Integration tests are more complex than unit tests as they involve setting up and coordinating multiple components. You might use tools similar to those employed in unit testing but with a focus on the interaction between components rather than isolated unit functionality.</p>
<h3 id="end-to-end-testing">End-to-End Testing</h3>
<p>End-to-end (E2E) testing simulates a user’s interaction with the application. It tests the entire application flow, from user input to final output. E2E tests are typically run in a browser environment and aim to verify the application’s functionality as a whole. They are valuable for ensuring that the application works correctly as a complete system. Popular E2E testing frameworks like Cypress or Playwright can be integrated with Preact applications. These frameworks allow you to simulate user actions such as clicks, typing, and navigation to validate the overall functionality of the application.</p>
<h3 id="testing-libraries-and-frameworks">Testing Libraries and Frameworks</h3>
<p>Several libraries and frameworks are suitable for testing Preact applications:</p>
<ul>
<li><p><strong><code>@testing-library/preact</code>:</strong> A popular testing library that encourages testing from the user’s perspective. It focuses on querying the DOM and interacting with components as a user would. It provides utilities to easily query the DOM and assert against the rendered output.</p></li>
<li><p><strong>Jest:</strong> A widely used JavaScript testing framework providing features like mocking, assertions, and test runners. It integrates well with many other testing libraries.</p></li>
<li><p><strong>Enzyme (with <code>enzyme-adapter-preact-pure</code>):</strong> While not as actively maintained as <code>@testing-library/preact</code>, Enzyme provides a more imperative approach to testing, allowing you to directly manipulate and inspect the component’s internal state and props.</p></li>
</ul>
<p>The choice of testing library and framework will depend on your project’s requirements and your preferred testing style. <code>@testing-library/preact</code> is generally recommended for its focus on user-centric testing and its emphasis on testing components from the perspective of a real user. Jest is a powerful and flexible testing framework that can be used in conjunction with various testing libraries.</p>
<h2 id="optimization-and-performance">Optimization and Performance</h2>
<h3 id="improving-render-performance">Improving Render Performance</h3>
<p>Preact’s virtual DOM already provides significant performance benefits. However, further optimization can be achieved by focusing on minimizing unnecessary re-renders. Techniques include:</p>
<ul>
<li><p><strong>Memoization:</strong> Use <code>useMemo</code> or <code>React.memo</code> (Preact’s equivalent) to memoize expensive calculations or components that don’t need to re-render on every state change. Only re-render when dependencies change.</p></li>
<li><p><strong>Pure Components:</strong> If using class components, consider making them pure components (<code>shouldComponentUpdate</code> returning <code>false</code> unless props or state change). Functional components with <code>React.memo</code> (Preact equivalent) achieve similar behavior.</p></li>
<li><p><strong>Conditional Rendering:</strong> Avoid rendering components unnecessarily. Use conditional statements to render components only when needed.</p></li>
</ul>
<h3 id="minimizing-dom-updates">Minimizing DOM Updates</h3>
<p>Direct DOM manipulation is expensive. Preact’s virtual DOM minimizes this, but you can further optimize by:</p>
<ul>
<li><p><strong>Efficient State Updates:</strong> Update only the necessary parts of the state. Avoid unnecessary state updates that trigger full component re-renders. Use functional updates (<code>setState</code> callback) when updating based on previous state.</p></li>
<li><p><strong>Immutable Data Structures:</strong> Modifying data immutably (creating new objects instead of modifying existing ones) can help Preact’s diffing algorithm more efficiently identify changes.</p></li>
<li><p><strong>Key Optimization:</strong> When rendering lists, ensure that each element has a unique <code>key</code> prop to help Preact efficiently update the list.</p></li>
</ul>
<h3 id="code-splitting">Code Splitting</h3>
<p>Code splitting involves dividing your application’s code into smaller chunks that are loaded on demand. This improves initial load times by loading only the necessary code for the initial view. Tools like Webpack or Rollup can be configured for code splitting. This allows users to interact with parts of the app immediately, rather than waiting for the entire bundle to download.</p>
<h3 id="lazy-loading">Lazy Loading</h3>
<p>Lazy loading is a technique to load components or other resources only when they are needed. This prevents unnecessary downloads and improves the initial load time of your application. Preact’s built-in <code>Suspense</code> component can be effectively used for lazy-loading components, particularly useful for fetching data before rendering a component. This helps to avoid rendering a blank screen while waiting for data and enhances user experience.</p>
<h3 id="performance-measurement-and-profiling">Performance Measurement and Profiling</h3>
<p>Measuring and profiling your application’s performance is crucial for identifying performance bottlenecks. Tools like:</p>
<ul>
<li><p><strong>Browser Developer Tools:</strong> Use your browser’s developer tools (Performance tab) to profile your application and identify slow rendering or script execution times.</p></li>
<li><p><strong>Preact Devtools:</strong> The Preact Devtools browser extension provides insights into component rendering, performance, and other details, aiding in identifying areas for optimization.</p></li>
</ul>
<p>By using these tools and techniques, you can pinpoint the performance bottlenecks and effectively optimize your Preact application for speed and responsiveness. Remember that optimization should be a continuous process; measure performance regularly and prioritize optimizations based on actual impact.</p>
<h2 id="deployment">Deployment</h2>
<h3 id="building-for-production">Building for Production</h3>
<p>Before deploying your Preact application, you need to build it for production. This process optimizes your code for size and performance, making it suitable for deployment to a production environment. The <code>preact-cli</code> simplifies this process. Typically, you would run a command like <code>npm run build</code> (or <code>yarn build</code>), which will create an optimized build in a directory like <code>build</code>. This build contains minimized and bundled JavaScript files ready for deployment. The specific command might depend on your project setup and build tools.</p>
<h3 id="deployment-to-static-hosting">Deployment to Static Hosting</h3>
<p>Many hosting providers support static website hosting. This is a straightforward way to deploy Preact applications because the optimized build is essentially a set of static files (HTML, CSS, JavaScript). Popular static hosting providers include:</p>
<ul>
<li><p><strong>Netlify:</strong> Known for its ease of use, automatic deployments, and excellent features.</p></li>
<li><p><strong>Vercel:</strong> Another popular choice offering fast deployments and serverless functions integration.</p></li>
<li><p><strong>GitHub Pages:</strong> A free option if you’re using GitHub for version control.</p></li>
<li><p><strong>AWS S3:</strong> A scalable and robust solution for larger applications.</p></li>
</ul>
<p>Deployment usually involves uploading the contents of your <code>build</code> directory to your chosen hosting provider. Most services provide clear instructions and integrations to streamline this process.</p>
<h3 id="deployment-to-serverless-functions">Deployment to Serverless Functions</h3>
<p>Serverless functions are a good choice for handling backend logic in your Preact application. This architecture allows you to scale your backend automatically based on demand and only pay for the resources consumed. Popular serverless platforms include:</p>
<ul>
<li><p><strong>AWS Lambda:</strong> Amazon’s serverless compute service.</p></li>
<li><p><strong>Google Cloud Functions:</strong> Google’s serverless function offering.</p></li>
<li><p><strong>Azure Functions:</strong> Microsoft’s serverless compute platform.</p></li>
<li><p><strong>Netlify Functions:</strong> Integrated with Netlify’s platform.</p></li>
</ul>
<p>With serverless functions, you would typically deploy your backend code (API endpoints, data processing logic, etc.) as individual functions. Your Preact frontend would then make API calls to these functions to interact with your backend. The exact implementation depends on the chosen serverless platform and its integrations with Preact. You will need to configure your serverless provider to handle API requests and integrate with your Preact frontend. Remember to handle authentication and security appropriately when deploying to serverless functions.</p>
<h2 id="preact-ecosystem">Preact Ecosystem</h2>
<h3 id="community-and-resources">Community and Resources</h3>
<p>Preact boasts a vibrant and helpful community. Numerous resources are available to assist developers:</p>
<ul>
<li><p><strong>Official Website:</strong> The official Preact website (<a href="https://preactjs.com/">https://preactjs.com/</a>) serves as the central hub for documentation, tutorials, and announcements.</p></li>
<li><p><strong>GitHub Repository:</strong> The official GitHub repository (<a href="https://github.com/preactjs/preact">https://github.com/preactjs/preact</a>) is the location for the source code, issue tracking, and community contributions.</p></li>
<li><p><strong>Forums and Discussion Groups:</strong> Online forums and communities dedicated to Preact provide a platform for asking questions, sharing knowledge, and collaborating with other developers. Look for relevant discussions on sites like Stack Overflow or Reddit.</p></li>
<li><p><strong>Preact Blog:</strong> The Preact blog features articles, updates, and insights into the library’s development and best practices.</p></li>
</ul>
<h3 id="preact-plugins-and-add-ons">Preact Plugins and Add-ons</h3>
<p>While Preact itself is minimal, its ecosystem includes several plugins and add-ons that extend its capabilities. These tools can enhance functionality and address specific development needs. Examples might include:</p>
<ul>
<li><p><strong>Preact Router:</strong> For client-side routing within your application.</p></li>
<li><p><strong>Preact Signals:</strong> For a more reactive programming model.</p></li>
</ul>
<p>It’s important to check the Preact community resources for up-to-date information on available plugins and add-ons. Choose those that best match your application’s requirements and always verify their compatibility with your Preact version.</p>
<h3 id="third-party-libraries">Third-party Libraries</h3>
<p>Many third-party libraries are compatible with Preact and seamlessly integrate into your projects. Because Preact uses the same API as React, many React libraries work well with Preact, often requiring minimal or no changes. When choosing third-party libraries, ensure they’re compatible with Preact and align with your project’s needs and performance requirements. Consider the library’s size, active maintenance, and community support.</p>
<h3 id="contributing-to-preact">Contributing to Preact</h3>
<p>Preact’s open-source nature allows community contributions. If you have the skills and desire to contribute, consider:</p>
<ul>
<li><p><strong>Reporting Issues:</strong> If you encounter bugs or have suggestions for improvements, report them through the GitHub issue tracker.</p></li>
<li><p><strong>Submitting Pull Requests:</strong> If you have implemented a fix or new feature, contribute it via a pull request on GitHub. Follow the project’s contribution guidelines and coding style.</p></li>
<li><p><strong>Improving Documentation:</strong> Enhance the existing documentation by submitting clear, concise, and accurate updates.</p></li>
<li><p><strong>Community Support:</strong> Answer questions and assist other developers in forums and community discussions.</p></li>
</ul>
<p>Before contributing, familiarize yourself with the project’s guidelines and coding style to ensure your contribution is accepted smoothly. The contribution guidelines will help you understand the process, and adhering to the coding style will ensure consistency within the project.</p>
<h2 id="appendix">Appendix</h2>
<h3 id="glossary-of-terms">Glossary of Terms</h3>
<ul>
<li><p><strong>Component:</strong> A reusable building block of a Preact application, encapsulating UI elements and logic.</p></li>
<li><p><strong>JSX:</strong> A syntax extension to JavaScript that allows you to write HTML-like code within your JavaScript.</p></li>
<li><p><strong>Virtual DOM:</strong> An in-memory representation of the actual DOM, used for efficient updates.</p></li>
<li><p><strong>Props:</strong> Immutable data passed from a parent component to a child component.</p></li>
<li><p><strong>State:</strong> Mutable data within a component that can trigger re-renders when changed.</p></li>
<li><p><strong>Hooks:</strong> Functions that let you “hook into” React state and lifecycle features from within functional components.</p></li>
<li><p><strong>Higher-Order Component (HOC):</strong> A function that takes a component and returns a new enhanced component.</p></li>
<li><p><strong>Render Props:</strong> A technique for sharing code between React components using a prop whose value is a function.</p></li>
<li><p><strong>Fragment:</strong> A way to group multiple elements together in JSX without adding an extra node to the DOM.</p></li>
<li><p><strong>Memoization:</strong> A technique to cache the results of expensive function calls.</p></li>
<li><p><strong>Context API:</strong> A mechanism for passing data through the component tree without prop drilling.</p></li>
<li><p><strong>Suspense:</strong> A feature for declaratively handling loading states in your application.</p></li>
</ul>
<h3 id="common-errors-and-troubleshooting">Common Errors and Troubleshooting</h3>
<ul>
<li><p><strong><code>TypeError: render is not a function</code>:</strong> This error typically occurs if you haven’t imported <code>render</code> from <code>preact</code> correctly or if you’re trying to use <code>render</code> in an unexpected context. Ensure you’ve imported it (<code>import { render } from 'preact';</code>) and are calling it correctly.</p></li>
<li><p><strong>Unexpected behavior after state update:</strong> Ensure you’re updating state correctly using the appropriate methods (<code>useState</code> hook or <code>setState</code> for class components). Avoid directly modifying the state object; always use the update functions.</p></li>
<li><p><strong>Incorrect prop types:</strong> If you’re receiving unexpected behavior, verify that props are being passed and used correctly. Typographical errors or incorrect prop naming are common sources of problems.</p></li>
<li><p><strong>Infinite render loops:</strong> This happens when a component repeatedly renders without ever finishing. It’s often caused by incorrect state updates where the update depends on the current state value. Using functional updates can help resolve this.</p></li>
<li><p><strong>Console errors:</strong> Always check your browser’s console for error messages. These messages often provide valuable clues to resolve the problem. Look for syntax errors, runtime errors, or warnings.</p></li>
<li><p><strong>Debugging tools:</strong> Use browser developer tools and Preact Devtools to inspect component rendering, check state updates, and analyze performance issues. Step through the code to find the source of the problem.</p></li>
<li><p><strong>Community resources:</strong> If you’re stuck, search for the error message or describe the problem in Preact community forums or Stack Overflow. Others may have encountered and resolved similar issues.</p></li>
</ul>
<p>If you encounter an error not listed here, consult the official Preact documentation, search the community resources, or provide details about the error message and context on a relevant forum for assistance. Thorough error messages, code snippets, and descriptions of the steps you have already tried are essential for effective troubleshooting.</p>


<footer>Copyright 2025 - Muthukrishnan</footer>
<script async="" src="https://pagead2.googlesyndication.com/pagead/js/adsbygoogle.js?client=ca-pub-3609399560636561" crossorigin="anonymous"></script>




</body></html>