<!DOCTYPE html>
<html xmlns="http://www.w3.org/1999/xhtml" lang="en" xml:lang="en"><head>

<meta charset="utf-8">
<meta name="generator" content="quarto-1.6.39">

<meta name="viewport" content="width=device-width, initial-scale=1.0, user-scalable=yes">

<meta name="author" content="Muthukrishnan">

<title>PubSubJS - Documentation – Technical Manuals</title>
<style>
html {
  color: #1a1a1a;
  background-color: #fdfdfd;
}
body {
  margin: 0 auto;
  max-width: 36em;
  padding-left: 50px;
  padding-right: 50px;
  padding-top: 50px;
  padding-bottom: 50px;
  hyphens: auto;
  overflow-wrap: break-word;
  text-rendering: optimizeLegibility;
  font-kerning: normal;
}
@media (max-width: 600px) {
  body {
    font-size: 0.9em;
    padding: 12px;
  }
  h1 {
    font-size: 1.8em;
  }
}
@media print {
  html {
    background-color: white;
  }
  body {
    background-color: transparent;
    color: black;
    font-size: 12pt;
  }
  p, h2, h3 {
    orphans: 3;
    widows: 3;
  }
  h2, h3, h4 {
    page-break-after: avoid;
  }
}
p {
  margin: 1em 0;
}
a {
  color: #1a1a1a;
}
a:visited {
  color: #1a1a1a;
}
img {
  max-width: 100%;
}
svg {
  height; auto;
  max-width: 100%;
}
h1, h2, h3, h4, h5, h6 {
  margin-top: 1.4em;
}
h5, h6 {
  font-size: 1em;
  font-style: italic;
}
h6 {
  font-weight: normal;
}
ol, ul {
  padding-left: 1.7em;
  margin-top: 1em;
}
li > ol, li > ul {
  margin-top: 0;
}
ul > li:not(:has(> p)) > ul,
ol > li:not(:has(> p)) > ul,
ul > li:not(:has(> p)) > ol,
ol > li:not(:has(> p)) > ol {
  margin-bottom: 0;
}
ul > li:not(:has(> p)) > ul > li:has(> p),
ol > li:not(:has(> p)) > ul > li:has(> p),
ul > li:not(:has(> p)) > ol > li:has(> p),
ol > li:not(:has(> p)) > ol > li:has(> p) {
  margin-top: 1rem;
}
blockquote {
  margin: 1em 0 1em 1.7em;
  padding-left: 1em;
  border-left: 2px solid #e6e6e6;
  color: #606060;
}
code {
  font-family: Menlo, Monaco, Consolas, 'Lucida Console', monospace;
  font-size: 85%;
  margin: 0;
  hyphens: manual;
}
pre {
  margin: 1em 0;
  overflow: auto;
}
pre code {
  padding: 0;
  overflow: visible;
  overflow-wrap: normal;
}
.sourceCode {
 background-color: transparent;
 overflow: visible;
}
hr {
  background-color: #1a1a1a;
  border: none;
  height: 1px;
  margin: 1em 0;
}
table {
  margin: 1em 0;
  border-collapse: collapse;
  width: 100%;
  overflow-x: auto;
  display: block;
  font-variant-numeric: lining-nums tabular-nums;
}
table caption {
  margin-bottom: 0.75em;
}
tbody {
  margin-top: 0.5em;
  border-top: 1px solid #1a1a1a;
  border-bottom: 1px solid #1a1a1a;
}
th {
  border-top: 1px solid #1a1a1a;
  padding: 0.25em 0.5em 0.25em 0.5em;
}
td {
  padding: 0.125em 0.5em 0.25em 0.5em;
}
header {
  margin-bottom: 4em;
  text-align: center;
}
#TOC li {
  list-style: none;
}
#TOC ul {
  padding-left: 1.3em;
}
#TOC > ul {
  padding-left: 0;
}
#TOC a:not(:hover) {
  text-decoration: none;
}
code{white-space: pre-wrap;}
span.smallcaps{font-variant: small-caps;}
div.columns{display: flex; gap: min(4vw, 1.5em);}
div.column{flex: auto; overflow-x: auto;}
div.hanging-indent{margin-left: 1.5em; text-indent: -1.5em;}
ul.task-list{list-style: none;}
ul.task-list li input[type="checkbox"] {
  width: 0.8em;
  margin: 0 0.8em 0.2em -1em; /* quarto-specific, see https://github.com/quarto-dev/quarto-cli/issues/4556 */ 
  vertical-align: middle;
}
/* CSS for syntax highlighting */
pre > code.sourceCode { white-space: pre; position: relative; }
pre > code.sourceCode > span { line-height: 1.25; }
pre > code.sourceCode > span:empty { height: 1.2em; }
.sourceCode { overflow: visible; }
code.sourceCode > span { color: inherit; text-decoration: inherit; }
div.sourceCode { margin: 1em 0; }
pre.sourceCode { margin: 0; }
@media screen {
div.sourceCode { overflow: auto; }
}
@media print {
pre > code.sourceCode { white-space: pre-wrap; }
pre > code.sourceCode > span { display: inline-block; text-indent: -5em; padding-left: 5em; }
}
pre.numberSource code
  { counter-reset: source-line 0; }
pre.numberSource code > span
  { position: relative; left: -4em; counter-increment: source-line; }
pre.numberSource code > span > a:first-child::before
  { content: counter(source-line);
    position: relative; left: -1em; text-align: right; vertical-align: baseline;
    border: none; display: inline-block;
    -webkit-touch-callout: none; -webkit-user-select: none;
    -khtml-user-select: none; -moz-user-select: none;
    -ms-user-select: none; user-select: none;
    padding: 0 4px; width: 4em;
  }
pre.numberSource { margin-left: 3em;  padding-left: 4px; }
div.sourceCode
  {   }
@media screen {
pre > code.sourceCode > span > a:first-child::before { text-decoration: underline; }
}
</style>


<link href="../../favicon.ico" rel="icon">
<script async="" src="https://www.googletagmanager.com/gtag/js?id=G-MXDPF6L5TL"></script>

<script type="text/javascript">

window.dataLayer = window.dataLayer || [];
function gtag(){dataLayer.push(arguments);}
gtag('js', new Date());
gtag('config', 'G-MXDPF6L5TL', { 'anonymize_ip': true});
</script>
<link rel="icon" type="image/x-icon" href="favicon.ico">
<meta property="og:title" content="PubSubJS - Documentation – Technical Manuals">
<meta property="og:site_name" content="Technical Manuals">
</head><body><div class="navigation-header">
    <nav>
        <div>
            <div class="logo">
                <a href="../../" aria-label="Home">
                    <span>Technical Manuals - Home</span>
                </a>
            </div>
            <div class="nav-menu">
                <ul>
                    <li>
                        <a href="../../about.html">
                            <span class="menu-text">About</span>
                        </a>
                    </li>
                    <li> 
                        <a href="https://github.com/muthuspark" target="_blank">
                            <span class="menu-text">Github</span>
                        </a>
                    </li>
                    <li>
                        <a href="https://linkedin.com/in/krimuthu" target="_blank">
                            <span class="menu-text">Linkedin</span>
                        </a>
                    </li>
                    <li>
                        <button onclick="window.print()" class="print-button">
                            <svg width="20" height="20" viewbox="0 0 24 24" fill="none" stroke="currentColor" stroke-width="2">
                              <path d="M6 9V2h12v7"></path>
                              <path d="M6 18H4a2 2 0 01-2-2v-5a2 2 0 012-2h16a2 2 0 012 2v5a2 2 0 01-2 2h-2"></path>
                              <path d="M6 14h12v8H6z"></path>
                            </svg>
                            Print Page
                        </button>
                    </li>
                </ul>
            </div>
        </div>
    </nav>
</div>


<link rel="stylesheet" href="../../styles.css">





<header id="title-block-header">
<h1 class="title">PubSubJS - Documentation</h1>

</header>

<nav id="TOC" role="doc-toc">
    <h2 id="toc-title">On this page</h2>
   
  <ul>
  <li><a href="#what-is-pubsubjs" id="toc-what-is-pubsubjs">What is PubSubJS?</a></li>
  <li><a href="#why-use-pubsubjs" id="toc-why-use-pubsubjs">Why use PubSubJS?</a></li>
  <li><a href="#key-concepts-publishers-subscribers-and-topics" id="toc-key-concepts-publishers-subscribers-and-topics">Key Concepts: Publishers, Subscribers, and Topics</a></li>
  <li><a href="#installation-and-setup" id="toc-installation-and-setup">Installation and Setup</a></li>
  <li><a href="#core-functionality" id="toc-core-functionality">Core Functionality</a>
  <ul>
  <li><a href="#publishing-messages-publish-method" id="toc-publishing-messages-publish-method">Publishing Messages: <code>publish</code> method</a></li>
  <li><a href="#subscribing-to-messages-subscribe-method" id="toc-subscribing-to-messages-subscribe-method">Subscribing to Messages: <code>subscribe</code> method</a></li>
  <li><a href="#unsubscribing-from-messages-unsubscribe-method" id="toc-unsubscribing-from-messages-unsubscribe-method">Unsubscribing from Messages: <code>unsubscribe</code> method</a></li>
  <li><a href="#wildcards-in-topic-names" id="toc-wildcards-in-topic-names">Wildcards in Topic Names</a></li>
  </ul></li>
  <li><a href="#advanced-usage" id="toc-advanced-usage">Advanced Usage</a>
  <ul>
  <li><a href="#handling-asynchronous-operations" id="toc-handling-asynchronous-operations">Handling Asynchronous Operations</a></li>
  <li><a href="#prioritized-subscriptions" id="toc-prioritized-subscriptions">Prioritized Subscriptions</a></li>
  <li><a href="#managing-subscription-lifecycle" id="toc-managing-subscription-lifecycle">Managing Subscription Lifecycle</a></li>
  <li><a href="#error-handling-and-debugging" id="toc-error-handling-and-debugging">Error Handling and Debugging</a></li>
  </ul></li>
  <li><a href="#best-practices" id="toc-best-practices">Best Practices</a>
  <ul>
  <li><a href="#choosing-appropriate-topic-names" id="toc-choosing-appropriate-topic-names">Choosing Appropriate Topic Names</a></li>
  <li><a href="#organizing-subscriptions" id="toc-organizing-subscriptions">Organizing Subscriptions</a></li>
  <li><a href="#avoiding-memory-leaks" id="toc-avoiding-memory-leaks">Avoiding Memory Leaks</a></li>
  <li><a href="#testing-your-pubsubjs-implementation" id="toc-testing-your-pubsubjs-implementation">Testing Your PubSubJS Implementation</a></li>
  </ul></li>
  <li><a href="#common-use-cases" id="toc-common-use-cases">Common Use Cases</a>
  <ul>
  <li><a href="#building-a-reactive-ui" id="toc-building-a-reactive-ui">Building a Reactive UI</a></li>
  <li><a href="#implementing-event-driven-architecture" id="toc-implementing-event-driven-architecture">Implementing Event-Driven Architecture</a></li>
  <li><a href="#creating-a-decentralized-application" id="toc-creating-a-decentralized-application">Creating a Decentralized Application</a></li>
  <li><a href="#integrating-with-other-libraries" id="toc-integrating-with-other-libraries">Integrating with Other Libraries</a></li>
  </ul></li>
  <li><a href="#api-reference" id="toc-api-reference">API Reference</a>
  <ul>
  <li><a href="#publishtopic-data" id="toc-publishtopic-data"><code>publish(topic, data)</code></a></li>
  <li><a href="#subscribetopic-callback" id="toc-subscribetopic-callback"><code>subscribe(topic, callback)</code></a></li>
  <li><a href="#unsubscribetoken" id="toc-unsubscribetoken"><code>unsubscribe(token)</code></a></li>
  <li><a href="#utility-functions" id="toc-utility-functions">Utility Functions</a></li>
  </ul></li>
  <li><a href="#troubleshooting" id="toc-troubleshooting">Troubleshooting</a>
  <ul>
  <li><a href="#common-errors-and-solutions" id="toc-common-errors-and-solutions">Common Errors and Solutions</a></li>
  <li><a href="#debugging-tips" id="toc-debugging-tips">Debugging Tips</a></li>
  <li><a href="#troubleshooting-memory-issues" id="toc-troubleshooting-memory-issues">Troubleshooting Memory Issues</a></li>
  </ul></li>
  </ul>
</nav>
<h3 id="what-is-pubsubjs">What is PubSubJS?</h3>
<p>PubSubJS is a lightweight, robust, and simple publish/subscribe (pub/sub) messaging library for JavaScript. It allows different parts of your application to communicate with each other asynchronously without needing to know about each other directly. This decoupling improves code organization, maintainability, and testability. Essentially, it provides a central hub where components can publish messages (events) to specific topics, and other components can subscribe to those topics to receive the messages.</p>
<h3 id="why-use-pubsubjs">Why use PubSubJS?</h3>
<p>Using PubSubJS offers several key advantages:</p>
<ul>
<li><p><strong>Decoupling:</strong> Components are loosely coupled, meaning changes in one part of the application are less likely to break other parts. This is because components communicate indirectly through the pub/sub system.</p></li>
<li><p><strong>Improved Code Organization:</strong> Pub/Sub promotes a cleaner architecture by separating concerns. Components focus on their specific tasks and communicate through well-defined events.</p></li>
<li><p><strong>Enhanced Maintainability:</strong> Easier to understand, modify, and extend existing code because components are independent and their interactions are managed centrally.</p></li>
<li><p><strong>Testability:</strong> Individual components are easier to test in isolation since their dependencies are managed through the pub/sub system.</p></li>
<li><p><strong>Flexibility and Scalability:</strong> Easily handle complex interactions between multiple components without tight coupling. Scales well to larger applications.</p></li>
</ul>
<h3 id="key-concepts-publishers-subscribers-and-topics">Key Concepts: Publishers, Subscribers, and Topics</h3>
<ul>
<li><p><strong>Topics (Channels):</strong> Topics are named strings that act as communication channels. Publishers publish messages to specific topics, and subscribers listen for messages on those same topics. Think of them as event categories.</p></li>
<li><p><strong>Publishers:</strong> Components that send messages (publish events) to a specific topic. A publisher doesn’t need to know which subscribers are listening; it simply publishes to the topic.</p></li>
<li><p><strong>Subscribers:</strong> Components that listen for messages on specific topics. A subscriber receives a message (callback is executed) whenever a message is published to the topic it is subscribed to. A subscriber doesn’t need to know which publisher sent the message.</p></li>
</ul>
<h3 id="installation-and-setup">Installation and Setup</h3>
<p>PubSubJS is available via npm and a CDN.</p>
<p><strong>Using npm:</strong></p>
<div class="sourceCode" id="cb1"><pre class="sourceCode bash"><code class="sourceCode bash"><span id="cb1-1"><a href="#cb1-1" aria-hidden="true" tabindex="-1"></a><span class="ex">npm</span> install pubsub-js</span></code></pre></div>
<p>Then, in your JavaScript file:</p>
<div class="sourceCode" id="cb2"><pre class="sourceCode javascript"><code class="sourceCode javascript"><span id="cb2-1"><a href="#cb2-1" aria-hidden="true" tabindex="-1"></a><span class="im">import</span> PubSub <span class="im">from</span> <span class="st">'pubsub-js'</span><span class="op">;</span></span>
<span id="cb2-2"><a href="#cb2-2" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb2-3"><a href="#cb2-3" aria-hidden="true" tabindex="-1"></a><span class="co">// ... your code using PubSub ...</span></span></code></pre></div>
<p><strong>Using a CDN (e.g., jsDelivr):</strong></p>
<p>Include the following <code>&lt;script&gt;</code> tag in your HTML file:</p>
<div class="sourceCode" id="cb3"><pre class="sourceCode html"><code class="sourceCode html"><span id="cb3-1"><a href="#cb3-1" aria-hidden="true" tabindex="-1"></a><span class="dt">&lt;</span><span class="kw">script</span><span class="ot"> src</span><span class="op">=</span><span class="st">"https://cdn.jsdelivr.net/npm/pubsub-js@1.0.8/pubsub.min.js"</span><span class="dt">&gt;&lt;/</span><span class="kw">script</span><span class="dt">&gt;</span></span></code></pre></div>
<p>PubSubJS is then available globally as <code>PubSub</code>. No further setup is required. You can immediately start publishing and subscribing to messages.</p>
<h2 id="core-functionality">Core Functionality</h2>
<h3 id="publishing-messages-publish-method">Publishing Messages: <code>publish</code> method</h3>
<p>The <code>publish</code> method sends a message to a specified topic. It takes two arguments:</p>
<ul>
<li><p><strong><code>topic</code> (String):</strong> The name of the topic to publish the message to. This is a string, and you should use consistent naming conventions for topics throughout your application.</p></li>
<li><p><strong><code>data</code> (any):</strong> The data to send with the message. This can be any JavaScript data type: a string, number, object, array, etc.</p></li>
</ul>
<div class="sourceCode" id="cb4"><pre class="sourceCode javascript"><code class="sourceCode javascript"><span id="cb4-1"><a href="#cb4-1" aria-hidden="true" tabindex="-1"></a><span class="co">// Publish a message to the 'user/login' topic with user data</span></span>
<span id="cb4-2"><a href="#cb4-2" aria-hidden="true" tabindex="-1"></a>PubSub<span class="op">.</span><span class="fu">publish</span>(<span class="st">'user/login'</span><span class="op">,</span> { <span class="dt">userId</span><span class="op">:</span> <span class="dv">123</span><span class="op">,</span> <span class="dt">username</span><span class="op">:</span> <span class="st">'john_doe'</span> })<span class="op">;</span></span>
<span id="cb4-3"><a href="#cb4-3" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb4-4"><a href="#cb4-4" aria-hidden="true" tabindex="-1"></a><span class="co">// Publish a message to the 'order/placed' topic with order details</span></span>
<span id="cb4-5"><a href="#cb4-5" aria-hidden="true" tabindex="-1"></a>PubSub<span class="op">.</span><span class="fu">publish</span>(<span class="st">'order/placed'</span><span class="op">,</span> { <span class="dt">orderId</span><span class="op">:</span> <span class="dv">456</span><span class="op">,</span> <span class="dt">totalAmount</span><span class="op">:</span> <span class="dv">100</span> })<span class="op">;</span></span></code></pre></div>
<p>The <code>publish</code> method returns a unique message token (integer). This token can be used with the <code>unsubscribe</code> method to unsubscribe from messages more precisely (see the <code>unsubscribe</code> method section for details).</p>
<h3 id="subscribing-to-messages-subscribe-method">Subscribing to Messages: <code>subscribe</code> method</h3>
<p>The <code>subscribe</code> method registers a callback function that will be executed whenever a message is published to a specified topic. It takes two arguments:</p>
<ul>
<li><p><strong><code>topic</code> (String):</strong> The topic to subscribe to.</p></li>
<li><p><strong><code>callback</code> (Function):</strong> A function that will be executed when a message is published to the specified topic. This function receives two arguments:</p>
<ul>
<li><strong><code>message</code> (any):</strong> The data sent with the published message. This is the same <code>data</code> argument passed to the <code>publish</code> method.</li>
<li><strong><code>data</code> (any):</strong> The original data sent with the <code>publish</code> method (identical to <code>message</code>)</li>
</ul></li>
</ul>
<p>The <code>subscribe</code> method returns a unique token which is used to unsubscribe later.</p>
<div class="sourceCode" id="cb5"><pre class="sourceCode javascript"><code class="sourceCode javascript"><span id="cb5-1"><a href="#cb5-1" aria-hidden="true" tabindex="-1"></a><span class="co">// Subscribe to the 'user/login' topic</span></span>
<span id="cb5-2"><a href="#cb5-2" aria-hidden="true" tabindex="-1"></a><span class="kw">let</span> token <span class="op">=</span> PubSub<span class="op">.</span><span class="fu">subscribe</span>(<span class="st">'user/login'</span><span class="op">,</span> (msg<span class="op">,</span> data) <span class="kw">=&gt;</span> {</span>
<span id="cb5-3"><a href="#cb5-3" aria-hidden="true" tabindex="-1"></a>  <span class="bu">console</span><span class="op">.</span><span class="fu">log</span>(<span class="st">'User logged in:'</span><span class="op">,</span> data)<span class="op">;</span></span>
<span id="cb5-4"><a href="#cb5-4" aria-hidden="true" tabindex="-1"></a>})<span class="op">;</span></span>
<span id="cb5-5"><a href="#cb5-5" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb5-6"><a href="#cb5-6" aria-hidden="true" tabindex="-1"></a><span class="co">//Subscribe to 'order/placed' topic and log order details.</span></span>
<span id="cb5-7"><a href="#cb5-7" aria-hidden="true" tabindex="-1"></a><span class="kw">let</span> orderToken <span class="op">=</span> PubSub<span class="op">.</span><span class="fu">subscribe</span>(<span class="st">'order/placed'</span><span class="op">,</span> (msg<span class="op">,</span> data) <span class="kw">=&gt;</span> {</span>
<span id="cb5-8"><a href="#cb5-8" aria-hidden="true" tabindex="-1"></a>    <span class="bu">console</span><span class="op">.</span><span class="fu">log</span>(<span class="st">'Order placed:'</span><span class="op">,</span> data)<span class="op">;</span></span>
<span id="cb5-9"><a href="#cb5-9" aria-hidden="true" tabindex="-1"></a>})</span>
<span id="cb5-10"><a href="#cb5-10" aria-hidden="true" tabindex="-1"></a></span></code></pre></div>
<h3 id="unsubscribing-from-messages-unsubscribe-method">Unsubscribing from Messages: <code>unsubscribe</code> method</h3>
<p>The <code>unsubscribe</code> method removes a previously registered subscriber. It takes one argument:</p>
<ul>
<li><strong><code>token</code> (Integer):</strong> The token returned by the <code>subscribe</code> method. This uniquely identifies the subscription to unsubscribe.</li>
</ul>
<div class="sourceCode" id="cb6"><pre class="sourceCode javascript"><code class="sourceCode javascript"><span id="cb6-1"><a href="#cb6-1" aria-hidden="true" tabindex="-1"></a><span class="co">// Unsubscribe from 'user/login'</span></span>
<span id="cb6-2"><a href="#cb6-2" aria-hidden="true" tabindex="-1"></a>PubSub<span class="op">.</span><span class="fu">unsubscribe</span>(token)<span class="op">;</span></span>
<span id="cb6-3"><a href="#cb6-3" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb6-4"><a href="#cb6-4" aria-hidden="true" tabindex="-1"></a><span class="co">// Unsubscribe from 'order/placed'</span></span>
<span id="cb6-5"><a href="#cb6-5" aria-hidden="true" tabindex="-1"></a>PubSub<span class="op">.</span><span class="fu">unsubscribe</span>(orderToken)<span class="op">;</span></span></code></pre></div>
<p>Attempting to unsubscribe using an invalid token will have no effect. If you don’t keep track of the tokens, you can’t selectively unsubscribe specific subscribers.</p>
<h3 id="wildcards-in-topic-names">Wildcards in Topic Names</h3>
<p>PubSubJS supports wildcards in topic names using the <code>*</code> character. A wildcard can match any part of a topic name. For example:</p>
<ul>
<li><code>'user/*'</code> will match <code>'user/login'</code>, <code>'user/logout'</code>, <code>'user/profile'</code>, etc.</li>
<li><code>'*/placed'</code> will match <code>'order/placed'</code>, <code>'payment/placed'</code>, etc.</li>
<li><code>'*/*'</code> will match any topic.</li>
</ul>
<p>Wildcards provide a flexible way to subscribe to multiple related topics with a single subscription.</p>
<div class="sourceCode" id="cb7"><pre class="sourceCode javascript"><code class="sourceCode javascript"><span id="cb7-1"><a href="#cb7-1" aria-hidden="true" tabindex="-1"></a><span class="co">// Subscribe to all topics starting with 'user/'</span></span>
<span id="cb7-2"><a href="#cb7-2" aria-hidden="true" tabindex="-1"></a><span class="kw">let</span> wildcardToken <span class="op">=</span> PubSub<span class="op">.</span><span class="fu">subscribe</span>(<span class="st">'user/*'</span><span class="op">,</span> (msg<span class="op">,</span> data) <span class="kw">=&gt;</span> {</span>
<span id="cb7-3"><a href="#cb7-3" aria-hidden="true" tabindex="-1"></a>    <span class="bu">console</span><span class="op">.</span><span class="fu">log</span>(<span class="st">'User activity:'</span><span class="op">,</span> data)<span class="op">;</span></span>
<span id="cb7-4"><a href="#cb7-4" aria-hidden="true" tabindex="-1"></a>})<span class="op">;</span></span></code></pre></div>
<p>Be cautious when using wildcards, especially <code>'*/*'</code>, as it will significantly impact performance and may unintentionally subscribe to many unrelated topics.</p>
<h2 id="advanced-usage">Advanced Usage</h2>
<h3 id="handling-asynchronous-operations">Handling Asynchronous Operations</h3>
<p>When dealing with asynchronous operations (e.g., API calls) within your subscribers, it’s crucial to ensure that your callbacks handle potential delays and don’t block the main thread. Use <code>async/await</code> or Promises to manage asynchronous tasks gracefully:</p>
<div class="sourceCode" id="cb8"><pre class="sourceCode javascript"><code class="sourceCode javascript"><span id="cb8-1"><a href="#cb8-1" aria-hidden="true" tabindex="-1"></a><span class="kw">let</span> token <span class="op">=</span> PubSub<span class="op">.</span><span class="fu">subscribe</span>(<span class="st">'data/ready'</span><span class="op">,</span> <span class="kw">async</span> (msg<span class="op">,</span> data) <span class="kw">=&gt;</span> {</span>
<span id="cb8-2"><a href="#cb8-2" aria-hidden="true" tabindex="-1"></a>  <span class="cf">try</span> {</span>
<span id="cb8-3"><a href="#cb8-3" aria-hidden="true" tabindex="-1"></a>    <span class="kw">const</span> result <span class="op">=</span> <span class="cf">await</span> <span class="fu">fetchData</span>(data<span class="op">.</span><span class="at">url</span>)<span class="op">;</span> <span class="co">//Simulate an API call</span></span>
<span id="cb8-4"><a href="#cb8-4" aria-hidden="true" tabindex="-1"></a>    <span class="bu">console</span><span class="op">.</span><span class="fu">log</span>(<span class="st">'Data fetched:'</span><span class="op">,</span> result)<span class="op">;</span></span>
<span id="cb8-5"><a href="#cb8-5" aria-hidden="true" tabindex="-1"></a>  } <span class="cf">catch</span> (error) {</span>
<span id="cb8-6"><a href="#cb8-6" aria-hidden="true" tabindex="-1"></a>    <span class="bu">console</span><span class="op">.</span><span class="fu">error</span>(<span class="st">'Error fetching data:'</span><span class="op">,</span> error)<span class="op">;</span></span>
<span id="cb8-7"><a href="#cb8-7" aria-hidden="true" tabindex="-1"></a>  }</span>
<span id="cb8-8"><a href="#cb8-8" aria-hidden="true" tabindex="-1"></a>})<span class="op">;</span></span>
<span id="cb8-9"><a href="#cb8-9" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb8-10"><a href="#cb8-10" aria-hidden="true" tabindex="-1"></a><span class="kw">function</span> <span class="fu">fetchData</span>(url){</span>
<span id="cb8-11"><a href="#cb8-11" aria-hidden="true" tabindex="-1"></a>    <span class="cf">return</span> <span class="kw">new</span> <span class="bu">Promise</span>((resolve<span class="op">,</span> reject) <span class="kw">=&gt;</span> {</span>
<span id="cb8-12"><a href="#cb8-12" aria-hidden="true" tabindex="-1"></a>        <span class="co">//Simulate fetching data from URL</span></span>
<span id="cb8-13"><a href="#cb8-13" aria-hidden="true" tabindex="-1"></a>        <span class="pp">setTimeout</span>(() <span class="kw">=&gt;</span> {</span>
<span id="cb8-14"><a href="#cb8-14" aria-hidden="true" tabindex="-1"></a>            <span class="fu">resolve</span>({<span class="dt">message</span><span class="op">:</span> <span class="st">"Data from "</span> <span class="op">+</span> url})<span class="op">;</span></span>
<span id="cb8-15"><a href="#cb8-15" aria-hidden="true" tabindex="-1"></a>        }<span class="op">,</span> <span class="dv">1000</span>)<span class="op">;</span></span>
<span id="cb8-16"><a href="#cb8-16" aria-hidden="true" tabindex="-1"></a>    })<span class="op">;</span></span>
<span id="cb8-17"><a href="#cb8-17" aria-hidden="true" tabindex="-1"></a>}</span></code></pre></div>
<p>Failure to handle asynchronous operations correctly may lead to unexpected behavior or performance issues. Always handle potential errors within your subscriber functions.</p>
<h3 id="prioritized-subscriptions">Prioritized Subscriptions</h3>
<p>PubSubJS itself doesn’t inherently support prioritized subscriptions. If you need to ensure that certain subscribers receive messages before others, you will have to implement this logic yourself. One approach would be to maintain an array of subscriber functions and process them in a specific order. For example, you could assign priority levels to your subscriptions and process the higher-priority subscribers first.</p>
<div class="sourceCode" id="cb9"><pre class="sourceCode javascript"><code class="sourceCode javascript"><span id="cb9-1"><a href="#cb9-1" aria-hidden="true" tabindex="-1"></a><span class="kw">const</span> prioritizedSubscribers <span class="op">=</span> []<span class="op">;</span></span>
<span id="cb9-2"><a href="#cb9-2" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb9-3"><a href="#cb9-3" aria-hidden="true" tabindex="-1"></a><span class="kw">function</span> <span class="fu">subscribeWithPriority</span>(topic<span class="op">,</span> callback<span class="op">,</span> priority) {</span>
<span id="cb9-4"><a href="#cb9-4" aria-hidden="true" tabindex="-1"></a>  prioritizedSubscribers<span class="op">.</span><span class="fu">push</span>({ topic<span class="op">,</span> callback<span class="op">,</span> priority })<span class="op">;</span></span>
<span id="cb9-5"><a href="#cb9-5" aria-hidden="true" tabindex="-1"></a>  prioritizedSubscribers<span class="op">.</span><span class="fu">sort</span>((a<span class="op">,</span> b) <span class="kw">=&gt;</span> b<span class="op">.</span><span class="at">priority</span> <span class="op">-</span> a<span class="op">.</span><span class="at">priority</span>)<span class="op">;</span> <span class="co">//Sort by priority (higher first)</span></span>
<span id="cb9-6"><a href="#cb9-6" aria-hidden="true" tabindex="-1"></a>}</span>
<span id="cb9-7"><a href="#cb9-7" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb9-8"><a href="#cb9-8" aria-hidden="true" tabindex="-1"></a><span class="kw">function</span> <span class="fu">publishWithPriority</span>(topic<span class="op">,</span> data) {</span>
<span id="cb9-9"><a href="#cb9-9" aria-hidden="true" tabindex="-1"></a>  <span class="kw">const</span> subscribers <span class="op">=</span> prioritizedSubscribers<span class="op">.</span><span class="fu">filter</span>(s <span class="kw">=&gt;</span> s<span class="op">.</span><span class="at">topic</span> <span class="op">===</span> topic)<span class="op">;</span></span>
<span id="cb9-10"><a href="#cb9-10" aria-hidden="true" tabindex="-1"></a>  subscribers<span class="op">.</span><span class="fu">forEach</span>(s <span class="kw">=&gt;</span> s<span class="op">.</span><span class="fu">callback</span>(topic<span class="op">,</span> data))<span class="op">;</span></span>
<span id="cb9-11"><a href="#cb9-11" aria-hidden="true" tabindex="-1"></a>}</span>
<span id="cb9-12"><a href="#cb9-12" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb9-13"><a href="#cb9-13" aria-hidden="true" tabindex="-1"></a><span class="co">//Example</span></span>
<span id="cb9-14"><a href="#cb9-14" aria-hidden="true" tabindex="-1"></a><span class="fu">subscribeWithPriority</span>(<span class="st">'myTopic'</span><span class="op">,</span> (topic<span class="op">,</span> data) <span class="kw">=&gt;</span> {<span class="bu">console</span><span class="op">.</span><span class="fu">log</span>(<span class="st">'High Priority:'</span><span class="op">,</span> data)}<span class="op">,</span> <span class="dv">10</span>)<span class="op">;</span></span>
<span id="cb9-15"><a href="#cb9-15" aria-hidden="true" tabindex="-1"></a><span class="fu">subscribeWithPriority</span>(<span class="st">'myTopic'</span><span class="op">,</span> (topic<span class="op">,</span> data) <span class="kw">=&gt;</span> {<span class="bu">console</span><span class="op">.</span><span class="fu">log</span>(<span class="st">'Low Priority:'</span><span class="op">,</span> data)}<span class="op">,</span> <span class="dv">1</span>)<span class="op">;</span></span>
<span id="cb9-16"><a href="#cb9-16" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb9-17"><a href="#cb9-17" aria-hidden="true" tabindex="-1"></a><span class="fu">publishWithPriority</span>(<span class="st">'myTopic'</span><span class="op">,</span> {<span class="dt">message</span><span class="op">:</span> <span class="st">"Test"</span>})<span class="op">;</span></span></code></pre></div>
<h3 id="managing-subscription-lifecycle">Managing Subscription Lifecycle</h3>
<p>For complex applications, manage subscriptions effectively to avoid memory leaks or unintended behavior. Explicitly unsubscribe from topics when they are no longer needed. Consider using a dedicated function or class to manage subscriptions. This improves code clarity and helps you easily cleanup subscriptions when a component is unmounted or deactivated.</p>
<div class="sourceCode" id="cb10"><pre class="sourceCode javascript"><code class="sourceCode javascript"><span id="cb10-1"><a href="#cb10-1" aria-hidden="true" tabindex="-1"></a><span class="kw">class</span> MyComponent {</span>
<span id="cb10-2"><a href="#cb10-2" aria-hidden="true" tabindex="-1"></a>  <span class="fu">constructor</span>() {</span>
<span id="cb10-3"><a href="#cb10-3" aria-hidden="true" tabindex="-1"></a>    <span class="kw">this</span><span class="op">.</span><span class="at">subscriptions</span> <span class="op">=</span> []<span class="op">;</span></span>
<span id="cb10-4"><a href="#cb10-4" aria-hidden="true" tabindex="-1"></a>  }</span>
<span id="cb10-5"><a href="#cb10-5" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb10-6"><a href="#cb10-6" aria-hidden="true" tabindex="-1"></a>  <span class="fu">subscribe</span>(topic<span class="op">,</span> callback) {</span>
<span id="cb10-7"><a href="#cb10-7" aria-hidden="true" tabindex="-1"></a>    <span class="kw">const</span> token <span class="op">=</span> PubSub<span class="op">.</span><span class="fu">subscribe</span>(topic<span class="op">,</span> callback)<span class="op">;</span></span>
<span id="cb10-8"><a href="#cb10-8" aria-hidden="true" tabindex="-1"></a>    <span class="kw">this</span><span class="op">.</span><span class="at">subscriptions</span><span class="op">.</span><span class="fu">push</span>({ topic<span class="op">,</span> token })<span class="op">;</span></span>
<span id="cb10-9"><a href="#cb10-9" aria-hidden="true" tabindex="-1"></a>  }</span>
<span id="cb10-10"><a href="#cb10-10" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb10-11"><a href="#cb10-11" aria-hidden="true" tabindex="-1"></a>  <span class="fu">unsubscribeAll</span>() {</span>
<span id="cb10-12"><a href="#cb10-12" aria-hidden="true" tabindex="-1"></a>    <span class="kw">this</span><span class="op">.</span><span class="at">subscriptions</span><span class="op">.</span><span class="fu">forEach</span>(s <span class="kw">=&gt;</span> PubSub<span class="op">.</span><span class="fu">unsubscribe</span>(s<span class="op">.</span><span class="at">token</span>))<span class="op">;</span></span>
<span id="cb10-13"><a href="#cb10-13" aria-hidden="true" tabindex="-1"></a>    <span class="kw">this</span><span class="op">.</span><span class="at">subscriptions</span> <span class="op">=</span> []<span class="op">;</span></span>
<span id="cb10-14"><a href="#cb10-14" aria-hidden="true" tabindex="-1"></a>  }</span>
<span id="cb10-15"><a href="#cb10-15" aria-hidden="true" tabindex="-1"></a>}</span>
<span id="cb10-16"><a href="#cb10-16" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb10-17"><a href="#cb10-17" aria-hidden="true" tabindex="-1"></a><span class="co">//Example usage</span></span>
<span id="cb10-18"><a href="#cb10-18" aria-hidden="true" tabindex="-1"></a><span class="kw">let</span> myComponent <span class="op">=</span> <span class="kw">new</span> <span class="fu">MyComponent</span>()<span class="op">;</span></span>
<span id="cb10-19"><a href="#cb10-19" aria-hidden="true" tabindex="-1"></a>myComponent<span class="op">.</span><span class="fu">subscribe</span>(<span class="st">'myTopic'</span><span class="op">,</span> (msg<span class="op">,</span> data) <span class="kw">=&gt;</span> {<span class="bu">console</span><span class="op">.</span><span class="fu">log</span>(data)})<span class="op">;</span></span>
<span id="cb10-20"><a href="#cb10-20" aria-hidden="true" tabindex="-1"></a><span class="co">//... other code</span></span>
<span id="cb10-21"><a href="#cb10-21" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb10-22"><a href="#cb10-22" aria-hidden="true" tabindex="-1"></a>myComponent<span class="op">.</span><span class="fu">unsubscribeAll</span>()<span class="op">;</span> <span class="co">// Clean up subscriptions when component is finished</span></span></code></pre></div>
<h3 id="error-handling-and-debugging">Error Handling and Debugging</h3>
<p>Handle potential errors within your subscriber functions using <code>try...catch</code> blocks. This prevents unexpected crashes and allows graceful handling of issues. For debugging, use the browser’s developer tools to inspect the console, network requests, and the state of your application. Consider adding logging statements to your publishers and subscribers to trace message flow and data values. Also, ensure that your topic names are clear and consistent to aid debugging.</p>
<h2 id="best-practices">Best Practices</h2>
<h3 id="choosing-appropriate-topic-names">Choosing Appropriate Topic Names</h3>
<p>Effective topic naming is crucial for maintainability and understanding. Use a consistent naming convention throughout your application. Hierarchical names (using <code>/</code> as a separator) can improve organization and readability. For example, <code>'user/login'</code>, <code>'order/placed'</code>, <code>'payment/failed'</code> are more descriptive than <code>'login'</code>, <code>'order'</code>, <code>'fail'</code>. Make your topic names self-explanatory and avoid ambiguity. Consider using a naming scheme that reflects your application’s domain model.</p>
<h3 id="organizing-subscriptions">Organizing Subscriptions</h3>
<p>For large applications, managing a large number of subscriptions can become challenging. Organize your subscriptions logically, grouping related subscriptions together. Consider using a dedicated subscription manager (as demonstrated in the “Managing Subscription Lifecycle” section of the Advanced Usage) to centralize subscription handling and clean up. This improves code readability, maintainability, and reduces the risk of memory leaks.</p>
<h3 id="avoiding-memory-leaks">Avoiding Memory Leaks</h3>
<p>Memory leaks can occur if subscriptions are not properly unsubscribed when they are no longer needed. Always unsubscribe from topics using the token returned by <code>subscribe</code> when a component is unmounted, deactivated, or no longer requires the subscription. Pay close attention to situations where components might be dynamically created and destroyed, as forgetting to unsubscribe in these scenarios is a common source of memory leaks. Use tools provided by your browser’s developer console to monitor memory usage and identify potential leaks.</p>
<h3 id="testing-your-pubsubjs-implementation">Testing Your PubSubJS Implementation</h3>
<p>Thorough testing is vital for ensuring the reliability of your PubSubJS implementation. Write unit tests to verify that publishing and subscribing are functioning correctly. Test with different data types, topic names (including wildcards), and scenarios involving multiple publishers and subscribers. Test error handling mechanisms and ensure that asynchronous operations are handled gracefully. Use mocking techniques to isolate your pub/sub code from other components during testing and verify the correct behavior of the individual publishers and subscribers. Tools such as Jest or Mocha can be effectively used for writing unit and integration tests for PubSubJS based components. Integration tests should verify the interactions between different parts of the application using the PubSubJS messaging system.</p>
<h2 id="common-use-cases">Common Use Cases</h2>
<h3 id="building-a-reactive-ui">Building a Reactive UI</h3>
<p>PubSubJS is well-suited for building reactive user interfaces. Components can subscribe to specific topics representing user actions (e.g., button clicks, form submissions) or data updates. When an event occurs, the relevant components receive a notification via PubSubJS and update their state accordingly. This approach decouples UI components and simplifies the management of data flow and updates, leading to a more maintainable and scalable UI.</p>
<div class="sourceCode" id="cb11"><pre class="sourceCode javascript"><code class="sourceCode javascript"><span id="cb11-1"><a href="#cb11-1" aria-hidden="true" tabindex="-1"></a><span class="co">//Component to display user name.</span></span>
<span id="cb11-2"><a href="#cb11-2" aria-hidden="true" tabindex="-1"></a>PubSub<span class="op">.</span><span class="fu">subscribe</span>(<span class="st">'user/updated'</span><span class="op">,</span> (msg<span class="op">,</span> userData) <span class="kw">=&gt;</span> {</span>
<span id="cb11-3"><a href="#cb11-3" aria-hidden="true" tabindex="-1"></a>    <span class="bu">document</span><span class="op">.</span><span class="fu">getElementById</span>(<span class="st">'userName'</span>)<span class="op">.</span><span class="at">innerText</span> <span class="op">=</span> userData<span class="op">.</span><span class="at">name</span><span class="op">;</span></span>
<span id="cb11-4"><a href="#cb11-4" aria-hidden="true" tabindex="-1"></a>})<span class="op">;</span></span>
<span id="cb11-5"><a href="#cb11-5" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb11-6"><a href="#cb11-6" aria-hidden="true" tabindex="-1"></a><span class="co">//Component that updates user name on form submit.</span></span>
<span id="cb11-7"><a href="#cb11-7" aria-hidden="true" tabindex="-1"></a><span class="bu">document</span><span class="op">.</span><span class="fu">getElementById</span>(<span class="st">'userNameForm'</span>)<span class="op">.</span><span class="fu">addEventListener</span>(<span class="st">'submit'</span><span class="op">,</span> (<span class="bu">event</span>) <span class="kw">=&gt;</span> {</span>
<span id="cb11-8"><a href="#cb11-8" aria-hidden="true" tabindex="-1"></a>    <span class="bu">event</span><span class="op">.</span><span class="fu">preventDefault</span>()<span class="op">;</span></span>
<span id="cb11-9"><a href="#cb11-9" aria-hidden="true" tabindex="-1"></a>    <span class="kw">let</span> name <span class="op">=</span> <span class="bu">document</span><span class="op">.</span><span class="fu">getElementById</span>(<span class="st">'userNameInput'</span>)<span class="op">.</span><span class="at">value</span><span class="op">;</span></span>
<span id="cb11-10"><a href="#cb11-10" aria-hidden="true" tabindex="-1"></a>    PubSub<span class="op">.</span><span class="fu">publish</span>(<span class="st">'user/updated'</span><span class="op">,</span> {<span class="dt">name</span><span class="op">:</span> name})<span class="op">;</span></span>
<span id="cb11-11"><a href="#cb11-11" aria-hidden="true" tabindex="-1"></a>})<span class="op">;</span></span></code></pre></div>
<h3 id="implementing-event-driven-architecture">Implementing Event-Driven Architecture</h3>
<p>PubSubJS facilitates the creation of an event-driven architecture. Different parts of your application can communicate asynchronously through well-defined events (topics). This approach improves modularity, testability, and maintainability, making it easier to modify and extend your application over time. Components publish events when specific actions occur, and other components subscribe to those events to react appropriately. This eliminates direct dependencies between components, making the architecture more flexible and scalable.</p>
<h3 id="creating-a-decentralized-application">Creating a Decentralized Application</h3>
<p>In decentralized applications, different components or modules might run on separate threads, processes, or even machines. PubSubJS (with appropriate message brokers for inter-process or inter-machine communication) can provide a mechanism for these components to communicate efficiently. Each component can publish and subscribe to topics, allowing asynchronous communication without tight coupling. This enhances the system’s robustness and resilience, since the failure of one component does not necessarily affect others.</p>
<h3 id="integrating-with-other-libraries">Integrating with Other Libraries</h3>
<p>PubSubJS can be integrated with other JavaScript libraries and frameworks. It’s compatible with popular frameworks like React, Angular, Vue.js, etc. You can seamlessly use PubSubJS alongside these frameworks to manage communication between different parts of your application. Consider using PubSubJS in conjunction with state management libraries (like Redux or Vuex) to handle application-wide state changes. This integration allows for a separation of concerns, ensuring that the PubSubJS primarily handles communication while the state management library handles data updates and persistence. Remember to carefully handle any potential conflicts or overlaps in functionality between different libraries you incorporate.</p>
<h2 id="api-reference">API Reference</h2>
<h3 id="publishtopic-data"><code>publish(topic, data)</code></h3>
<p><strong>Description:</strong> Publishes a message to a specified topic.</p>
<p><strong>Parameters:</strong></p>
<ul>
<li><code>topic</code> (String): The name of the topic to publish the message to. Required.</li>
<li><code>data</code> (any): The data to send with the message. Can be any JavaScript data type. Optional.</li>
</ul>
<p><strong>Return Value:</strong></p>
<ul>
<li>Integer: A unique message token. This token can be used with <code>unsubscribe</code> to target specific subscriptions.</li>
</ul>
<p><strong>Example:</strong></p>
<div class="sourceCode" id="cb12"><pre class="sourceCode javascript"><code class="sourceCode javascript"><span id="cb12-1"><a href="#cb12-1" aria-hidden="true" tabindex="-1"></a><span class="kw">let</span> token <span class="op">=</span> PubSub<span class="op">.</span><span class="fu">publish</span>(<span class="st">'myTopic'</span><span class="op">,</span> { <span class="dt">message</span><span class="op">:</span> <span class="st">'Hello, world!'</span> })<span class="op">;</span></span>
<span id="cb12-2"><a href="#cb12-2" aria-hidden="true" tabindex="-1"></a><span class="bu">console</span><span class="op">.</span><span class="fu">log</span>(<span class="st">"Message token:"</span><span class="op">,</span> token)<span class="op">;</span></span></code></pre></div>
<h3 id="subscribetopic-callback"><code>subscribe(topic, callback)</code></h3>
<p><strong>Description:</strong> Subscribes to a topic. A callback function is executed whenever a message is published to that topic.</p>
<p><strong>Parameters:</strong></p>
<ul>
<li><code>topic</code> (String): The topic to subscribe to. Required.</li>
<li><code>callback</code> (Function): A function to be executed when a message is published. The function receives two arguments: <code>message</code> (the data) and <code>data</code> (the original data passed to <code>publish</code>). Required.</li>
</ul>
<p><strong>Return Value:</strong></p>
<ul>
<li>Integer: A unique token that identifies the subscription. Use this token with <code>unsubscribe</code> to remove the subscription.</li>
</ul>
<p><strong>Example:</strong></p>
<div class="sourceCode" id="cb13"><pre class="sourceCode javascript"><code class="sourceCode javascript"><span id="cb13-1"><a href="#cb13-1" aria-hidden="true" tabindex="-1"></a><span class="kw">let</span> token <span class="op">=</span> PubSub<span class="op">.</span><span class="fu">subscribe</span>(<span class="st">'myTopic'</span><span class="op">,</span> (msg<span class="op">,</span> data) <span class="kw">=&gt;</span> {</span>
<span id="cb13-2"><a href="#cb13-2" aria-hidden="true" tabindex="-1"></a>  <span class="bu">console</span><span class="op">.</span><span class="fu">log</span>(<span class="st">'Received message:'</span><span class="op">,</span> data)<span class="op">;</span></span>
<span id="cb13-3"><a href="#cb13-3" aria-hidden="true" tabindex="-1"></a>})<span class="op">;</span></span></code></pre></div>
<h3 id="unsubscribetoken"><code>unsubscribe(token)</code></h3>
<p><strong>Description:</strong> Unsubscribes from a topic using the token returned by <code>subscribe</code>.</p>
<p><strong>Parameters:</strong></p>
<ul>
<li><code>token</code> (Integer): The token returned by <code>subscribe</code>. Required.</li>
</ul>
<p><strong>Return Value:</strong></p>
<ul>
<li><code>undefined</code></li>
</ul>
<p><strong>Example:</strong></p>
<div class="sourceCode" id="cb14"><pre class="sourceCode javascript"><code class="sourceCode javascript"><span id="cb14-1"><a href="#cb14-1" aria-hidden="true" tabindex="-1"></a>PubSub<span class="op">.</span><span class="fu">unsubscribe</span>(token)<span class="op">;</span></span></code></pre></div>
<p>Note: There is no <code>unsubscribe(topic, callback)</code> method in PubSubJS. You must use the token to unsubscribe. Attempting to unsubscribe without a valid token will have no effect.</p>
<h3 id="utility-functions">Utility Functions</h3>
<p>PubSubJS does not include any additional utility functions beyond <code>publish</code>, <code>subscribe</code>, and <code>unsubscribe</code>. All core functionality is provided by these three methods. Any additional functionality needed for managing subscriptions, error handling, etc., should be implemented by the developer.</p>
<h2 id="troubleshooting">Troubleshooting</h2>
<h3 id="common-errors-and-solutions">Common Errors and Solutions</h3>
<ul>
<li><p><strong><code>Uncaught TypeError: PubSub.publish is not a function</code>:</strong> This error typically occurs if PubSubJS is not correctly included or initialized in your JavaScript code. Double-check that you’ve included the PubSubJS library using a CDN or npm, and that the library is accessible in the context where you’re calling <code>PubSub.publish</code>.</p></li>
<li><p><strong>Messages not received by subscribers:</strong> Verify that the topic names used in <code>publish</code> and <code>subscribe</code> calls are identical, including case. Check for typos in topic names. Ensure that the subscriber is active and listening at the time the message is published. For asynchronous operations, ensure your subscriber handles potential delays correctly.</p></li>
<li><p><strong><code>Uncaught TypeError: PubSub.unsubscribe is not a function</code>:</strong> Similar to the first error, this indicates a problem with including or initializing the PubSubJS library. Ensure the library is correctly loaded and accessible.</p></li>
<li><p><strong>Unexpected behavior with wildcards:</strong> Wildcards (<code>*</code>) can sometimes lead to unexpected behavior if not used carefully. Ensure your wildcard patterns are specific enough and won’t inadvertently match unrelated topics. Overuse of wildcards, particularly <code>'*/*'</code>, can negatively impact performance.</p></li>
</ul>
<h3 id="debugging-tips">Debugging Tips</h3>
<ul>
<li><p><strong>Console Logging:</strong> Add <code>console.log</code> statements to your publishers and subscribers to track message flow and data. Log the topic name, data being sent, and the execution context of your publishers and subscribers.</p></li>
<li><p><strong>Browser Developer Tools:</strong> Use your browser’s developer tools to debug your JavaScript code. The console provides information about errors and warnings. The debugger can help you step through your code and inspect variables. Network tools can be useful if your PubSubJS implementation involves asynchronous operations or communication across different components.</p></li>
<li><p><strong>Check Topic Names:</strong> Carefully examine the topic names used in your <code>publish</code> and <code>subscribe</code> calls. Ensure consistency and accuracy to avoid mismatches and prevent subscribers from receiving messages.</p></li>
<li><p><strong>Asynchronous Operations:</strong> If your subscribers perform asynchronous operations, use debugging techniques suitable for handling async code. Pay close attention to potential race conditions or delays.</p></li>
<li><p><strong>Isolate the Problem:</strong> Try to isolate the problem by creating minimal, reproducible examples. This can help you identify the root cause of the issue more easily.</p></li>
</ul>
<h3 id="troubleshooting-memory-issues">Troubleshooting Memory Issues</h3>
<ul>
<li><p><strong>Unsubscribing:</strong> The most common cause of memory leaks in PubSubJS is forgetting to unsubscribe. Ensure that you always call <code>PubSub.unsubscribe(token)</code> when a component or subscriber is no longer needed. Pay particular attention to dynamically created components or subscribers. Clean up subscriptions in component <code>componentWillUnmount</code> lifecycle methods (if using React) or equivalent methods in other frameworks.</p></li>
<li><p><strong>Large Data:</strong> Avoid publishing excessively large data payloads, as this can consume significant memory. Consider using more efficient data structures or techniques like data compression to reduce the memory footprint of your messages.</p></li>
<li><p><strong>Browser Memory Tools:</strong> Utilize the memory profiling tools in your browser’s developer tools. These tools can help identify memory leaks and pinpoint the areas of your code contributing to memory consumption.</p></li>
<li><p><strong>Circular References:</strong> Be mindful of circular references, which can prevent garbage collection. Ensure that there are no circular dependencies between your components and their subscriptions.</p></li>
<li><p><strong>Event Listeners:</strong> Ensure you are removing any other event listeners associated with components or elements when they are unmounted or no longer needed. These can also contribute to memory leaks if not correctly managed.</p></li>
</ul>


<footer>Copyright 2025 - Muthukrishnan</footer>
<script async="" src="https://pagead2.googlesyndication.com/pagead/js/adsbygoogle.js?client=ca-pub-3609399560636561" crossorigin="anonymous"></script>




</body></html>