<!DOCTYPE html>
<html xmlns="http://www.w3.org/1999/xhtml" lang="en" xml:lang="en"><head>

<meta charset="utf-8">
<meta name="generator" content="quarto-1.6.39">

<meta name="viewport" content="width=device-width, initial-scale=1.0, user-scalable=yes">

<meta name="author" content="Muthukrishnan">

<title>python-dotenv - Documentation – Technical Manuals</title>
<style>
html {
  color: #1a1a1a;
  background-color: #fdfdfd;
}
body {
  margin: 0 auto;
  max-width: 36em;
  padding-left: 50px;
  padding-right: 50px;
  padding-top: 50px;
  padding-bottom: 50px;
  hyphens: auto;
  overflow-wrap: break-word;
  text-rendering: optimizeLegibility;
  font-kerning: normal;
}
@media (max-width: 600px) {
  body {
    font-size: 0.9em;
    padding: 12px;
  }
  h1 {
    font-size: 1.8em;
  }
}
@media print {
  html {
    background-color: white;
  }
  body {
    background-color: transparent;
    color: black;
    font-size: 12pt;
  }
  p, h2, h3 {
    orphans: 3;
    widows: 3;
  }
  h2, h3, h4 {
    page-break-after: avoid;
  }
}
p {
  margin: 1em 0;
}
a {
  color: #1a1a1a;
}
a:visited {
  color: #1a1a1a;
}
img {
  max-width: 100%;
}
svg {
  height; auto;
  max-width: 100%;
}
h1, h2, h3, h4, h5, h6 {
  margin-top: 1.4em;
}
h5, h6 {
  font-size: 1em;
  font-style: italic;
}
h6 {
  font-weight: normal;
}
ol, ul {
  padding-left: 1.7em;
  margin-top: 1em;
}
li > ol, li > ul {
  margin-top: 0;
}
ul > li:not(:has(> p)) > ul,
ol > li:not(:has(> p)) > ul,
ul > li:not(:has(> p)) > ol,
ol > li:not(:has(> p)) > ol {
  margin-bottom: 0;
}
ul > li:not(:has(> p)) > ul > li:has(> p),
ol > li:not(:has(> p)) > ul > li:has(> p),
ul > li:not(:has(> p)) > ol > li:has(> p),
ol > li:not(:has(> p)) > ol > li:has(> p) {
  margin-top: 1rem;
}
blockquote {
  margin: 1em 0 1em 1.7em;
  padding-left: 1em;
  border-left: 2px solid #e6e6e6;
  color: #606060;
}
code {
  font-family: Menlo, Monaco, Consolas, 'Lucida Console', monospace;
  font-size: 85%;
  margin: 0;
  hyphens: manual;
}
pre {
  margin: 1em 0;
  overflow: auto;
}
pre code {
  padding: 0;
  overflow: visible;
  overflow-wrap: normal;
}
.sourceCode {
 background-color: transparent;
 overflow: visible;
}
hr {
  background-color: #1a1a1a;
  border: none;
  height: 1px;
  margin: 1em 0;
}
table {
  margin: 1em 0;
  border-collapse: collapse;
  width: 100%;
  overflow-x: auto;
  display: block;
  font-variant-numeric: lining-nums tabular-nums;
}
table caption {
  margin-bottom: 0.75em;
}
tbody {
  margin-top: 0.5em;
  border-top: 1px solid #1a1a1a;
  border-bottom: 1px solid #1a1a1a;
}
th {
  border-top: 1px solid #1a1a1a;
  padding: 0.25em 0.5em 0.25em 0.5em;
}
td {
  padding: 0.125em 0.5em 0.25em 0.5em;
}
header {
  margin-bottom: 4em;
  text-align: center;
}
#TOC li {
  list-style: none;
}
#TOC ul {
  padding-left: 1.3em;
}
#TOC > ul {
  padding-left: 0;
}
#TOC a:not(:hover) {
  text-decoration: none;
}
code{white-space: pre-wrap;}
span.smallcaps{font-variant: small-caps;}
div.columns{display: flex; gap: min(4vw, 1.5em);}
div.column{flex: auto; overflow-x: auto;}
div.hanging-indent{margin-left: 1.5em; text-indent: -1.5em;}
ul.task-list{list-style: none;}
ul.task-list li input[type="checkbox"] {
  width: 0.8em;
  margin: 0 0.8em 0.2em -1em; /* quarto-specific, see https://github.com/quarto-dev/quarto-cli/issues/4556 */ 
  vertical-align: middle;
}
/* CSS for syntax highlighting */
pre > code.sourceCode { white-space: pre; position: relative; }
pre > code.sourceCode > span { line-height: 1.25; }
pre > code.sourceCode > span:empty { height: 1.2em; }
.sourceCode { overflow: visible; }
code.sourceCode > span { color: inherit; text-decoration: inherit; }
div.sourceCode { margin: 1em 0; }
pre.sourceCode { margin: 0; }
@media screen {
div.sourceCode { overflow: auto; }
}
@media print {
pre > code.sourceCode { white-space: pre-wrap; }
pre > code.sourceCode > span { display: inline-block; text-indent: -5em; padding-left: 5em; }
}
pre.numberSource code
  { counter-reset: source-line 0; }
pre.numberSource code > span
  { position: relative; left: -4em; counter-increment: source-line; }
pre.numberSource code > span > a:first-child::before
  { content: counter(source-line);
    position: relative; left: -1em; text-align: right; vertical-align: baseline;
    border: none; display: inline-block;
    -webkit-touch-callout: none; -webkit-user-select: none;
    -khtml-user-select: none; -moz-user-select: none;
    -ms-user-select: none; user-select: none;
    padding: 0 4px; width: 4em;
  }
pre.numberSource { margin-left: 3em;  padding-left: 4px; }
div.sourceCode
  {   }
@media screen {
pre > code.sourceCode > span > a:first-child::before { text-decoration: underline; }
}
</style>


<link href="../../favicon.ico" rel="icon">
<script async="" src="https://www.googletagmanager.com/gtag/js?id="></script>

<script type="text/javascript">

window.dataLayer = window.dataLayer || [];
function gtag(){dataLayer.push(arguments);}
gtag('js', new Date());
gtag('config', '', { 'anonymize_ip': true});
</script>
<link rel="icon" type="image/x-icon" href="../../favicon.ico">
<meta property="og:title" content="python-dotenv - Documentation – Technical Manuals">
<meta property="og:site_name" content="Technical Manuals">
</head><body><div class="navigation-header">
    <nav>
        <div>
            <div class="logo">
                <a href="../../" aria-label="Home">
                    <span>Technical Manuals - Home</span>
                </a>
            </div>
            <div class="nav-menu">
                <ul>
                    <li>
                        <a href="../../about.html">
                            <span class="menu-text">About</span>
                        </a>
                    </li>
                    <li> 
                        <a href="https://github.com/muthuspark" target="_blank">
                            <span class="menu-text">Github</span>
                        </a>
                    </li>
                    <li>
                        <a href="https://linkedin.com/in/krimuthu" target="_blank">
                            <span class="menu-text">Linkedin</span>
                        </a>
                    </li>
                    <li>
                        <button onclick="window.print()" class="print-button">
                            <svg width="20" height="20" viewbox="0 0 24 24" fill="none" stroke="currentColor" stroke-width="2">
                              <path d="M6 9V2h12v7"></path>
                              <path d="M6 18H4a2 2 0 01-2-2v-5a2 2 0 012-2h16a2 2 0 012 2v5a2 2 0 01-2 2h-2"></path>
                              <path d="M6 14h12v8H6z"></path>
                            </svg>
                            Print Page
                        </button>
                    </li>
                </ul>
            </div>
        </div>
    </nav>
</div>


<link rel="stylesheet" href="../../styles.css">





<header id="title-block-header">
<h1 class="title">python-dotenv - Documentation</h1>

</header>

<nav id="TOC" role="doc-toc">
    <h2 id="toc-title">On this page</h2>
   
  <ul>
  <li><a href="#introduction" id="toc-introduction">Introduction</a>
  <ul>
  <li><a href="#what-is-python-dotenv" id="toc-what-is-python-dotenv">What is python-dotenv?</a></li>
  <li><a href="#why-use-python-dotenv" id="toc-why-use-python-dotenv">Why use python-dotenv?</a></li>
  <li><a href="#installation" id="toc-installation">Installation</a></li>
  <li><a href="#basic-usage-example" id="toc-basic-usage-example">Basic Usage Example</a></li>
  </ul></li>
  <li><a href="#core-functionality" id="toc-core-functionality">Core Functionality</a>
  <ul>
  <li><a href="#loading-.env-files" id="toc-loading-.env-files">Loading .env files</a></li>
  <li><a href="#accessing-environment-variables" id="toc-accessing-environment-variables">Accessing environment variables</a></li>
  <li><a href="#overriding-environment-variables" id="toc-overriding-environment-variables">Overriding environment variables</a></li>
  <li><a href="#handling-errors" id="toc-handling-errors">Handling errors</a></li>
  <li><a href="#setting-default-values" id="toc-setting-default-values">Setting default values</a></li>
  <li><a href="#using-with-different-file-paths" id="toc-using-with-different-file-paths">Using with different file paths</a></li>
  <li><a href="#working-with-different-file-formats-e.g.-.ini" id="toc-working-with-different-file-formats-e.g.-.ini">Working with different file formats (e.g., .ini)</a></li>
  </ul></li>
  <li><a href="#advanced-usage" id="toc-advanced-usage">Advanced Usage</a>
  <ul>
  <li><a href="#using-dotenv-with-frameworks-e.g.-flask-django" id="toc-using-dotenv-with-frameworks-e.g.-flask-django">Using dotenv with frameworks (e.g., Flask, Django)</a></li>
  <li><a href="#programmatic-loading-and-manipulation-of-.env" id="toc-programmatic-loading-and-manipulation-of-.env">Programmatic loading and manipulation of .env</a></li>
  <li><a href="#creating-custom-loaders-and-parsers" id="toc-creating-custom-loaders-and-parsers">Creating custom loaders and parsers</a></li>
  <li><a href="#security-considerations" id="toc-security-considerations">Security considerations</a></li>
  </ul></li>
  <li><a href="#api-reference" id="toc-api-reference">API Reference</a>
  <ul>
  <li><a href="#load_dotenv-function" id="toc-load_dotenv-function"><code>load_dotenv()</code> function</a></li>
  <li><a href="#find_dotenv-function" id="toc-find_dotenv-function"><code>find_dotenv()</code> function</a></li>
  <li><a href="#set_key-function" id="toc-set_key-function"><code>set_key()</code> function</a></li>
  <li><a href="#unset_key-function" id="toc-unset_key-function"><code>unset_key()</code> function</a></li>
  <li><a href="#get_key-function" id="toc-get_key-function"><code>get_key()</code> function</a></li>
  <li><a href="#get-function" id="toc-get-function"><code>get()</code> function</a></li>
  <li><a href="#dotenv.main-module" id="toc-dotenv.main-module"><code>dotenv.main</code> module</a></li>
  </ul></li>
  <li><a href="#contributing" id="toc-contributing">Contributing</a>
  <ul>
  <li><a href="#setting-up-the-development-environment" id="toc-setting-up-the-development-environment">Setting up the development environment</a></li>
  <li><a href="#running-tests" id="toc-running-tests">Running tests</a></li>
  <li><a href="#coding-style-guide" id="toc-coding-style-guide">Coding style guide</a></li>
  <li><a href="#submitting-pull-requests" id="toc-submitting-pull-requests">Submitting pull requests</a></li>
  </ul></li>
  <li><a href="#troubleshooting" id="toc-troubleshooting">Troubleshooting</a>
  <ul>
  <li><a href="#common-errors-and-solutions" id="toc-common-errors-and-solutions">Common errors and solutions</a></li>
  <li><a href="#debugging-tips" id="toc-debugging-tips">Debugging tips</a></li>
  <li><a href="#faq" id="toc-faq">FAQ</a></li>
  </ul></li>
  </ul>
</nav>
<h2 id="introduction">Introduction</h2>
<h3 id="what-is-python-dotenv">What is python-dotenv?</h3>
<p><code>python-dotenv</code> is a Python library that allows you to access environment variables from a <code>.env</code> file. This file, typically located in the root directory of your project, contains key-value pairs representing your environment variables. Using <code>python-dotenv</code> helps you manage sensitive information like API keys and database credentials securely, outside your version control system.</p>
<h3 id="why-use-python-dotenv">Why use python-dotenv?</h3>
<p>Using <code>python-dotenv</code> offers several advantages:</p>
<ul>
<li><strong>Improved Security:</strong> Avoids hardcoding sensitive data directly into your code. This prevents accidental exposure through commits or code sharing.</li>
<li><strong>Simplified Configuration:</strong> Centralizes environment variables, making it easy to manage and switch between different configurations (e.g., development, testing, production).</li>
<li><strong>Environment Isolation:</strong> Allows you to easily manage environment-specific configurations without modifying your source code.</li>
<li><strong>Improved Collaboration:</strong> Facilitates easier collaboration among developers as they can set up their own local <code>.env</code> files without altering shared code.</li>
<li><strong>Easy Deployment:</strong> Deployment scripts can populate the <code>.env</code> file with the appropriate variables for each target environment.</li>
</ul>
<h3 id="installation">Installation</h3>
<p>The simplest way to install <code>python-dotenv</code> is using <code>pip</code>:</p>
<div class="sourceCode" id="cb1"><pre class="sourceCode bash"><code class="sourceCode bash"><span id="cb1-1"><a href="#cb1-1" aria-hidden="true" tabindex="-1"></a><span class="ex">pip</span> install python-dotenv</span></code></pre></div>
<h3 id="basic-usage-example">Basic Usage Example</h3>
<p>First, create a <code>.env</code> file in your project’s root directory. Populate it with your environment variables:</p>
<pre><code>DATABASE_URL=postgres://user:password@host:port/database
API_KEY=your_api_key_here
DEBUG=True</code></pre>
<p>Then, in your Python code, load the <code>.env</code> file and access the variables:</p>
<div class="sourceCode" id="cb3"><pre class="sourceCode python"><code class="sourceCode python"><span id="cb3-1"><a href="#cb3-1" aria-hidden="true" tabindex="-1"></a><span class="im">import</span> os</span>
<span id="cb3-2"><a href="#cb3-2" aria-hidden="true" tabindex="-1"></a><span class="im">from</span> dotenv <span class="im">import</span> load_dotenv</span>
<span id="cb3-3"><a href="#cb3-3" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb3-4"><a href="#cb3-4" aria-hidden="true" tabindex="-1"></a><span class="co"># Load environment variables from .env file</span></span>
<span id="cb3-5"><a href="#cb3-5" aria-hidden="true" tabindex="-1"></a>load_dotenv()</span>
<span id="cb3-6"><a href="#cb3-6" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb3-7"><a href="#cb3-7" aria-hidden="true" tabindex="-1"></a><span class="co"># Access environment variables</span></span>
<span id="cb3-8"><a href="#cb3-8" aria-hidden="true" tabindex="-1"></a>database_url <span class="op">=</span> os.getenv(<span class="st">"DATABASE_URL"</span>)</span>
<span id="cb3-9"><a href="#cb3-9" aria-hidden="true" tabindex="-1"></a>api_key <span class="op">=</span> os.getenv(<span class="st">"API_KEY"</span>)</span>
<span id="cb3-10"><a href="#cb3-10" aria-hidden="true" tabindex="-1"></a>debug_mode <span class="op">=</span> os.getenv(<span class="st">"DEBUG"</span>, <span class="va">False</span>) <span class="co"># Provide a default value if variable is not found</span></span>
<span id="cb3-11"><a href="#cb3-11" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb3-12"><a href="#cb3-12" aria-hidden="true" tabindex="-1"></a><span class="bu">print</span>(<span class="ss">f"Database URL: </span><span class="sc">{</span>database_url<span class="sc">}</span><span class="ss">"</span>)</span>
<span id="cb3-13"><a href="#cb3-13" aria-hidden="true" tabindex="-1"></a><span class="bu">print</span>(<span class="ss">f"API Key: </span><span class="sc">{</span>api_key<span class="sc">}</span><span class="ss">"</span>)</span>
<span id="cb3-14"><a href="#cb3-14" aria-hidden="true" tabindex="-1"></a><span class="bu">print</span>(<span class="ss">f"Debug Mode: </span><span class="sc">{</span>debug_mode<span class="sc">}</span><span class="ss">"</span>) </span></code></pre></div>
<p>Remember to <strong>never</strong> commit your <code>.env</code> file to version control (e.g., Git). Add it to your <code>.gitignore</code> file.</p>
<h2 id="core-functionality">Core Functionality</h2>
<h3 id="loading-.env-files">Loading .env files</h3>
<p>The primary function of <code>python-dotenv</code> is loading environment variables from a <code>.env</code> file. The <code>load_dotenv()</code> function handles this:</p>
<div class="sourceCode" id="cb4"><pre class="sourceCode python"><code class="sourceCode python"><span id="cb4-1"><a href="#cb4-1" aria-hidden="true" tabindex="-1"></a><span class="im">from</span> dotenv <span class="im">import</span> load_dotenv</span>
<span id="cb4-2"><a href="#cb4-2" aria-hidden="true" tabindex="-1"></a>load_dotenv() <span class="co"># Loads from .env in the current directory by default</span></span></code></pre></div>
<p>This loads variables from <code>.env</code> in the current working directory. For more control, see “Using with different file paths” below. The function returns <code>None</code> and modifies the environment directly. It’s generally sufficient to call <code>load_dotenv()</code> only once at the beginning of your application.</p>
<h3 id="accessing-environment-variables">Accessing environment variables</h3>
<p>Once loaded, environment variables are accessed using the standard <code>os.getenv()</code> function:</p>
<div class="sourceCode" id="cb5"><pre class="sourceCode python"><code class="sourceCode python"><span id="cb5-1"><a href="#cb5-1" aria-hidden="true" tabindex="-1"></a><span class="im">import</span> os</span>
<span id="cb5-2"><a href="#cb5-2" aria-hidden="true" tabindex="-1"></a>value <span class="op">=</span> os.getenv(<span class="st">"MY_VARIABLE"</span>)</span>
<span id="cb5-3"><a href="#cb5-3" aria-hidden="true" tabindex="-1"></a><span class="bu">print</span>(value)</span></code></pre></div>
<p>If the variable “MY_VARIABLE” is not found, <code>os.getenv()</code> will return <code>None</code>.</p>
<h3 id="overriding-environment-variables">Overriding environment variables</h3>
<p>Environment variables set in your system’s environment will take precedence over those in the <code>.env</code> file. System environment variables are loaded first, so if a variable exists in both locations, the system value will be used.</p>
<h3 id="handling-errors">Handling errors</h3>
<p><code>python-dotenv</code> provides robust error handling. If the <code>.env</code> file is not found or has parsing errors (e.g., malformed syntax), it will typically raise an <code>IOError</code> or a <code>ValueError</code>. It’s good practice to wrap <code>load_dotenv()</code> in a <code>try...except</code> block:</p>
<div class="sourceCode" id="cb6"><pre class="sourceCode python"><code class="sourceCode python"><span id="cb6-1"><a href="#cb6-1" aria-hidden="true" tabindex="-1"></a><span class="im">from</span> dotenv <span class="im">import</span> load_dotenv, load_dotenv_override</span>
<span id="cb6-2"><a href="#cb6-2" aria-hidden="true" tabindex="-1"></a><span class="cf">try</span>:</span>
<span id="cb6-3"><a href="#cb6-3" aria-hidden="true" tabindex="-1"></a>    load_dotenv()</span>
<span id="cb6-4"><a href="#cb6-4" aria-hidden="true" tabindex="-1"></a><span class="cf">except</span> <span class="pp">IOError</span>:</span>
<span id="cb6-5"><a href="#cb6-5" aria-hidden="true" tabindex="-1"></a>    <span class="bu">print</span>(<span class="st">"Could not load .env file"</span>)</span></code></pre></div>
<h3 id="setting-default-values">Setting default values</h3>
<p>You can provide default values when accessing environment variables using the second argument of <code>os.getenv()</code>:</p>
<div class="sourceCode" id="cb7"><pre class="sourceCode python"><code class="sourceCode python"><span id="cb7-1"><a href="#cb7-1" aria-hidden="true" tabindex="-1"></a>database_url <span class="op">=</span> os.getenv(<span class="st">"DATABASE_URL"</span>, <span class="st">"sqlite:///mydatabase.db"</span>) <span class="co"># Uses sqlite if DATABASE_URL isn't found.</span></span></code></pre></div>
<p>This prevents your application from crashing if an expected environment variable is missing.</p>
<h3 id="using-with-different-file-paths">Using with different file paths</h3>
<p>To load from a <code>.env</code> file in a different location, specify the <code>dotenv_path</code> argument:</p>
<div class="sourceCode" id="cb8"><pre class="sourceCode python"><code class="sourceCode python"><span id="cb8-1"><a href="#cb8-1" aria-hidden="true" tabindex="-1"></a><span class="im">from</span> dotenv <span class="im">import</span> load_dotenv</span>
<span id="cb8-2"><a href="#cb8-2" aria-hidden="true" tabindex="-1"></a>load_dotenv(dotenv_path<span class="op">=</span><span class="st">"/path/to/.env"</span>) <span class="co"># Path is relative to your script's location unless absolute</span></span></code></pre></div>
<p>You can also pass a list of paths; <code>load_dotenv</code> will use the first <code>.env</code> it finds:</p>
<div class="sourceCode" id="cb9"><pre class="sourceCode python"><code class="sourceCode python"><span id="cb9-1"><a href="#cb9-1" aria-hidden="true" tabindex="-1"></a><span class="im">from</span> dotenv <span class="im">import</span> load_dotenv</span>
<span id="cb9-2"><a href="#cb9-2" aria-hidden="true" tabindex="-1"></a>load_dotenv(dotenv_path<span class="op">=</span>[<span class="st">'./.env'</span>, <span class="st">'/etc/.env'</span>, <span class="st">'/opt/.env'</span>])</span></code></pre></div>
<h3 id="working-with-different-file-formats-e.g.-.ini">Working with different file formats (e.g., .ini)</h3>
<p><code>python-dotenv</code> is primarily designed for <code>.env</code> files (key-value pairs). For other formats like <code>.ini</code>, you should consider using dedicated configuration libraries like <code>configparser</code>. <code>python-dotenv</code> does not directly support these alternative formats.</p>
<h2 id="advanced-usage">Advanced Usage</h2>
<h3 id="using-dotenv-with-frameworks-e.g.-flask-django">Using dotenv with frameworks (e.g., Flask, Django)</h3>
<p>Integrating <code>python-dotenv</code> with web frameworks like Flask and Django is straightforward. Typically, you’ll load the <code>.env</code> file early in your application’s initialization:</p>
<p><strong>Flask:</strong></p>
<div class="sourceCode" id="cb10"><pre class="sourceCode python"><code class="sourceCode python"><span id="cb10-1"><a href="#cb10-1" aria-hidden="true" tabindex="-1"></a><span class="im">from</span> flask <span class="im">import</span> Flask</span>
<span id="cb10-2"><a href="#cb10-2" aria-hidden="true" tabindex="-1"></a><span class="im">from</span> dotenv <span class="im">import</span> load_dotenv</span>
<span id="cb10-3"><a href="#cb10-3" aria-hidden="true" tabindex="-1"></a><span class="im">import</span> os</span>
<span id="cb10-4"><a href="#cb10-4" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb10-5"><a href="#cb10-5" aria-hidden="true" tabindex="-1"></a>app <span class="op">=</span> Flask(<span class="va">__name__</span>)</span>
<span id="cb10-6"><a href="#cb10-6" aria-hidden="true" tabindex="-1"></a>load_dotenv()</span>
<span id="cb10-7"><a href="#cb10-7" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb10-8"><a href="#cb10-8" aria-hidden="true" tabindex="-1"></a>DATABASE_URL <span class="op">=</span> os.getenv(<span class="st">"DATABASE_URL"</span>)</span>
<span id="cb10-9"><a href="#cb10-9" aria-hidden="true" tabindex="-1"></a><span class="co"># ... rest of your Flask app ...</span></span></code></pre></div>
<p><strong>Django:</strong></p>
<p>You would typically load the <code>.env</code> file in your <code>settings.py</code> before other settings are loaded:</p>
<div class="sourceCode" id="cb11"><pre class="sourceCode python"><code class="sourceCode python"><span id="cb11-1"><a href="#cb11-1" aria-hidden="true" tabindex="-1"></a><span class="im">import</span> os</span>
<span id="cb11-2"><a href="#cb11-2" aria-hidden="true" tabindex="-1"></a><span class="im">from</span> dotenv <span class="im">import</span> load_dotenv</span>
<span id="cb11-3"><a href="#cb11-3" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb11-4"><a href="#cb11-4" aria-hidden="true" tabindex="-1"></a><span class="co"># ... other Django imports ...</span></span>
<span id="cb11-5"><a href="#cb11-5" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb11-6"><a href="#cb11-6" aria-hidden="true" tabindex="-1"></a><span class="co"># Load environment variables before other settings</span></span>
<span id="cb11-7"><a href="#cb11-7" aria-hidden="true" tabindex="-1"></a>load_dotenv()</span>
<span id="cb11-8"><a href="#cb11-8" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb11-9"><a href="#cb11-9" aria-hidden="true" tabindex="-1"></a>DATABASES <span class="op">=</span> {</span>
<span id="cb11-10"><a href="#cb11-10" aria-hidden="true" tabindex="-1"></a>    <span class="st">'default'</span>: {</span>
<span id="cb11-11"><a href="#cb11-11" aria-hidden="true" tabindex="-1"></a>        <span class="st">'ENGINE'</span>: <span class="st">'django.db.backends.postgresql_psycopg2'</span>,</span>
<span id="cb11-12"><a href="#cb11-12" aria-hidden="true" tabindex="-1"></a>        <span class="st">'NAME'</span>: os.getenv(<span class="st">'DB_NAME'</span>),</span>
<span id="cb11-13"><a href="#cb11-13" aria-hidden="true" tabindex="-1"></a>        <span class="st">'USER'</span>: os.getenv(<span class="st">'DB_USER'</span>),</span>
<span id="cb11-14"><a href="#cb11-14" aria-hidden="true" tabindex="-1"></a>        <span class="st">'PASSWORD'</span>: os.getenv(<span class="st">'DB_PASSWORD'</span>),</span>
<span id="cb11-15"><a href="#cb11-15" aria-hidden="true" tabindex="-1"></a>        <span class="st">'HOST'</span>: os.getenv(<span class="st">'DB_HOST'</span>),</span>
<span id="cb11-16"><a href="#cb11-16" aria-hidden="true" tabindex="-1"></a>        <span class="st">'PORT'</span>: os.getenv(<span class="st">'DB_PORT'</span>),</span>
<span id="cb11-17"><a href="#cb11-17" aria-hidden="true" tabindex="-1"></a>    }</span>
<span id="cb11-18"><a href="#cb11-18" aria-hidden="true" tabindex="-1"></a>}</span>
<span id="cb11-19"><a href="#cb11-19" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb11-20"><a href="#cb11-20" aria-hidden="true" tabindex="-1"></a><span class="co"># ... rest of your Django settings ...</span></span></code></pre></div>
<p>Remember to add <code>.env</code> to your <code>.gitignore</code> file in both cases.</p>
<h3 id="programmatic-loading-and-manipulation-of-.env">Programmatic loading and manipulation of .env</h3>
<p>While <code>load_dotenv()</code> is convenient, you can also programmatically load and manipulate <code>.env</code> data:</p>
<div class="sourceCode" id="cb12"><pre class="sourceCode python"><code class="sourceCode python"><span id="cb12-1"><a href="#cb12-1" aria-hidden="true" tabindex="-1"></a><span class="im">from</span> dotenv <span class="im">import</span> dotenv_values</span>
<span id="cb12-2"><a href="#cb12-2" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb12-3"><a href="#cb12-3" aria-hidden="true" tabindex="-1"></a><span class="co"># Load values from .env file into a dictionary</span></span>
<span id="cb12-4"><a href="#cb12-4" aria-hidden="true" tabindex="-1"></a>env_vars <span class="op">=</span> dotenv_values()</span>
<span id="cb12-5"><a href="#cb12-5" aria-hidden="true" tabindex="-1"></a><span class="bu">print</span>(env_vars) <span class="co"># Access as a dictionary</span></span>
<span id="cb12-6"><a href="#cb12-6" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb12-7"><a href="#cb12-7" aria-hidden="true" tabindex="-1"></a><span class="co">#Modify dictionary</span></span>
<span id="cb12-8"><a href="#cb12-8" aria-hidden="true" tabindex="-1"></a>env_vars[<span class="st">'NEW_VAR'</span>] <span class="op">=</span> <span class="st">'new_value'</span></span>
<span id="cb12-9"><a href="#cb12-9" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb12-10"><a href="#cb12-10" aria-hidden="true" tabindex="-1"></a><span class="co">#Write back to .env file (careful with sensitive data)</span></span>
<span id="cb12-11"><a href="#cb12-11" aria-hidden="true" tabindex="-1"></a><span class="cf">with</span> <span class="bu">open</span>(<span class="st">'.env'</span>, <span class="st">'w'</span>) <span class="im">as</span> f:</span>
<span id="cb12-12"><a href="#cb12-12" aria-hidden="true" tabindex="-1"></a>    <span class="cf">for</span> key, value <span class="kw">in</span> env_vars.items():</span>
<span id="cb12-13"><a href="#cb12-13" aria-hidden="true" tabindex="-1"></a>        f.write(<span class="ss">f"</span><span class="sc">{</span>key<span class="sc">}</span><span class="ss">=</span><span class="sc">{</span>value<span class="sc">}</span><span class="ch">\n</span><span class="ss">"</span>)</span></code></pre></div>
<p><strong>Caution</strong>: Writing back to <code>.env</code> directly is generally discouraged for production environments due to potential security risks. It’s recommended for development or specific testing purposes only.</p>
<h3 id="creating-custom-loaders-and-parsers">Creating custom loaders and parsers</h3>
<p>For highly specialized needs, you can create custom loaders and parsers. This involves using the lower-level functions within <code>python-dotenv</code> to handle files differently or to parse files with a non-standard format:</p>
<div class="sourceCode" id="cb13"><pre class="sourceCode python"><code class="sourceCode python"><span id="cb13-1"><a href="#cb13-1" aria-hidden="true" tabindex="-1"></a><span class="im">from</span> dotenv <span class="im">import</span> parse_dotenv, set_key</span>
<span id="cb13-2"><a href="#cb13-2" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb13-3"><a href="#cb13-3" aria-hidden="true" tabindex="-1"></a><span class="co"># Parse your custom file</span></span>
<span id="cb13-4"><a href="#cb13-4" aria-hidden="true" tabindex="-1"></a>data <span class="op">=</span> parse_dotenv(path<span class="op">=</span><span class="st">'/path/to/my/custom_file.txt'</span>)</span>
<span id="cb13-5"><a href="#cb13-5" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb13-6"><a href="#cb13-6" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb13-7"><a href="#cb13-7" aria-hidden="true" tabindex="-1"></a><span class="co"># modify the parsed data</span></span>
<span id="cb13-8"><a href="#cb13-8" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb13-9"><a href="#cb13-9" aria-hidden="true" tabindex="-1"></a>set_key(data, <span class="st">'MY_CUSTOM_KEY'</span>, <span class="st">'MY_CUSTOM_VALUE'</span>)</span>
<span id="cb13-10"><a href="#cb13-10" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb13-11"><a href="#cb13-11" aria-hidden="true" tabindex="-1"></a><span class="co"># load modified data into environment</span></span>
<span id="cb13-12"><a href="#cb13-12" aria-hidden="true" tabindex="-1"></a>os.environ.update(data)</span></code></pre></div>
<h3 id="security-considerations">Security considerations</h3>
<ul>
<li><strong>Never commit <code>.env</code> files to version control.</strong> Always add <code>.env</code> to your <code>.gitignore</code> file.</li>
<li><strong>Use strong passwords and regularly rotate secrets.</strong></li>
<li><strong>Avoid storing highly sensitive information in <code>.env</code> files if possible.</strong> Consider more secure alternatives like dedicated secret management services for production environments.</li>
<li><strong>Validate and sanitize user inputs before using them to update environment variables.</strong></li>
<li><strong>Restrict access to <code>.env</code> files with appropriate file permissions.</strong></li>
<li><strong>Consider using environment variable injection mechanisms provided by your cloud platform or deployment tools for production deployments.</strong> These usually provide more robust security features.</li>
</ul>
<h2 id="api-reference">API Reference</h2>
<h3 id="load_dotenv-function"><code>load_dotenv()</code> function</h3>
<p>Loads environment variables from a <code>.env</code> file into <code>os.environ</code>.</p>
<p><strong>Signature:</strong></p>
<div class="sourceCode" id="cb14"><pre class="sourceCode python"><code class="sourceCode python"><span id="cb14-1"><a href="#cb14-1" aria-hidden="true" tabindex="-1"></a>load_dotenv(dotenv_path<span class="op">=</span><span class="va">None</span>, stream<span class="op">=</span><span class="va">None</span>, verbose<span class="op">=</span><span class="va">False</span>, override<span class="op">=</span><span class="va">False</span>, encoding<span class="op">=</span><span class="st">'utf-8'</span>)</span></code></pre></div>
<p><strong>Parameters:</strong></p>
<ul>
<li><code>dotenv_path</code>: (str or list[str], optional) Path(s) to the <code>.env</code> file(s). If not provided, defaults to searching for <code>.env</code> in the current working directory. Can be a single path, a list of paths, or None.</li>
<li><code>stream</code>: (IO[str], optional) A file-like object to read from instead of a file. If provided, <code>dotenv_path</code> is ignored.</li>
<li><code>verbose</code>: (bool, optional) Whether to print messages indicating which files were loaded. Defaults to <code>False</code>.</li>
<li><code>override</code>: (bool, optional) Whether to override existing environment variables. Defaults to <code>False</code>. If <code>False</code>, existing environment variables will take precedence.</li>
<li><code>encoding</code>: (str, optional) The encoding of the <code>.env</code> file. Defaults to <code>'utf-8'</code>.</li>
</ul>
<p><strong>Returns:</strong></p>
<p><code>None</code>. Modifies <code>os.environ</code> directly.</p>
<p><strong>Raises:</strong></p>
<ul>
<li><code>IOError</code>: If the specified <code>.env</code> file cannot be found or opened.</li>
<li><code>ValueError</code>: If the <code>.env</code> file has parsing errors.</li>
</ul>
<h3 id="find_dotenv-function"><code>find_dotenv()</code> function</h3>
<p>Finds the first <code>.env</code> file in the search path. Useful for determining the path to your <code>.env</code> file before loading it.</p>
<p><strong>Signature:</strong></p>
<div class="sourceCode" id="cb15"><pre class="sourceCode python"><code class="sourceCode python"><span id="cb15-1"><a href="#cb15-1" aria-hidden="true" tabindex="-1"></a>find_dotenv(filename<span class="op">=</span><span class="va">None</span>, raise_error_if_not_found<span class="op">=</span><span class="va">True</span>, usecwd<span class="op">=</span><span class="va">True</span>)</span></code></pre></div>
<p><strong>Parameters:</strong></p>
<ul>
<li><code>filename</code>: (str, optional) The filename to search for. Defaults to ‘.env’.</li>
<li><code>raise_error_if_not_found</code>: (bool, optional) Whether to raise an exception if the file is not found. Defaults to <code>True</code>.</li>
<li><code>usecwd</code>: (bool, optional) Whether to start the search in the current working directory. Defaults to <code>True</code>.</li>
</ul>
<p><strong>Returns:</strong></p>
<p>(str) The path to the found <code>.env</code> file.</p>
<p><strong>Raises:</strong></p>
<ul>
<li><code>FileNotFoundError</code>: If the file is not found and <code>raise_error_if_not_found</code> is <code>True</code>.</li>
</ul>
<h3 id="set_key-function"><code>set_key()</code> function</h3>
<p>Sets a key-value pair in a dictionary.</p>
<p><strong>Signature:</strong></p>
<div class="sourceCode" id="cb16"><pre class="sourceCode python"><code class="sourceCode python"><span id="cb16-1"><a href="#cb16-1" aria-hidden="true" tabindex="-1"></a>set_key(d, key, value)</span></code></pre></div>
<p><strong>Parameters:</strong></p>
<ul>
<li><code>d</code>: (dict) The dictionary to modify.</li>
<li><code>key</code>: (str) The key to set.</li>
<li><code>value</code>: (str) The value to set.</li>
</ul>
<p><strong>Returns:</strong></p>
<p><code>None</code>. Modifies the dictionary in place.</p>
<h3 id="unset_key-function"><code>unset_key()</code> function</h3>
<p>Removes a key from a dictionary.</p>
<p><strong>Signature:</strong></p>
<div class="sourceCode" id="cb17"><pre class="sourceCode python"><code class="sourceCode python"><span id="cb17-1"><a href="#cb17-1" aria-hidden="true" tabindex="-1"></a>unset_key(d, key)</span></code></pre></div>
<p><strong>Parameters:</strong></p>
<ul>
<li><code>d</code>: (dict) The dictionary to modify.</li>
<li><code>key</code>: (str) The key to remove.</li>
</ul>
<p><strong>Returns:</strong></p>
<p><code>None</code>. Modifies the dictionary in place.</p>
<h3 id="get_key-function"><code>get_key()</code> function</h3>
<p>Gets a value from a dictionary, handling missing keys.</p>
<p><strong>Signature:</strong></p>
<div class="sourceCode" id="cb18"><pre class="sourceCode python"><code class="sourceCode python"><span id="cb18-1"><a href="#cb18-1" aria-hidden="true" tabindex="-1"></a>get_key(d, key, default<span class="op">=</span><span class="va">None</span>)</span></code></pre></div>
<p><strong>Parameters:</strong></p>
<ul>
<li><code>d</code>: (dict) The dictionary to search.</li>
<li><code>key</code>: (str) The key to retrieve.</li>
<li><code>default</code>: (any, optional) The value to return if the key is not found. Defaults to <code>None</code>.</li>
</ul>
<p><strong>Returns:</strong></p>
<p>The value associated with the key, or the <code>default</code> value.</p>
<h3 id="get-function"><code>get()</code> function</h3>
<p>Gets a value from the environment variables or a dictionary, handling missing keys.</p>
<p><strong>Signature:</strong></p>
<div class="sourceCode" id="cb19"><pre class="sourceCode python"><code class="sourceCode python"><span id="cb19-1"><a href="#cb19-1" aria-hidden="true" tabindex="-1"></a>get(d, key, default<span class="op">=</span><span class="va">None</span>)</span></code></pre></div>
<p><strong>Parameters:</strong></p>
<ul>
<li><code>d</code>: (dict) The dictionary or <code>os.environ</code> to search.</li>
<li><code>key</code>: (str) The key to retrieve.</li>
<li><code>default</code>: (any, optional) The value to return if the key is not found. Defaults to <code>None</code>.</li>
</ul>
<p><strong>Returns:</strong></p>
<p>The value associated with the key, or the <code>default</code> value.</p>
<h3 id="dotenv.main-module"><code>dotenv.main</code> module</h3>
<p>This module contains a command-line interface for <code>python-dotenv</code>. It’s used primarily for development and debugging purposes. It’s not typically used directly within applications. The main function can be used for parsing .env files, showing content and allowing the manipulation of its content.</p>
<h2 id="contributing">Contributing</h2>
<p>We welcome contributions to <code>python-dotenv</code>! Whether it’s bug fixes, new features, or improved documentation, your help is appreciated.</p>
<h3 id="setting-up-the-development-environment">Setting up the development environment</h3>
<ol type="1">
<li><p><strong>Clone the repository:</strong></p>
<div class="sourceCode" id="cb20"><pre class="sourceCode bash"><code class="sourceCode bash"><span id="cb20-1"><a href="#cb20-1" aria-hidden="true" tabindex="-1"></a><span class="fu">git</span> clone https://github.com/theskumar/python-dotenv.git</span>
<span id="cb20-2"><a href="#cb20-2" aria-hidden="true" tabindex="-1"></a><span class="bu">cd</span> python-dotenv</span></code></pre></div></li>
<li><p><strong>Create a virtual environment (recommended):</strong></p>
<div class="sourceCode" id="cb21"><pre class="sourceCode bash"><code class="sourceCode bash"><span id="cb21-1"><a href="#cb21-1" aria-hidden="true" tabindex="-1"></a><span class="ex">python3</span> <span class="at">-m</span> venv .venv</span>
<span id="cb21-2"><a href="#cb21-2" aria-hidden="true" tabindex="-1"></a><span class="bu">source</span> .venv/bin/activate  <span class="co"># On Windows: .venv\Scripts\activate</span></span></code></pre></div></li>
<li><p><strong>Install dependencies:</strong></p>
<div class="sourceCode" id="cb22"><pre class="sourceCode bash"><code class="sourceCode bash"><span id="cb22-1"><a href="#cb22-1" aria-hidden="true" tabindex="-1"></a><span class="ex">pip</span> install <span class="at">-r</span> requirements-dev.txt</span></code></pre></div></li>
<li><p><strong>Install the package in editable mode:</strong></p>
<div class="sourceCode" id="cb23"><pre class="sourceCode bash"><code class="sourceCode bash"><span id="cb23-1"><a href="#cb23-1" aria-hidden="true" tabindex="-1"></a><span class="ex">pip</span> install <span class="at">-e</span> .</span></code></pre></div></li>
</ol>
<h3 id="running-tests">Running tests</h3>
<p>We use <code>pytest</code> for testing. To run the tests:</p>
<div class="sourceCode" id="cb24"><pre class="sourceCode bash"><code class="sourceCode bash"><span id="cb24-1"><a href="#cb24-1" aria-hidden="true" tabindex="-1"></a><span class="ex">pytest</span></span></code></pre></div>
<p>You can also run specific tests or test files as needed. Refer to the <code>pytest</code> documentation for more advanced usage.</p>
<h3 id="coding-style-guide">Coding style guide</h3>
<p>We follow PEP 8 as closely as possible. Consistent formatting is important for readability and maintainability. The <code>flake8</code> linter should be used to check your code before submitting a pull request:</p>
<div class="sourceCode" id="cb25"><pre class="sourceCode bash"><code class="sourceCode bash"><span id="cb25-1"><a href="#cb25-1" aria-hidden="true" tabindex="-1"></a><span class="ex">flake8</span></span></code></pre></div>
<h3 id="submitting-pull-requests">Submitting pull requests</h3>
<ol type="1">
<li><strong>Fork the repository</strong> on GitHub.</li>
<li><strong>Create a new branch</strong> for your feature or bug fix. Use descriptive branch names (e.g., <code>fix/bug-in-load_dotenv</code>, <code>feature/support-ini-files</code>).</li>
<li><strong>Make your changes</strong>, committing them with clear and concise commit messages.</li>
<li><strong>Run the tests</strong> to ensure everything works correctly (<code>pytest</code>). Address any failures before proceeding.</li>
<li><strong>Run the linter</strong> to ensure code style compliance (<code>flake8</code>).</li>
<li><strong>Push your branch</strong> to your forked repository.</li>
<li><strong>Create a pull request</strong> on the main <code>python-dotenv</code> repository. Include a clear description of your changes and address any comments from reviewers.</li>
</ol>
<p>Remember to keep your pull requests focused on a single change. Small, well-tested pull requests are easier to review and merge.</p>
<h2 id="troubleshooting">Troubleshooting</h2>
<h3 id="common-errors-and-solutions">Common errors and solutions</h3>
<ul>
<li><p><strong><code>FileNotFoundError: [Errno 2] No such file or directory: '.env'</code></strong>: This means <code>python-dotenv</code> cannot find a <code>.env</code> file in your current working directory. Make sure you have a <code>.env</code> file in the same directory as your Python script, or specify the correct path using the <code>dotenv_path</code> argument in <code>load_dotenv()</code>.</p></li>
<li><p><strong><code>ValueError: invalid syntax</code></strong>: This indicates a problem with the syntax of your <code>.env</code> file. Check for typos, ensure key-value pairs are separated by <code>=</code>, and avoid spaces around the <code>=</code> sign unless they’re quoted. Also, ensure that values are properly quoted if they contain spaces or special characters.</p></li>
<li><p><strong>Environment variable not loaded</strong>: If you’ve loaded the <code>.env</code> file but a variable isn’t available, double-check the spelling in both your <code>.env</code> file and your code. System environment variables will override those in <code>.env</code>, so check if a system variable with the same name is already set.</p></li>
<li><p><strong><code>ImportError: No module named 'dotenv'</code></strong>: You haven’t installed <code>python-dotenv</code>. Install it using <code>pip install python-dotenv</code>.</p></li>
</ul>
<h3 id="debugging-tips">Debugging tips</h3>
<ul>
<li><p><strong>Print the contents of <code>os.environ</code></strong>: After calling <code>load_dotenv()</code>, print <code>os.environ</code> to see which variables have been loaded. This helps verify whether your <code>.env</code> file is being read correctly and whether variables are being correctly set into the environment.</p></li>
<li><p><strong>Use a debugger</strong>: Use a Python debugger (like pdb) to step through your code and inspect the values of variables at different points. This can help pinpoint where problems are occurring.</p></li>
<li><p><strong>Check your <code>.gitignore</code></strong>: Ensure that <code>.env</code> is added to your <code>.gitignore</code> file to prevent accidental commits of your sensitive data.</p></li>
<li><p><strong>Simplify your <code>.env</code> file</strong>: If you’re having trouble debugging, try creating a minimal <code>.env</code> file with only one or two key-value pairs to isolate the issue.</p></li>
<li><p><strong>Check for encoding issues</strong>: Ensure your <code>.env</code> file uses UTF-8 encoding. Incorrect encoding can lead to parsing errors.</p></li>
</ul>
<h3 id="faq">FAQ</h3>
<ul>
<li><p><strong>Q: Can I use <code>python-dotenv</code> in a production environment?</strong> A: While <code>python-dotenv</code> is convenient for development, for production, consider more robust secret management solutions. <code>python-dotenv</code>’s simplicity makes it prone to security vulnerabilities if not used carefully.</p></li>
<li><p><strong>Q: Can I use <code>python-dotenv</code> with multiple <code>.env</code> files?</strong> A: You can specify multiple paths in <code>dotenv_path</code> as a list. The first file found will be loaded.</p></li>
<li><p><strong>Q: Why are my environment variables not being loaded?</strong> A: Check for typos in your <code>.env</code> file and in your code when accessing the variables. Ensure your <code>.env</code> file is in the correct location (specified via <code>dotenv_path</code> or the current working directory). Also remember that system environment variables take precedence, potentially overriding those in your <code>.env</code> file.</p></li>
<li><p><strong>Q: How can I handle errors gracefully?</strong> A: Wrap your <code>load_dotenv()</code> call in a <code>try...except</code> block to catch <code>IOError</code> and <code>ValueError</code> exceptions and handle them appropriately in your code. Provide default values for environment variables using <code>os.getenv(key, default_value)</code>.</p></li>
<li><p><strong>Q: Is it safe to write back to the .env file using <code>dotenv</code>?</strong> A: No, it’s generally unsafe to write back to the <code>.env</code> file directly, especially in production. It’s a potential security risk. Consider alternative strategies for managing configurations in a production setting.</p></li>
</ul>


<footer>Copyright 2025 - Muthukrishnan</footer>
<script async="" src="https://pagead2.googlesyndication.com/pagead/js/adsbygoogle.js?client=ca-pub-3609399560636561" crossorigin="anonymous"></script>




</body></html>