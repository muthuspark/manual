{"title":"lazySizes - Documentation","markdown":{"yaml":{"title":"lazySizes - Documentation","categories":["JavaScript Libraries and Functions"]},"headingText":"Introduction","containsRefs":false,"markdown":"\n\n\n\n### What is lazySizes?\n\nlazySizes is a high-performance, lightweight JavaScript library for lazy loading images.  It intelligently loads images only when they're near the viewport, significantly improving page load times and reducing bandwidth consumption. Unlike many other lazy loading solutions, lazySizes handles various image types (including `<picture>` and `<img srcset>`), responsive images, and offers advanced features like placeholder support and smooth transitions. It's designed to be easily integrated into existing projects and requires minimal configuration.\n\n### Why use lazySizes?\n\nUsing lazySizes offers several compelling advantages:\n\n* **Improved Performance:**  Significantly faster initial page load times by delaying the loading of off-screen images. This leads to better user experience and improved SEO rankings.\n* **Reduced Bandwidth Consumption:** Only necessary images are downloaded, saving bandwidth for both the user and the server.\n* **Enhanced User Experience:**  Provides a smoother scrolling experience without the lag caused by loading many images at once.\n* **Versatile and Flexible:** Supports various image formats, responsive images, and integrates seamlessly with existing projects.\n* **Lightweight and Efficient:**  The library itself is incredibly small, minimizing the impact on overall page size.\n* **Highly Configurable:**  Offers extensive configuration options to fine-tune its behavior to match specific project requirements.\n\n\n### Key Features and Benefits\n\n* **Lazy Loading of Images:**  Images are loaded only when they are about to become visible in the viewport.\n* **Support for `<img srcset>`:**  Handles responsive images seamlessly, selecting the appropriate image based on screen resolution.\n* **Support for `<picture>` element:**  Allows for advanced image selection based on various factors (e.g., device pixel ratio, media queries).\n* **Placeholder Support:**  Provides options for displaying placeholders until images are loaded, enhancing the user experience.\n* **Smooth Transitions:** Options for smooth image transitions after loading.\n* **Background Image Support:**  Handles lazy loading for background images.\n* **Customizable Configuration:**  Highly configurable to meet the needs of various projects.\n* **Lightweight and Efficient:**  Minimal impact on page size and performance.\n* **Extensible API:**  Allows for extending functionality through custom plugins and events.\n* **Good Browser Compatibility:** Supports a wide range of browsers.\n\n\n### Installation and Setup\n\nThere are several ways to install lazySizes:\n\n**1. Download and Include:**\n\nDownload the `lazysizes.min.js` file from the official lazySizes GitHub repository and include it in your HTML file.  Place the `<script>` tag before the closing `</body>` tag for optimal performance:\n\n```html\n<script src=\"lazysizes.min.js\" async></script>\n```\n\n**2. Using a CDN:**\n\nUse a CDN like jsDelivr for easy integration:\n\n```html\n<script src=\"https://cdn.jsdelivr.net/npm/lazysizes@5/lazysizes.min.js\" async></script>\n```\n\n**3. Using a Package Manager (npm):**\n\nIf you're using a package manager like npm, install lazySizes:\n\n```bash\nnpm install lazysizes\n```\n\nThen import it into your JavaScript code.  Note that you'll still need to include the necessary HTML attributes on your images (see below).\n\n**Adding lazySizes Attributes to Images:**\n\nOnce lazySizes is included, you need to add the `data-src` attribute to your `<img>` tags to specify the actual image URL:\n\n```html\n<img data-src=\"image.jpg\" alt=\"My Image\">\n```\n\nFor responsive images using `<img srcset>` or the `<picture>` element,  `data-src` and `data-srcset` attributes are used respectively.  lazySizes automatically handles these. For example:\n\n```html\n<img data-srcset=\"image-small.jpg 300w, image-large.jpg 800w\"\n     src=\"placeholder.jpg\" alt=\"My Image\">\n\n<picture>\n  <source data-srcset=\"image-small.webp 300w, image-large.webp 800w\" type=\"image/webp\">\n  <source data-srcset=\"image-small.jpg 300w, image-large.jpg 800w\" type=\"image/jpeg\">\n  <img data-src=\"image-default.jpg\" alt=\"My Image\">\n</picture>\n```\n\nRemember to replace `\"placeholder.jpg\"`, `\"image-small.jpg\"`, `\"image-large.jpg\"`, and `\"image-default.jpg\"` with your actual image paths.  Using a low-resolution placeholder image as the `src` attribute improves initial load times and user experience.\n\n\nThat completes the basic setup.  Further configuration options and advanced features are discussed in the subsequent sections of this manual.\n\n\n\n\n## Core Concepts\n\n### Understanding Lazy Loading\n\nLazy loading is a performance optimization technique that delays the loading of resources (in this case, images) until they are needed.  Instead of loading all images on page load, lazySizes only loads images that are visible or about to become visible within the browser's viewport. This significantly reduces the initial page load time and bandwidth consumption, leading to a better user experience and improved SEO.  lazySizes achieves this by monitoring the user's scrolling and loading images as they enter the viewport.  It intelligently handles various factors like image size, screen resolution, and network conditions to optimize the loading process.  The images' actual URLs are stored in data attributes, and lazySizes replaces these placeholders with the real images when appropriate.\n\n### The lazySizes API\n\nlazySizes provides a minimal but powerful API for interacting with its functionality. While generally not required for basic usage, the API allows advanced customization and integration. The primary method available is `lazySizes.cfg`,  allowing runtime configuration changes.\n\n**`lazySizes.cfg`:** This object allows modification of lazySizes' configuration after initialization.  Modifying this object after lazySizes has already processed the page will usually have an effect but it is best practice to modify this object *before* lazySizes loads. See the Configuration Options section for a detailed list of configurable properties.\n\n**Example:**  To change the `lazyClass` (the class applied to an image before loading), you can do:\n\n```javascript\nlazySizes.cfg.lazyClass = 'my-lazy-class';\n```\n\n**Note:**  Direct manipulation of the internal lazySizes objects is generally discouraged unless you're developing a plugin or extending the library's core functionality.  Always prefer using the provided API whenever possible.\n\n\n### Configuration Options\n\nlazySizes offers a wide range of configuration options, accessible through `lazySizes.cfg`.  These options allow fine-tuning the library's behavior to suit your project's specific needs.  Most options have default values that work well in most cases, but customizing them can lead to further performance improvements or tailored behavior. Here are some key configuration options:\n\n* **`lazyClass` (String, default: `lazyload`):** The class name added to elements before they're loaded.  You can use CSS to style elements with this class as placeholders.\n* **`loadedClass` (String, default: `lazyloaded`):** The class name added to elements after they've been successfully loaded.\n* **`errorClass` (String, default: `lazyerror`):** The class name added to elements if loading fails.\n* **`expand` (Number, default: 200):**  The number of pixels before an element enters the viewport that lazySizes starts loading the image.  A higher value starts loading earlier.\n* **`throttle` (Number, default: 250):** The time in milliseconds to wait before checking for new images in the viewport. A smaller value checks more frequently.\n* **`preload` (Number, default: 1):** The number of elements to preload beyond the viewport.\n* **`hFac` (Number, default: 0.5):** The horizontal factor used for calculating viewport boundaries. Values closer to 0 prioritize elements closer to the left side of the screen.\n* **`vFac` (Number, default: 0.5):**  The vertical factor used for calculating viewport boundaries. Values closer to 0 prioritize elements closer to the top of the screen.\n* **`thresholds` (Array, default: [250]):** This is a more advanced option. You can provide an array of values (in pixels) to dynamically change the lazy load threshold based on a hierarchy.\n* **`useNative` (Boolean, default: false):** If true, uses browser native lazy loading if available.  This should generally be left as false to ensure consistent cross-browser behavior with lazySizes.\n* **`nativeLoading` (Boolean, default: true):** If `useNative` is true, this controls whether to use browser native loading.\n\nFor a complete list and explanation of all configuration options, refer to the lazySizes documentation on GitHub.  It's best to experiment with different values to find what works best for your specific use case.\n\n\n### Event Handling\n\nlazySizes triggers several custom events throughout its lifecycle, allowing you to hook into specific stages of the lazy loading process. These events are dispatched on the image element itself.  You can listen for these events using JavaScript's `addEventListener` method.  Here are some key events:\n\n* **`lazybeforeunveil`:** Dispatched just before an image is about to be unveiled (loaded).  Useful for performing actions before the image load begins.\n* **`lazyunveil`:** Dispatched when an image is unveiled (its loading process starts).\n* **`lazyloaded`:** Dispatched after an image has successfully loaded.\n* **`lazyerror`:** Dispatched if an image fails to load.\n\n**Example:**  To add a console log message when an image is successfully loaded:\n\n```javascript\ndocument.addEventListener('lazyloaded', (event) => {\n  console.log('Image loaded:', event.target.src);\n});\n```\n\nBy listening to these events, you can implement custom behaviors, such as displaying loading indicators, handling errors gracefully, or triggering animations after image load.  The complete list of events and their details can be found in the official lazySizes documentation.\n\n\n\n\n## Advanced Configuration\n\n### Customizing Placeholder Images\n\nWhile lazySizes doesn't enforce the use of placeholder images, using them significantly enhances the user experience by providing immediate visual feedback.  You can customize placeholder images in several ways:\n\n* **Using `src` attribute:** The simplest method is to set a low-resolution or placeholder image as the `src` attribute of your `<img>` tag. This image will be displayed immediately, then replaced by the high-resolution image loaded by lazySizes.\n\n```html\n<img src=\"placeholder-small.jpg\" data-src=\"image-large.jpg\" alt=\"My Image\">\n```\n\n* **CSS Background Images:** You can use CSS to style the container element of your image, applying a background image as a placeholder. This requires setting the `display` to `block` on the `img` tag, and the container to `relative` so the image sits on top of the background.\n\n```html\n<div style=\"background-image: url('placeholder.jpg'); background-size: cover; width: 300px; height: 200px;\">\n  <img style=\"display:block;\" data-src=\"image.jpg\" alt=\"My Image\">\n</div>\n```\n\n* **JavaScript Placeholders:** For more dynamic placeholder control, you can use JavaScript to manipulate the placeholder before lazySizes loads the image.  You would likely need to listen for the `lazybeforeunveil` event.\n\nRemember to choose placeholder images that are small in file size to minimize initial page load time.\n\n\n### Working with Different Image Formats\n\nlazySizes seamlessly handles various image formats, including JPEG, PNG, WebP, GIF, and more.  It automatically detects the image format based on the file extension.  No special configuration is typically required.  However, for optimal performance, consider using optimized image formats like WebP, which often offer better compression than JPEG or PNG.\n\nUsing `<picture>` elements allows you to serve different image formats depending on browser capabilities:\n\n```html\n<picture>\n  <source data-srcset=\"image.webp\" type=\"image/webp\">\n  <source data-srcset=\"image.jpg\" type=\"image/jpeg\">\n  <img data-src=\"image.jpg\" alt=\"My Image\">\n</picture>\n```\n\n\n### Responsive Images with `srcset`\n\nlazySizes fully supports responsive images using the `<img srcset>` attribute.  It automatically selects the appropriate image based on the screen's resolution and pixel density. Simply provide different image sizes and their corresponding resolutions in the `data-srcset` attribute.\n\n```html\n<img data-srcset=\"image-small.jpg 300w, image-medium.jpg 600w, image-large.jpg 1200w\"\n     src=\"placeholder.jpg\" alt=\"My Image\">\n```\n\nThis tells lazySizes to choose the most appropriate image based on the screen's width.  The `w` descriptor indicates the image's width.  You can also use `x` for pixel density (e.g., `image-high.jpg 2x`).\n\n\n### Fine-tuning Performance\n\nBeyond the basic configuration options, several strategies can further optimize lazySizes' performance:\n\n* **Optimize Images:**  Compress images using tools like TinyPNG or ImageOptim to reduce their file sizes without significant quality loss.\n* **Use Efficient Image Formats:**  Prefer WebP when possible for better compression.\n* **Adjust `expand` and `throttle`:** Experiment with these configuration options to find the optimal balance between responsiveness and performance.  Higher `expand` values load images earlier, but increase resource consumption.  Lower `throttle` values check for new images more frequently, increasing CPU load.\n* **Placeholder Images:** As mentioned above, using small placeholder images significantly improves initial load times.\n* **Minimize JavaScript:** Keep your JavaScript code lean to avoid unnecessary overhead.\n* **Use Browser Caching:**  Configure your web server to enable browser caching for images to reduce redundant downloads.\n\n\n### Integration with Other Libraries\n\nlazySizes is designed to be compatible with most other JavaScript libraries.  However, potential conflicts can arise if other libraries manipulate the DOM in ways that affect the images lazySizes manages.  If you encounter issues, ensure that the libraries' initialization order is appropriate, or consider using techniques like event listeners to coordinate actions between lazySizes and other libraries.\n\n\n### Debugging and Troubleshooting\n\nIf you encounter problems with lazySizes, here are some debugging steps:\n\n* **Check the Console:**  Open your browser's developer console (usually by pressing F12) to check for any JavaScript errors.  lazySizes will generally log errors to the console.\n* **Inspect Network Requests:**  Use your browser's developer tools to examine network requests to ensure that images are being loaded correctly and efficiently.\n* **Verify Configuration:**  Double-check your `lazySizes.cfg` settings to ensure that they are correctly configured.\n* **Simplify your HTML:**  Create a minimal test case to isolate the problem if you have complex HTML.\n* **Consult the Documentation:** The official lazySizes documentation provides detailed information and troubleshooting tips.  The GitHub repository also contains a wealth of information and community support.\n\n\nRemember to always check the official lazySizes documentation for the most up-to-date information and best practices.\n\n\n\n\n## API Reference\n\nThe lazySizes API provides methods for interacting with and controlling the library's behavior beyond the basic configuration.  While most use cases can be handled with configuration alone, the API provides advanced control and integration capabilities.  Remember that directly manipulating lazySizes' internal objects is generally discouraged; use the provided API methods whenever possible.\n\n### `lazySizes.cfg`\n\nThis is the primary method for configuring lazySizes. It's an object containing various settings.  Modifying this object *before* lazySizes initializes is recommended for predictable behavior.  Changes made after initialization might have an effect but are not guaranteed to be fully applied.\n\n**Access:** `lazySizes.cfg`\n\n**Type:** Object\n\n**Example:** To change the `expand` setting to 300 pixels:\n\n```javascript\nlazySizes.cfg.expand = 300;\n```\n\nSee the \"Configuration Options\" section for a complete list of configurable properties within `lazySizes.cfg`.\n\n\n### `lazySizes.init()`\n\nManually initializes lazySizes.  Normally, lazySizes initializes automatically when the script is loaded.  This method is useful if you need to initialize lazySizes at a specific time or after modifying the DOM.\n\n**Access:** `lazySizes.init()`\n\n**Type:** Function\n\n**Returns:** `undefined`\n\n**Example:** To initialize lazySizes after dynamically adding images to the page:\n\n```javascript\n// ... add images to the DOM ...\nlazySizes.init();\n```\n\n\n### `lazySizes.autoInit`\n\nA boolean property that controls whether lazySizes initializes automatically.  Setting this to `false` prevents automatic initialization, requiring manual initialization with `lazySizes.init()`.\n\n**Access:** `lazySizes.autoInit`\n\n**Type:** Boolean\n\n**Example:** To disable auto-initialization:\n\n```javascript\nlazySizes.autoInit = false;\n```\n\n\n\n### `lazySizes.listenTo(target, eventName, callback)`\n\nAdds an event listener to a specific element or elements. This provides a way to listen for custom lazySizes events on elements other than the images themselves.\n\n**Access:** `lazySizes.listenTo(target, eventName, callback)`\n\n**Type:** Function\n\n**Parameters:**\n\n* `target`: The element or elements to listen to (can be a CSS selector string or a DOM element).\n* `eventName`: The name of the event to listen for (e.g., `lazyloaded`).\n* `callback`: The function to execute when the event is triggered.\n\n\n**Example:**  Listening for the `lazyloaded` event on all elements with the class `my-element`:\n\n```javascript\nlazySizes.listenTo('.my-element', 'lazyloaded', (e) => {\n  console.log('Image loaded:', e.target);\n});\n```\n\n\n### `lazySizes.unlistenTo(target, eventName, callback)`\n\nRemoves an event listener previously added with `lazySizes.listenTo`.\n\n**Access:** `lazySizes.unlistenTo(target, eventName, callback)`\n\n**Type:** Function\n\n**Parameters:**\n\n* `target`: The element or elements to remove the listener from.\n* `eventName`: The name of the event.\n* `callback`: The callback function (optional; if omitted, all callbacks for that event are removed).\n\n**Example:** Removing the previously added listener:\n\n```javascript\nlazySizes.unlistenTo('.my-element', 'lazyloaded');\n```\n\n\n### `lazySizes.on(eventName, callback)`\n\nAdds an event listener for a specific lazySizes event.  This is similar to `addEventListener` but specifically for lazySizes events.\n\n**Access:** `lazySizes.on(eventName, callback)`\n\n**Type:** Function\n\n**Parameters:**\n\n* `eventName`: The name of the lazySizes event.\n* `callback`: The function to execute when the event occurs.\n\n\n### `lazySizes.once(eventName, callback)`\n\nAdds an event listener that is executed only once for the specified event.\n\n**Access:** `lazySizes.once(eventName, callback)`\n\n**Type:** Function\n\n**Parameters:**\n\n* `eventName`: The name of the lazySizes event.\n* `callback`: The function to execute when the event occurs.\n\n\n### `lazySizes.off(eventName, callback)`\n\nRemoves an event listener added with `lazySizes.on` or `lazySizes.once`.\n\n**Access:** `lazySizes.off(eventName, callback)`\n\n**Type:** Function\n\n**Parameters:**\n\n* `eventName`: The name of the lazySizes event.\n* `callback`: The callback function (optional; if omitted, all callbacks for that event are removed).\n\n\n### `lazySizes.trigger(element, eventName, details)`\n\nManually triggers a lazySizes event on a specified element.  Useful for testing or creating custom interactions.\n\n**Access:** `lazySizes.trigger(element, eventName, details)`\n\n**Type:** Function\n\n**Parameters:**\n\n* `element`: The DOM element on which to trigger the event.\n* `eventName`: The name of the event to trigger.\n* `details`: An optional object containing additional event details.\n\n\n\n### `lazySizes.update(isForced)`\n\nForces lazySizes to recalculate the viewport and check for images to load.  Useful after significant changes to the DOM, such as adding or removing images dynamically.\n\n**Access:** `lazySizes.update(isForced)`\n\n**Type:** Function\n\n**Parameters:**\n\n* `isForced`: (Optional, Boolean) If `true`, forces an immediate update even if the `throttle` setting is in effect.  Defaults to `false`.\n\n\nThis API provides powerful tools for controlling and extending lazySizes functionality beyond its default behavior.  Remember to consult the official lazySizes documentation for the most up-to-date information and examples.\n\n\n\n\n## Examples and Use Cases\n\nThis section demonstrates various ways to integrate lazySizes into your projects, showcasing its versatility and power.\n\n### Basic Implementation\n\nThe most basic implementation involves adding the `data-src` attribute to your `<img>` tags.  This attribute holds the actual image URL, while a low-resolution placeholder (or no `src` attribute at all) is used for immediate display.  LazySizes handles the rest.\n\n```html\n<!DOCTYPE html>\n<html>\n<head>\n<title>lazySizes Example</title>\n<script src=\"https://cdn.jsdelivr.net/npm/lazysizes@5/lazysizes.min.js\" async></script>\n</head>\n<body>\n\n<img data-src=\"image1.jpg\" alt=\"Image 1\">\n<img data-src=\"image2.jpg\" alt=\"Image 2\">\n<img data-src=\"image3.jpg\" alt=\"Image 3\">\n\n</body>\n</html>\n```\n\nRemember to replace `\"image1.jpg\"`, `\"image2.jpg\"`, and `\"image3.jpg\"` with the actual paths to your images.  Ensure that `lazysizes.min.js` is included before the closing `</body>` tag.\n\n\n### Image Galleries\n\nLazySizes works seamlessly with image galleries.  Simply apply the `data-src` attribute to each image within your gallery structure.  This is particularly beneficial for large galleries, as it drastically reduces the initial load time.\n\n```html\n<div class=\"gallery\">\n  <img data-src=\"gallery-image1.jpg\" alt=\"Gallery Image 1\">\n  <img data-src=\"gallery-image2.jpg\" alt=\"Gallery Image 2\">\n  <img data-src=\"gallery-image3.jpg\" alt=\"Gallery Image 3\">\n  <!-- ... more gallery images ... -->\n</div>\n```\n\n\n### Background Images\n\nLazySizes also supports lazy loading for background images.  Use the `data-bg` attribute instead of `data-src`.  This attribute should contain the URL of the background image.\n\n```html\n<div style=\"width: 300px; height: 200px;\" data-bg=\"background-image.jpg\"></div>\n```\n\nThis will load the background image only when the `<div>` element is within the viewport.\n\n**Note:**  Ensure the container has defined `width` and `height` for the background image to display correctly.\n\n\n### Responsive Layouts\n\nLazySizes integrates seamlessly with responsive design techniques like `srcset` and the `<picture>` element.  It automatically selects the appropriate image based on the user's device and screen size.\n\n```html\n<img data-srcset=\"small.jpg 300w, medium.jpg 600w, large.jpg 1200w\" alt=\"Responsive Image\">\n```\n\nor using `<picture>`:\n\n```html\n<picture>\n  <source data-srcset=\"image-small.webp 300w, image-large.webp 800w\" type=\"image/webp\">\n  <source data-srcset=\"image-small.jpg 300w, image-large.jpg 800w\" type=\"image/jpeg\">\n  <img data-src=\"image-default.jpg\" alt=\"My Image\">\n</picture>\n```\n\n\n### Infinite Scrolling\n\nFor infinite scrolling implementations, lazySizes automatically handles loading images as new content is added to the page.  You don't need any special configuration.  Just ensure that new images with `data-src` attributes are added to the DOM, and lazySizes will detect and load them as they enter the viewport.\n\n\n### Custom Implementations\n\nLazySizes' versatility allows for custom implementations tailored to specific needs.  By utilizing the API and event listeners, you can incorporate lazy loading into almost any image loading scenario.  For example, you can:\n\n* Create custom loading indicators using the `lazybeforeunveil` and `lazyloaded` events.\n* Implement error handling using the `lazyerror` event.\n* Integrate with JavaScript frameworks like React, Angular, or Vue.js.  LazySizes works well with these frameworks.  The images with data attributes can be rendered conditionally, and the library takes care of the rest.\n\nBy combining the core features of lazySizes with your custom code, you can create highly optimized and efficient image loading solutions for your projects.  Remember to consult the API reference for available methods and events.\n\n\n\n\n## Troubleshooting\n\nThis section covers common issues encountered when using lazySizes and provides solutions and debugging techniques.\n\n\n### Common Issues and Solutions\n\n* **Images not loading:**\n    * **Problem:** Images fail to load, even though `data-src` is correctly set.\n    * **Solutions:**\n        * Check the browser's developer console for JavaScript errors.\n        * Verify that the image paths in `data-src` are correct.\n        * Ensure that the `lazysizes.min.js` script is included correctly before the closing `</body>` tag.\n        * Check your network requests to ensure the images are being requested.  A failed request usually shows an error in the Network tab of your browser's developer tools.\n        * Inspect the HTML source to make sure the `data-src` attribute is present and not being overwritten by other JavaScript code.\n\n* **Placeholder images not showing:**\n    * **Problem:**  No placeholder image is displayed before the main image loads.\n    * **Solutions:**\n        * Ensure you are using the `src` attribute for a placeholder image, or that you have CSS placeholders in place.  If you're using a `src` attribute placeholder and the image isn't appearing, verify that the image exists at that URL.\n        * Ensure that the placeholder image is small and optimized for quick loading.  A larger placeholder will defeat the purpose of lazy loading.\n\n* **Performance issues:**\n    * **Problem:** Page load is slow or images load slowly, even with lazySizes.\n    * **Solutions:**  See \"Performance Optimization Tips\" below.\n\n* **Conflicts with other libraries:**\n    * **Problem:** LazySizes conflicts with other JavaScript libraries that modify the DOM.\n    * **Solutions:**\n        * Check the loading order of your scripts. LazySizes should ideally be loaded near the end of the `<body>`.\n        * Try using `lazySizes.init()` to control when lazySizes initializes.\n        * Investigate whether the other library directly modifies elements that lazySizes is working with.\n\n* **Images loading too early or too late:**\n    * **Problem:** Images load before they're visible or too far from the viewport.\n    * **Solutions:**\n        * Adjust the `expand` and `throttle` configuration options in `lazySizes.cfg`.  Experiment with different values to find the best settings for your use case.  Larger `expand` values load images sooner. Smaller `throttle` values check more frequently, but consume more CPU cycles.\n\n\n### Debugging Techniques\n\n* **Browser Developer Tools:** Use your browser's developer tools (usually opened with F12) to inspect network requests, debug JavaScript errors, and analyze page performance.  The Network tab is particularly helpful for identifying issues with image loading.\n* **Console Logging:** Add `console.log` statements to your code to track the execution flow and identify potential problems.  For example, you can log events triggered by lazySizes to verify that images are being processed as expected.\n* **Minimal Reproducible Example:** Create a simplified version of your code to isolate the issue if you have a complex implementation.  This helps in pinpointing the source of the problem.\n* **Check the lazySizes GitHub Issues:** Search the lazySizes GitHub repository for similar issues.  The community might have already found a solution to your problem.\n\n\n### Performance Optimization Tips\n\n* **Optimize Images:** Use image optimization tools to reduce file sizes without significant quality loss.\n* **Choose Efficient Formats:**  Use WebP where supported for superior compression.\n* **Use Placeholders:**  Employ low-resolution placeholder images to improve perceived performance.\n* **Adjust `expand` and `throttle`:** Fine-tune these configuration options for optimal balance between responsiveness and performance.\n* **Efficient HTML Structure:** Avoid overly complex or nested HTML structures.\n* **Minify and Combine Files:**  Reduce HTTP requests by combining and minifying your JavaScript and CSS files.\n\n\n### Browser Compatibility\n\nlazySizes generally supports most modern browsers.  However, for older browsers, you might need polyfills for certain features.  While `useNative` might seem attractive, generally keeping it `false` ensures cross-browser consistency with lazySizes' own, more robust handling.  Refer to the lazySizes documentation for the most current compatibility information.  Generally, if a browser supports modern JavaScript, it will support lazySizes.  Older browsers might require polyfills for some specific features but the core functionality will remain unaffected.\n\n\n\n\n## Contributing\n\nWe welcome contributions to lazySizes!  Whether you're fixing bugs, adding features, or improving documentation, your help is valuable.\n\n### Contributing to the Project\n\n1. **Fork the Repository:** Fork the official lazySizes repository on GitHub.\n\n2. **Create a Branch:** Create a new branch for your contribution.  Use descriptive branch names (e.g., `feature/add-new-feature`, `fix/bug-fix-123`).\n\n3. **Make Your Changes:** Make your code changes, following the code style guidelines (see below).\n\n4. **Test Your Changes:** Thoroughly test your changes to ensure they work correctly and don't introduce new bugs.  See the \"Testing and Development\" section below.\n\n5. **Commit Your Changes:** Commit your changes with clear and concise commit messages.\n\n6. **Push Your Branch:** Push your branch to your forked repository on GitHub.\n\n7. **Create a Pull Request:** Create a pull request on the official lazySizes repository, explaining your changes and their purpose.\n\n8. **Address Feedback:** Respond to any feedback from the maintainers and make necessary revisions.\n\n\n### Code Style Guidelines\n\nlazySizes follows a consistent coding style to maintain readability and maintainability.  Please adhere to these guidelines when contributing:\n\n* **Indentation:** Use 2 spaces for indentation.\n* **Line Length:** Keep lines under 80 characters.\n* **Naming Conventions:** Use descriptive variable and function names.  Follow camelCase for JavaScript variables and functions.\n* **Comments:** Write clear and concise comments to explain complex logic.\n* **Semicolons:** Use semicolons to terminate statements.\n\n\n### Testing and Development\n\nBefore contributing code, ensure that it works correctly and doesn't break existing functionality.  You can use the following steps to test your changes:\n\n1. **Run the Tests:** lazySizes uses a test suite.  The instructions for running the tests can be found in the project's `README.md` file or the repository's contributing guide.\n\n2. **Manual Testing:** Manually test your changes in a browser environment.  Try different scenarios and edge cases to ensure comprehensive coverage.\n\n3. **Browser Compatibility Testing:** Test your changes in different browsers to ensure compatibility.\n\n\n### Reporting Bugs and Issues\n\nIf you encounter a bug or have a feature request, please report it on the lazySizes GitHub issue tracker.  Provide as much information as possible, including:\n\n* **Browser and Version:**  Specify the browser and its version where the issue occurs.\n* **Operating System:**  Specify your operating system.\n* **Steps to Reproduce:** Describe the steps required to reproduce the bug.\n* **Expected Behavior:**  Explain the expected outcome.\n* **Actual Behavior:**  Explain what actually happened.\n* **Relevant Code Snippets:** If possible, provide relevant code snippets that demonstrate the issue.\n* **Screenshots or Videos:**  Screenshots or videos are helpful in visualizing the problem.\n\n\nBy following these guidelines, you can contribute effectively to lazySizes and help improve this valuable library for everyone.  Your contributions are greatly appreciated!\n\n","srcMarkdownNoYaml":"\n\n\n## Introduction\n\n### What is lazySizes?\n\nlazySizes is a high-performance, lightweight JavaScript library for lazy loading images.  It intelligently loads images only when they're near the viewport, significantly improving page load times and reducing bandwidth consumption. Unlike many other lazy loading solutions, lazySizes handles various image types (including `<picture>` and `<img srcset>`), responsive images, and offers advanced features like placeholder support and smooth transitions. It's designed to be easily integrated into existing projects and requires minimal configuration.\n\n### Why use lazySizes?\n\nUsing lazySizes offers several compelling advantages:\n\n* **Improved Performance:**  Significantly faster initial page load times by delaying the loading of off-screen images. This leads to better user experience and improved SEO rankings.\n* **Reduced Bandwidth Consumption:** Only necessary images are downloaded, saving bandwidth for both the user and the server.\n* **Enhanced User Experience:**  Provides a smoother scrolling experience without the lag caused by loading many images at once.\n* **Versatile and Flexible:** Supports various image formats, responsive images, and integrates seamlessly with existing projects.\n* **Lightweight and Efficient:**  The library itself is incredibly small, minimizing the impact on overall page size.\n* **Highly Configurable:**  Offers extensive configuration options to fine-tune its behavior to match specific project requirements.\n\n\n### Key Features and Benefits\n\n* **Lazy Loading of Images:**  Images are loaded only when they are about to become visible in the viewport.\n* **Support for `<img srcset>`:**  Handles responsive images seamlessly, selecting the appropriate image based on screen resolution.\n* **Support for `<picture>` element:**  Allows for advanced image selection based on various factors (e.g., device pixel ratio, media queries).\n* **Placeholder Support:**  Provides options for displaying placeholders until images are loaded, enhancing the user experience.\n* **Smooth Transitions:** Options for smooth image transitions after loading.\n* **Background Image Support:**  Handles lazy loading for background images.\n* **Customizable Configuration:**  Highly configurable to meet the needs of various projects.\n* **Lightweight and Efficient:**  Minimal impact on page size and performance.\n* **Extensible API:**  Allows for extending functionality through custom plugins and events.\n* **Good Browser Compatibility:** Supports a wide range of browsers.\n\n\n### Installation and Setup\n\nThere are several ways to install lazySizes:\n\n**1. Download and Include:**\n\nDownload the `lazysizes.min.js` file from the official lazySizes GitHub repository and include it in your HTML file.  Place the `<script>` tag before the closing `</body>` tag for optimal performance:\n\n```html\n<script src=\"lazysizes.min.js\" async></script>\n```\n\n**2. Using a CDN:**\n\nUse a CDN like jsDelivr for easy integration:\n\n```html\n<script src=\"https://cdn.jsdelivr.net/npm/lazysizes@5/lazysizes.min.js\" async></script>\n```\n\n**3. Using a Package Manager (npm):**\n\nIf you're using a package manager like npm, install lazySizes:\n\n```bash\nnpm install lazysizes\n```\n\nThen import it into your JavaScript code.  Note that you'll still need to include the necessary HTML attributes on your images (see below).\n\n**Adding lazySizes Attributes to Images:**\n\nOnce lazySizes is included, you need to add the `data-src` attribute to your `<img>` tags to specify the actual image URL:\n\n```html\n<img data-src=\"image.jpg\" alt=\"My Image\">\n```\n\nFor responsive images using `<img srcset>` or the `<picture>` element,  `data-src` and `data-srcset` attributes are used respectively.  lazySizes automatically handles these. For example:\n\n```html\n<img data-srcset=\"image-small.jpg 300w, image-large.jpg 800w\"\n     src=\"placeholder.jpg\" alt=\"My Image\">\n\n<picture>\n  <source data-srcset=\"image-small.webp 300w, image-large.webp 800w\" type=\"image/webp\">\n  <source data-srcset=\"image-small.jpg 300w, image-large.jpg 800w\" type=\"image/jpeg\">\n  <img data-src=\"image-default.jpg\" alt=\"My Image\">\n</picture>\n```\n\nRemember to replace `\"placeholder.jpg\"`, `\"image-small.jpg\"`, `\"image-large.jpg\"`, and `\"image-default.jpg\"` with your actual image paths.  Using a low-resolution placeholder image as the `src` attribute improves initial load times and user experience.\n\n\nThat completes the basic setup.  Further configuration options and advanced features are discussed in the subsequent sections of this manual.\n\n\n\n\n## Core Concepts\n\n### Understanding Lazy Loading\n\nLazy loading is a performance optimization technique that delays the loading of resources (in this case, images) until they are needed.  Instead of loading all images on page load, lazySizes only loads images that are visible or about to become visible within the browser's viewport. This significantly reduces the initial page load time and bandwidth consumption, leading to a better user experience and improved SEO.  lazySizes achieves this by monitoring the user's scrolling and loading images as they enter the viewport.  It intelligently handles various factors like image size, screen resolution, and network conditions to optimize the loading process.  The images' actual URLs are stored in data attributes, and lazySizes replaces these placeholders with the real images when appropriate.\n\n### The lazySizes API\n\nlazySizes provides a minimal but powerful API for interacting with its functionality. While generally not required for basic usage, the API allows advanced customization and integration. The primary method available is `lazySizes.cfg`,  allowing runtime configuration changes.\n\n**`lazySizes.cfg`:** This object allows modification of lazySizes' configuration after initialization.  Modifying this object after lazySizes has already processed the page will usually have an effect but it is best practice to modify this object *before* lazySizes loads. See the Configuration Options section for a detailed list of configurable properties.\n\n**Example:**  To change the `lazyClass` (the class applied to an image before loading), you can do:\n\n```javascript\nlazySizes.cfg.lazyClass = 'my-lazy-class';\n```\n\n**Note:**  Direct manipulation of the internal lazySizes objects is generally discouraged unless you're developing a plugin or extending the library's core functionality.  Always prefer using the provided API whenever possible.\n\n\n### Configuration Options\n\nlazySizes offers a wide range of configuration options, accessible through `lazySizes.cfg`.  These options allow fine-tuning the library's behavior to suit your project's specific needs.  Most options have default values that work well in most cases, but customizing them can lead to further performance improvements or tailored behavior. Here are some key configuration options:\n\n* **`lazyClass` (String, default: `lazyload`):** The class name added to elements before they're loaded.  You can use CSS to style elements with this class as placeholders.\n* **`loadedClass` (String, default: `lazyloaded`):** The class name added to elements after they've been successfully loaded.\n* **`errorClass` (String, default: `lazyerror`):** The class name added to elements if loading fails.\n* **`expand` (Number, default: 200):**  The number of pixels before an element enters the viewport that lazySizes starts loading the image.  A higher value starts loading earlier.\n* **`throttle` (Number, default: 250):** The time in milliseconds to wait before checking for new images in the viewport. A smaller value checks more frequently.\n* **`preload` (Number, default: 1):** The number of elements to preload beyond the viewport.\n* **`hFac` (Number, default: 0.5):** The horizontal factor used for calculating viewport boundaries. Values closer to 0 prioritize elements closer to the left side of the screen.\n* **`vFac` (Number, default: 0.5):**  The vertical factor used for calculating viewport boundaries. Values closer to 0 prioritize elements closer to the top of the screen.\n* **`thresholds` (Array, default: [250]):** This is a more advanced option. You can provide an array of values (in pixels) to dynamically change the lazy load threshold based on a hierarchy.\n* **`useNative` (Boolean, default: false):** If true, uses browser native lazy loading if available.  This should generally be left as false to ensure consistent cross-browser behavior with lazySizes.\n* **`nativeLoading` (Boolean, default: true):** If `useNative` is true, this controls whether to use browser native loading.\n\nFor a complete list and explanation of all configuration options, refer to the lazySizes documentation on GitHub.  It's best to experiment with different values to find what works best for your specific use case.\n\n\n### Event Handling\n\nlazySizes triggers several custom events throughout its lifecycle, allowing you to hook into specific stages of the lazy loading process. These events are dispatched on the image element itself.  You can listen for these events using JavaScript's `addEventListener` method.  Here are some key events:\n\n* **`lazybeforeunveil`:** Dispatched just before an image is about to be unveiled (loaded).  Useful for performing actions before the image load begins.\n* **`lazyunveil`:** Dispatched when an image is unveiled (its loading process starts).\n* **`lazyloaded`:** Dispatched after an image has successfully loaded.\n* **`lazyerror`:** Dispatched if an image fails to load.\n\n**Example:**  To add a console log message when an image is successfully loaded:\n\n```javascript\ndocument.addEventListener('lazyloaded', (event) => {\n  console.log('Image loaded:', event.target.src);\n});\n```\n\nBy listening to these events, you can implement custom behaviors, such as displaying loading indicators, handling errors gracefully, or triggering animations after image load.  The complete list of events and their details can be found in the official lazySizes documentation.\n\n\n\n\n## Advanced Configuration\n\n### Customizing Placeholder Images\n\nWhile lazySizes doesn't enforce the use of placeholder images, using them significantly enhances the user experience by providing immediate visual feedback.  You can customize placeholder images in several ways:\n\n* **Using `src` attribute:** The simplest method is to set a low-resolution or placeholder image as the `src` attribute of your `<img>` tag. This image will be displayed immediately, then replaced by the high-resolution image loaded by lazySizes.\n\n```html\n<img src=\"placeholder-small.jpg\" data-src=\"image-large.jpg\" alt=\"My Image\">\n```\n\n* **CSS Background Images:** You can use CSS to style the container element of your image, applying a background image as a placeholder. This requires setting the `display` to `block` on the `img` tag, and the container to `relative` so the image sits on top of the background.\n\n```html\n<div style=\"background-image: url('placeholder.jpg'); background-size: cover; width: 300px; height: 200px;\">\n  <img style=\"display:block;\" data-src=\"image.jpg\" alt=\"My Image\">\n</div>\n```\n\n* **JavaScript Placeholders:** For more dynamic placeholder control, you can use JavaScript to manipulate the placeholder before lazySizes loads the image.  You would likely need to listen for the `lazybeforeunveil` event.\n\nRemember to choose placeholder images that are small in file size to minimize initial page load time.\n\n\n### Working with Different Image Formats\n\nlazySizes seamlessly handles various image formats, including JPEG, PNG, WebP, GIF, and more.  It automatically detects the image format based on the file extension.  No special configuration is typically required.  However, for optimal performance, consider using optimized image formats like WebP, which often offer better compression than JPEG or PNG.\n\nUsing `<picture>` elements allows you to serve different image formats depending on browser capabilities:\n\n```html\n<picture>\n  <source data-srcset=\"image.webp\" type=\"image/webp\">\n  <source data-srcset=\"image.jpg\" type=\"image/jpeg\">\n  <img data-src=\"image.jpg\" alt=\"My Image\">\n</picture>\n```\n\n\n### Responsive Images with `srcset`\n\nlazySizes fully supports responsive images using the `<img srcset>` attribute.  It automatically selects the appropriate image based on the screen's resolution and pixel density. Simply provide different image sizes and their corresponding resolutions in the `data-srcset` attribute.\n\n```html\n<img data-srcset=\"image-small.jpg 300w, image-medium.jpg 600w, image-large.jpg 1200w\"\n     src=\"placeholder.jpg\" alt=\"My Image\">\n```\n\nThis tells lazySizes to choose the most appropriate image based on the screen's width.  The `w` descriptor indicates the image's width.  You can also use `x` for pixel density (e.g., `image-high.jpg 2x`).\n\n\n### Fine-tuning Performance\n\nBeyond the basic configuration options, several strategies can further optimize lazySizes' performance:\n\n* **Optimize Images:**  Compress images using tools like TinyPNG or ImageOptim to reduce their file sizes without significant quality loss.\n* **Use Efficient Image Formats:**  Prefer WebP when possible for better compression.\n* **Adjust `expand` and `throttle`:** Experiment with these configuration options to find the optimal balance between responsiveness and performance.  Higher `expand` values load images earlier, but increase resource consumption.  Lower `throttle` values check for new images more frequently, increasing CPU load.\n* **Placeholder Images:** As mentioned above, using small placeholder images significantly improves initial load times.\n* **Minimize JavaScript:** Keep your JavaScript code lean to avoid unnecessary overhead.\n* **Use Browser Caching:**  Configure your web server to enable browser caching for images to reduce redundant downloads.\n\n\n### Integration with Other Libraries\n\nlazySizes is designed to be compatible with most other JavaScript libraries.  However, potential conflicts can arise if other libraries manipulate the DOM in ways that affect the images lazySizes manages.  If you encounter issues, ensure that the libraries' initialization order is appropriate, or consider using techniques like event listeners to coordinate actions between lazySizes and other libraries.\n\n\n### Debugging and Troubleshooting\n\nIf you encounter problems with lazySizes, here are some debugging steps:\n\n* **Check the Console:**  Open your browser's developer console (usually by pressing F12) to check for any JavaScript errors.  lazySizes will generally log errors to the console.\n* **Inspect Network Requests:**  Use your browser's developer tools to examine network requests to ensure that images are being loaded correctly and efficiently.\n* **Verify Configuration:**  Double-check your `lazySizes.cfg` settings to ensure that they are correctly configured.\n* **Simplify your HTML:**  Create a minimal test case to isolate the problem if you have complex HTML.\n* **Consult the Documentation:** The official lazySizes documentation provides detailed information and troubleshooting tips.  The GitHub repository also contains a wealth of information and community support.\n\n\nRemember to always check the official lazySizes documentation for the most up-to-date information and best practices.\n\n\n\n\n## API Reference\n\nThe lazySizes API provides methods for interacting with and controlling the library's behavior beyond the basic configuration.  While most use cases can be handled with configuration alone, the API provides advanced control and integration capabilities.  Remember that directly manipulating lazySizes' internal objects is generally discouraged; use the provided API methods whenever possible.\n\n### `lazySizes.cfg`\n\nThis is the primary method for configuring lazySizes. It's an object containing various settings.  Modifying this object *before* lazySizes initializes is recommended for predictable behavior.  Changes made after initialization might have an effect but are not guaranteed to be fully applied.\n\n**Access:** `lazySizes.cfg`\n\n**Type:** Object\n\n**Example:** To change the `expand` setting to 300 pixels:\n\n```javascript\nlazySizes.cfg.expand = 300;\n```\n\nSee the \"Configuration Options\" section for a complete list of configurable properties within `lazySizes.cfg`.\n\n\n### `lazySizes.init()`\n\nManually initializes lazySizes.  Normally, lazySizes initializes automatically when the script is loaded.  This method is useful if you need to initialize lazySizes at a specific time or after modifying the DOM.\n\n**Access:** `lazySizes.init()`\n\n**Type:** Function\n\n**Returns:** `undefined`\n\n**Example:** To initialize lazySizes after dynamically adding images to the page:\n\n```javascript\n// ... add images to the DOM ...\nlazySizes.init();\n```\n\n\n### `lazySizes.autoInit`\n\nA boolean property that controls whether lazySizes initializes automatically.  Setting this to `false` prevents automatic initialization, requiring manual initialization with `lazySizes.init()`.\n\n**Access:** `lazySizes.autoInit`\n\n**Type:** Boolean\n\n**Example:** To disable auto-initialization:\n\n```javascript\nlazySizes.autoInit = false;\n```\n\n\n\n### `lazySizes.listenTo(target, eventName, callback)`\n\nAdds an event listener to a specific element or elements. This provides a way to listen for custom lazySizes events on elements other than the images themselves.\n\n**Access:** `lazySizes.listenTo(target, eventName, callback)`\n\n**Type:** Function\n\n**Parameters:**\n\n* `target`: The element or elements to listen to (can be a CSS selector string or a DOM element).\n* `eventName`: The name of the event to listen for (e.g., `lazyloaded`).\n* `callback`: The function to execute when the event is triggered.\n\n\n**Example:**  Listening for the `lazyloaded` event on all elements with the class `my-element`:\n\n```javascript\nlazySizes.listenTo('.my-element', 'lazyloaded', (e) => {\n  console.log('Image loaded:', e.target);\n});\n```\n\n\n### `lazySizes.unlistenTo(target, eventName, callback)`\n\nRemoves an event listener previously added with `lazySizes.listenTo`.\n\n**Access:** `lazySizes.unlistenTo(target, eventName, callback)`\n\n**Type:** Function\n\n**Parameters:**\n\n* `target`: The element or elements to remove the listener from.\n* `eventName`: The name of the event.\n* `callback`: The callback function (optional; if omitted, all callbacks for that event are removed).\n\n**Example:** Removing the previously added listener:\n\n```javascript\nlazySizes.unlistenTo('.my-element', 'lazyloaded');\n```\n\n\n### `lazySizes.on(eventName, callback)`\n\nAdds an event listener for a specific lazySizes event.  This is similar to `addEventListener` but specifically for lazySizes events.\n\n**Access:** `lazySizes.on(eventName, callback)`\n\n**Type:** Function\n\n**Parameters:**\n\n* `eventName`: The name of the lazySizes event.\n* `callback`: The function to execute when the event occurs.\n\n\n### `lazySizes.once(eventName, callback)`\n\nAdds an event listener that is executed only once for the specified event.\n\n**Access:** `lazySizes.once(eventName, callback)`\n\n**Type:** Function\n\n**Parameters:**\n\n* `eventName`: The name of the lazySizes event.\n* `callback`: The function to execute when the event occurs.\n\n\n### `lazySizes.off(eventName, callback)`\n\nRemoves an event listener added with `lazySizes.on` or `lazySizes.once`.\n\n**Access:** `lazySizes.off(eventName, callback)`\n\n**Type:** Function\n\n**Parameters:**\n\n* `eventName`: The name of the lazySizes event.\n* `callback`: The callback function (optional; if omitted, all callbacks for that event are removed).\n\n\n### `lazySizes.trigger(element, eventName, details)`\n\nManually triggers a lazySizes event on a specified element.  Useful for testing or creating custom interactions.\n\n**Access:** `lazySizes.trigger(element, eventName, details)`\n\n**Type:** Function\n\n**Parameters:**\n\n* `element`: The DOM element on which to trigger the event.\n* `eventName`: The name of the event to trigger.\n* `details`: An optional object containing additional event details.\n\n\n\n### `lazySizes.update(isForced)`\n\nForces lazySizes to recalculate the viewport and check for images to load.  Useful after significant changes to the DOM, such as adding or removing images dynamically.\n\n**Access:** `lazySizes.update(isForced)`\n\n**Type:** Function\n\n**Parameters:**\n\n* `isForced`: (Optional, Boolean) If `true`, forces an immediate update even if the `throttle` setting is in effect.  Defaults to `false`.\n\n\nThis API provides powerful tools for controlling and extending lazySizes functionality beyond its default behavior.  Remember to consult the official lazySizes documentation for the most up-to-date information and examples.\n\n\n\n\n## Examples and Use Cases\n\nThis section demonstrates various ways to integrate lazySizes into your projects, showcasing its versatility and power.\n\n### Basic Implementation\n\nThe most basic implementation involves adding the `data-src` attribute to your `<img>` tags.  This attribute holds the actual image URL, while a low-resolution placeholder (or no `src` attribute at all) is used for immediate display.  LazySizes handles the rest.\n\n```html\n<!DOCTYPE html>\n<html>\n<head>\n<title>lazySizes Example</title>\n<script src=\"https://cdn.jsdelivr.net/npm/lazysizes@5/lazysizes.min.js\" async></script>\n</head>\n<body>\n\n<img data-src=\"image1.jpg\" alt=\"Image 1\">\n<img data-src=\"image2.jpg\" alt=\"Image 2\">\n<img data-src=\"image3.jpg\" alt=\"Image 3\">\n\n</body>\n</html>\n```\n\nRemember to replace `\"image1.jpg\"`, `\"image2.jpg\"`, and `\"image3.jpg\"` with the actual paths to your images.  Ensure that `lazysizes.min.js` is included before the closing `</body>` tag.\n\n\n### Image Galleries\n\nLazySizes works seamlessly with image galleries.  Simply apply the `data-src` attribute to each image within your gallery structure.  This is particularly beneficial for large galleries, as it drastically reduces the initial load time.\n\n```html\n<div class=\"gallery\">\n  <img data-src=\"gallery-image1.jpg\" alt=\"Gallery Image 1\">\n  <img data-src=\"gallery-image2.jpg\" alt=\"Gallery Image 2\">\n  <img data-src=\"gallery-image3.jpg\" alt=\"Gallery Image 3\">\n  <!-- ... more gallery images ... -->\n</div>\n```\n\n\n### Background Images\n\nLazySizes also supports lazy loading for background images.  Use the `data-bg` attribute instead of `data-src`.  This attribute should contain the URL of the background image.\n\n```html\n<div style=\"width: 300px; height: 200px;\" data-bg=\"background-image.jpg\"></div>\n```\n\nThis will load the background image only when the `<div>` element is within the viewport.\n\n**Note:**  Ensure the container has defined `width` and `height` for the background image to display correctly.\n\n\n### Responsive Layouts\n\nLazySizes integrates seamlessly with responsive design techniques like `srcset` and the `<picture>` element.  It automatically selects the appropriate image based on the user's device and screen size.\n\n```html\n<img data-srcset=\"small.jpg 300w, medium.jpg 600w, large.jpg 1200w\" alt=\"Responsive Image\">\n```\n\nor using `<picture>`:\n\n```html\n<picture>\n  <source data-srcset=\"image-small.webp 300w, image-large.webp 800w\" type=\"image/webp\">\n  <source data-srcset=\"image-small.jpg 300w, image-large.jpg 800w\" type=\"image/jpeg\">\n  <img data-src=\"image-default.jpg\" alt=\"My Image\">\n</picture>\n```\n\n\n### Infinite Scrolling\n\nFor infinite scrolling implementations, lazySizes automatically handles loading images as new content is added to the page.  You don't need any special configuration.  Just ensure that new images with `data-src` attributes are added to the DOM, and lazySizes will detect and load them as they enter the viewport.\n\n\n### Custom Implementations\n\nLazySizes' versatility allows for custom implementations tailored to specific needs.  By utilizing the API and event listeners, you can incorporate lazy loading into almost any image loading scenario.  For example, you can:\n\n* Create custom loading indicators using the `lazybeforeunveil` and `lazyloaded` events.\n* Implement error handling using the `lazyerror` event.\n* Integrate with JavaScript frameworks like React, Angular, or Vue.js.  LazySizes works well with these frameworks.  The images with data attributes can be rendered conditionally, and the library takes care of the rest.\n\nBy combining the core features of lazySizes with your custom code, you can create highly optimized and efficient image loading solutions for your projects.  Remember to consult the API reference for available methods and events.\n\n\n\n\n## Troubleshooting\n\nThis section covers common issues encountered when using lazySizes and provides solutions and debugging techniques.\n\n\n### Common Issues and Solutions\n\n* **Images not loading:**\n    * **Problem:** Images fail to load, even though `data-src` is correctly set.\n    * **Solutions:**\n        * Check the browser's developer console for JavaScript errors.\n        * Verify that the image paths in `data-src` are correct.\n        * Ensure that the `lazysizes.min.js` script is included correctly before the closing `</body>` tag.\n        * Check your network requests to ensure the images are being requested.  A failed request usually shows an error in the Network tab of your browser's developer tools.\n        * Inspect the HTML source to make sure the `data-src` attribute is present and not being overwritten by other JavaScript code.\n\n* **Placeholder images not showing:**\n    * **Problem:**  No placeholder image is displayed before the main image loads.\n    * **Solutions:**\n        * Ensure you are using the `src` attribute for a placeholder image, or that you have CSS placeholders in place.  If you're using a `src` attribute placeholder and the image isn't appearing, verify that the image exists at that URL.\n        * Ensure that the placeholder image is small and optimized for quick loading.  A larger placeholder will defeat the purpose of lazy loading.\n\n* **Performance issues:**\n    * **Problem:** Page load is slow or images load slowly, even with lazySizes.\n    * **Solutions:**  See \"Performance Optimization Tips\" below.\n\n* **Conflicts with other libraries:**\n    * **Problem:** LazySizes conflicts with other JavaScript libraries that modify the DOM.\n    * **Solutions:**\n        * Check the loading order of your scripts. LazySizes should ideally be loaded near the end of the `<body>`.\n        * Try using `lazySizes.init()` to control when lazySizes initializes.\n        * Investigate whether the other library directly modifies elements that lazySizes is working with.\n\n* **Images loading too early or too late:**\n    * **Problem:** Images load before they're visible or too far from the viewport.\n    * **Solutions:**\n        * Adjust the `expand` and `throttle` configuration options in `lazySizes.cfg`.  Experiment with different values to find the best settings for your use case.  Larger `expand` values load images sooner. Smaller `throttle` values check more frequently, but consume more CPU cycles.\n\n\n### Debugging Techniques\n\n* **Browser Developer Tools:** Use your browser's developer tools (usually opened with F12) to inspect network requests, debug JavaScript errors, and analyze page performance.  The Network tab is particularly helpful for identifying issues with image loading.\n* **Console Logging:** Add `console.log` statements to your code to track the execution flow and identify potential problems.  For example, you can log events triggered by lazySizes to verify that images are being processed as expected.\n* **Minimal Reproducible Example:** Create a simplified version of your code to isolate the issue if you have a complex implementation.  This helps in pinpointing the source of the problem.\n* **Check the lazySizes GitHub Issues:** Search the lazySizes GitHub repository for similar issues.  The community might have already found a solution to your problem.\n\n\n### Performance Optimization Tips\n\n* **Optimize Images:** Use image optimization tools to reduce file sizes without significant quality loss.\n* **Choose Efficient Formats:**  Use WebP where supported for superior compression.\n* **Use Placeholders:**  Employ low-resolution placeholder images to improve perceived performance.\n* **Adjust `expand` and `throttle`:** Fine-tune these configuration options for optimal balance between responsiveness and performance.\n* **Efficient HTML Structure:** Avoid overly complex or nested HTML structures.\n* **Minify and Combine Files:**  Reduce HTTP requests by combining and minifying your JavaScript and CSS files.\n\n\n### Browser Compatibility\n\nlazySizes generally supports most modern browsers.  However, for older browsers, you might need polyfills for certain features.  While `useNative` might seem attractive, generally keeping it `false` ensures cross-browser consistency with lazySizes' own, more robust handling.  Refer to the lazySizes documentation for the most current compatibility information.  Generally, if a browser supports modern JavaScript, it will support lazySizes.  Older browsers might require polyfills for some specific features but the core functionality will remain unaffected.\n\n\n\n\n## Contributing\n\nWe welcome contributions to lazySizes!  Whether you're fixing bugs, adding features, or improving documentation, your help is valuable.\n\n### Contributing to the Project\n\n1. **Fork the Repository:** Fork the official lazySizes repository on GitHub.\n\n2. **Create a Branch:** Create a new branch for your contribution.  Use descriptive branch names (e.g., `feature/add-new-feature`, `fix/bug-fix-123`).\n\n3. **Make Your Changes:** Make your code changes, following the code style guidelines (see below).\n\n4. **Test Your Changes:** Thoroughly test your changes to ensure they work correctly and don't introduce new bugs.  See the \"Testing and Development\" section below.\n\n5. **Commit Your Changes:** Commit your changes with clear and concise commit messages.\n\n6. **Push Your Branch:** Push your branch to your forked repository on GitHub.\n\n7. **Create a Pull Request:** Create a pull request on the official lazySizes repository, explaining your changes and their purpose.\n\n8. **Address Feedback:** Respond to any feedback from the maintainers and make necessary revisions.\n\n\n### Code Style Guidelines\n\nlazySizes follows a consistent coding style to maintain readability and maintainability.  Please adhere to these guidelines when contributing:\n\n* **Indentation:** Use 2 spaces for indentation.\n* **Line Length:** Keep lines under 80 characters.\n* **Naming Conventions:** Use descriptive variable and function names.  Follow camelCase for JavaScript variables and functions.\n* **Comments:** Write clear and concise comments to explain complex logic.\n* **Semicolons:** Use semicolons to terminate statements.\n\n\n### Testing and Development\n\nBefore contributing code, ensure that it works correctly and doesn't break existing functionality.  You can use the following steps to test your changes:\n\n1. **Run the Tests:** lazySizes uses a test suite.  The instructions for running the tests can be found in the project's `README.md` file or the repository's contributing guide.\n\n2. **Manual Testing:** Manually test your changes in a browser environment.  Try different scenarios and edge cases to ensure comprehensive coverage.\n\n3. **Browser Compatibility Testing:** Test your changes in different browsers to ensure compatibility.\n\n\n### Reporting Bugs and Issues\n\nIf you encounter a bug or have a feature request, please report it on the lazySizes GitHub issue tracker.  Provide as much information as possible, including:\n\n* **Browser and Version:**  Specify the browser and its version where the issue occurs.\n* **Operating System:**  Specify your operating system.\n* **Steps to Reproduce:** Describe the steps required to reproduce the bug.\n* **Expected Behavior:**  Explain the expected outcome.\n* **Actual Behavior:**  Explain what actually happened.\n* **Relevant Code Snippets:** If possible, provide relevant code snippets that demonstrate the issue.\n* **Screenshots or Videos:**  Screenshots or videos are helpful in visualizing the problem.\n\n\nBy following these guidelines, you can contribute effectively to lazySizes and help improve this valuable library for everyone.  Your contributions are greatly appreciated!\n\n"},"formats":{"html":{"identifier":{"display-name":"HTML","target-format":"html","base-format":"html"},"execute":{"fig-width":7,"fig-height":5,"fig-format":"retina","fig-dpi":96,"df-print":"default","error":false,"eval":true,"cache":null,"freeze":true,"echo":true,"output":true,"warning":true,"include":true,"keep-md":false,"keep-ipynb":false,"ipynb":null,"enabled":null,"daemon":null,"daemon-restart":false,"debug":false,"ipynb-filters":[],"ipynb-shell-interactivity":null,"plotly-connected":true,"engine":"markdown"},"render":{"keep-tex":false,"keep-typ":false,"keep-source":false,"keep-hidden":false,"prefer-html":false,"output-divs":true,"output-ext":"html","fig-align":"default","fig-pos":null,"fig-env":null,"code-fold":"none","code-overflow":"scroll","code-link":false,"code-line-numbers":false,"code-tools":false,"tbl-colwidths":"auto","merge-includes":true,"inline-includes":false,"preserve-yaml":false,"latex-auto-mk":true,"latex-auto-install":true,"latex-clean":true,"latex-min-runs":1,"latex-max-runs":10,"latex-makeindex":"makeindex","latex-makeindex-opts":[],"latex-tlmgr-opts":[],"latex-input-paths":[],"latex-output-dir":null,"link-external-icon":false,"link-external-newwindow":false,"self-contained-math":false,"format-resources":[],"notebook-links":true},"pandoc":{"standalone":true,"wrap":"none","default-image-extension":"png","to":"html","toc":true,"css":["../../styles.css"],"html-math-method":{"method":"mathjax","url":"https://cdn.jsdelivr.net/npm/mathjax@3/es5/tex-mml-chtml.js"},"include-in-header":["../../favicon.html","../../header.html"],"include-after-body":[{"text":"<script async src=\"https://pagead2.googlesyndication.com/pagead/js/adsbygoogle.js?client=ca-pub-3609399560636561\" crossorigin=\"anonymous\"></script>\n"},"../../footer.html"],"output-file":"lazysizes.html"},"language":{"toc-title-document":"Table of contents","toc-title-website":"On this page","related-formats-title":"Other Formats","related-notebooks-title":"Notebooks","source-notebooks-prefix":"Source","other-links-title":"Other Links","code-links-title":"Code Links","launch-dev-container-title":"Launch Dev Container","launch-binder-title":"Launch Binder","article-notebook-label":"Article Notebook","notebook-preview-download":"Download Notebook","notebook-preview-download-src":"Download Source","notebook-preview-back":"Back to Article","manuscript-meca-bundle":"MECA Bundle","section-title-abstract":"Abstract","section-title-appendices":"Appendices","section-title-footnotes":"Footnotes","section-title-references":"References","section-title-reuse":"Reuse","section-title-copyright":"Copyright","section-title-citation":"Citation","appendix-attribution-cite-as":"For attribution, please cite this work as:","appendix-attribution-bibtex":"BibTeX citation:","appendix-view-license":"View License","title-block-author-single":"Author","title-block-author-plural":"Authors","title-block-affiliation-single":"Affiliation","title-block-affiliation-plural":"Affiliations","title-block-published":"Published","title-block-modified":"Modified","title-block-keywords":"Keywords","callout-tip-title":"Tip","callout-note-title":"Note","callout-warning-title":"Warning","callout-important-title":"Important","callout-caution-title":"Caution","code-summary":"Code","code-tools-menu-caption":"Code","code-tools-show-all-code":"Show All Code","code-tools-hide-all-code":"Hide All Code","code-tools-view-source":"View Source","code-tools-source-code":"Source Code","tools-share":"Share","tools-download":"Download","code-line":"Line","code-lines":"Lines","copy-button-tooltip":"Copy to Clipboard","copy-button-tooltip-success":"Copied!","repo-action-links-edit":"Edit this page","repo-action-links-source":"View source","repo-action-links-issue":"Report an issue","back-to-top":"Back to top","search-no-results-text":"No results","search-matching-documents-text":"matching documents","search-copy-link-title":"Copy link to search","search-hide-matches-text":"Hide additional matches","search-more-match-text":"more match in this document","search-more-matches-text":"more matches in this document","search-clear-button-title":"Clear","search-text-placeholder":"","search-detached-cancel-button-title":"Cancel","search-submit-button-title":"Submit","search-label":"Search","toggle-section":"Toggle section","toggle-sidebar":"Toggle sidebar navigation","toggle-dark-mode":"Toggle dark mode","toggle-reader-mode":"Toggle reader mode","toggle-navigation":"Toggle navigation","crossref-fig-title":"Figure","crossref-tbl-title":"Table","crossref-lst-title":"Listing","crossref-thm-title":"Theorem","crossref-lem-title":"Lemma","crossref-cor-title":"Corollary","crossref-prp-title":"Proposition","crossref-cnj-title":"Conjecture","crossref-def-title":"Definition","crossref-exm-title":"Example","crossref-exr-title":"Exercise","crossref-ch-prefix":"Chapter","crossref-apx-prefix":"Appendix","crossref-sec-prefix":"Section","crossref-eq-prefix":"Equation","crossref-lof-title":"List of Figures","crossref-lot-title":"List of Tables","crossref-lol-title":"List of Listings","environment-proof-title":"Proof","environment-remark-title":"Remark","environment-solution-title":"Solution","listing-page-order-by":"Order By","listing-page-order-by-default":"Default","listing-page-order-by-date-asc":"Oldest","listing-page-order-by-date-desc":"Newest","listing-page-order-by-number-desc":"High to Low","listing-page-order-by-number-asc":"Low to High","listing-page-field-date":"Date","listing-page-field-title":"Title","listing-page-field-description":"Description","listing-page-field-author":"Author","listing-page-field-filename":"File Name","listing-page-field-filemodified":"Modified","listing-page-field-subtitle":"Subtitle","listing-page-field-readingtime":"Reading Time","listing-page-field-wordcount":"Word Count","listing-page-field-categories":"Categories","listing-page-minutes-compact":"{0} min","listing-page-category-all":"All","listing-page-no-matches":"No matching items","listing-page-words":"{0} words","listing-page-filter":"Filter","draft":"Draft"},"metadata":{"lang":"en","fig-responsive":false,"quarto-version":"1.6.39","theme":"pandoc","mermaid":{"theme":"neutral"},"minimal":true,"title-block-banner":true,"page-navigation":true,"license":"MIT","author-meta":"Muthukrishnan","title":"lazySizes - Documentation","categories":["JavaScript Libraries and Functions"]},"extensions":{"book":{"multiFile":true}}}},"projectFormats":["html"]}