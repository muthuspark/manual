<!DOCTYPE html>
<html xmlns="http://www.w3.org/1999/xhtml" lang="en" xml:lang="en"><head>

<meta charset="utf-8">
<meta name="generator" content="quarto-1.6.39">

<meta name="viewport" content="width=device-width, initial-scale=1.0, user-scalable=yes">


<title>At.js - A Developer’s Handbook – Technical Manuals</title>
<style>
html {
  color: #1a1a1a;
  background-color: #fdfdfd;
}
body {
  margin: 0 auto;
  max-width: 36em;
  padding-left: 50px;
  padding-right: 50px;
  padding-top: 50px;
  padding-bottom: 50px;
  hyphens: auto;
  overflow-wrap: break-word;
  text-rendering: optimizeLegibility;
  font-kerning: normal;
}
@media (max-width: 600px) {
  body {
    font-size: 0.9em;
    padding: 12px;
  }
  h1 {
    font-size: 1.8em;
  }
}
@media print {
  html {
    background-color: white;
  }
  body {
    background-color: transparent;
    color: black;
    font-size: 12pt;
  }
  p, h2, h3 {
    orphans: 3;
    widows: 3;
  }
  h2, h3, h4 {
    page-break-after: avoid;
  }
}
p {
  margin: 1em 0;
}
a {
  color: #1a1a1a;
}
a:visited {
  color: #1a1a1a;
}
img {
  max-width: 100%;
}
svg {
  height; auto;
  max-width: 100%;
}
h1, h2, h3, h4, h5, h6 {
  margin-top: 1.4em;
}
h5, h6 {
  font-size: 1em;
  font-style: italic;
}
h6 {
  font-weight: normal;
}
ol, ul {
  padding-left: 1.7em;
  margin-top: 1em;
}
li > ol, li > ul {
  margin-top: 0;
}
ul > li:not(:has(> p)) > ul,
ol > li:not(:has(> p)) > ul,
ul > li:not(:has(> p)) > ol,
ol > li:not(:has(> p)) > ol {
  margin-bottom: 0;
}
ul > li:not(:has(> p)) > ul > li:has(> p),
ol > li:not(:has(> p)) > ul > li:has(> p),
ul > li:not(:has(> p)) > ol > li:has(> p),
ol > li:not(:has(> p)) > ol > li:has(> p) {
  margin-top: 1rem;
}
blockquote {
  margin: 1em 0 1em 1.7em;
  padding-left: 1em;
  border-left: 2px solid #e6e6e6;
  color: #606060;
}
code {
  font-family: Menlo, Monaco, Consolas, 'Lucida Console', monospace;
  font-size: 85%;
  margin: 0;
  hyphens: manual;
}
pre {
  margin: 1em 0;
  overflow: auto;
}
pre code {
  padding: 0;
  overflow: visible;
  overflow-wrap: normal;
}
.sourceCode {
 background-color: transparent;
 overflow: visible;
}
hr {
  background-color: #1a1a1a;
  border: none;
  height: 1px;
  margin: 1em 0;
}
table {
  margin: 1em 0;
  border-collapse: collapse;
  width: 100%;
  overflow-x: auto;
  display: block;
  font-variant-numeric: lining-nums tabular-nums;
}
table caption {
  margin-bottom: 0.75em;
}
tbody {
  margin-top: 0.5em;
  border-top: 1px solid #1a1a1a;
  border-bottom: 1px solid #1a1a1a;
}
th {
  border-top: 1px solid #1a1a1a;
  padding: 0.25em 0.5em 0.25em 0.5em;
}
td {
  padding: 0.125em 0.5em 0.25em 0.5em;
}
header {
  margin-bottom: 4em;
  text-align: center;
}
#TOC li {
  list-style: none;
}
#TOC ul {
  padding-left: 1.3em;
}
#TOC > ul {
  padding-left: 0;
}
#TOC a:not(:hover) {
  text-decoration: none;
}
code{white-space: pre-wrap;}
span.smallcaps{font-variant: small-caps;}
div.columns{display: flex; gap: min(4vw, 1.5em);}
div.column{flex: auto; overflow-x: auto;}
div.hanging-indent{margin-left: 1.5em; text-indent: -1.5em;}
ul.task-list{list-style: none;}
ul.task-list li input[type="checkbox"] {
  width: 0.8em;
  margin: 0 0.8em 0.2em -1em; /* quarto-specific, see https://github.com/quarto-dev/quarto-cli/issues/4556 */ 
  vertical-align: middle;
}
.display.math{display: block; text-align: center; margin: 0.5rem auto;}
/* CSS for syntax highlighting */
pre > code.sourceCode { white-space: pre; position: relative; }
pre > code.sourceCode > span { line-height: 1.25; }
pre > code.sourceCode > span:empty { height: 1.2em; }
.sourceCode { overflow: visible; }
code.sourceCode > span { color: inherit; text-decoration: inherit; }
div.sourceCode { margin: 1em 0; }
pre.sourceCode { margin: 0; }
@media screen {
div.sourceCode { overflow: auto; }
}
@media print {
pre > code.sourceCode { white-space: pre-wrap; }
pre > code.sourceCode > span { display: inline-block; text-indent: -5em; padding-left: 5em; }
}
pre.numberSource code
  { counter-reset: source-line 0; }
pre.numberSource code > span
  { position: relative; left: -4em; counter-increment: source-line; }
pre.numberSource code > span > a:first-child::before
  { content: counter(source-line);
    position: relative; left: -1em; text-align: right; vertical-align: baseline;
    border: none; display: inline-block;
    -webkit-touch-callout: none; -webkit-user-select: none;
    -khtml-user-select: none; -moz-user-select: none;
    -ms-user-select: none; user-select: none;
    padding: 0 4px; width: 4em;
  }
pre.numberSource { margin-left: 3em;  padding-left: 4px; }
div.sourceCode
  {   }
@media screen {
pre > code.sourceCode > span > a:first-child::before { text-decoration: underline; }
}
</style>


<link href="../../favicon.ico" rel="icon">
<script async="" src="https://www.googletagmanager.com/gtag/js?id=G-K8N81FG076"></script>

<script type="text/javascript">

window.dataLayer = window.dataLayer || [];
function gtag(){dataLayer.push(arguments);}
gtag('js', new Date());
gtag('config', 'G-K8N81FG076', { 'anonymize_ip': true});
</script>
<link rel="icon" type="image/x-icon" href="../../favicon.ico">
<link rel="icon" type="image/png" sizes="32x32" href="../../favicon-32x32.png">
<link rel="apple-touch-icon" sizes="180x180" href="../../apple-touch-icon.png">
<meta property="og:title" content="At.js - A Developer’s Handbook – Technical Manuals">
<meta property="og:site_name" content="Technical Manuals">
</head><body><div class="navigation-header">
    <nav>
        <div>
            <div class="logo">
                <a href="../../" aria-label="Home">
                    <span>Technical Manuals - Home</span>
                </a>
            </div>
            <div class="nav-menu">
                <ul>
                    <li>
                        <a href="../../about.html">
                            <span class="menu-text">About</span>
                        </a>
                    </li>
                    <li> 
                        <a href="https://github.com/muthuspark" target="_blank">
                            <span class="menu-text">Github</span>
                        </a>
                    </li>
                    <li>
                        <a href="https://linkedin.com/in/krimuthu" target="_blank">
                            <span class="menu-text">Linkedin</span>
                        </a>
                    </li>
                </ul>
            </div>
        </div>
    </nav>
</div>


<link rel="stylesheet" href="../../styles.css">





<header id="title-block-header">
<h1 class="title">At.js - A Developer’s Handbook</h1>

</header>


<h2 id="introduction-to-at.js">Introduction to At.js</h2>
<h3 id="what-is-at.js">What is At.js?</h3>
<p>At.js is a lightweight JavaScript library designed to simplify the implementation of “@” mentions (or “at” mentions) in text input fields. It provides a seamless and efficient way to detect, suggest, and insert user mentions, enhancing the user experience in applications requiring tagging or referencing capabilities, such as social media platforms, collaborative tools, and comment sections. At.js handles the complexities of user input, suggestion display, and data management, allowing developers to focus on the core functionality of their application.</p>
<h3 id="key-features-and-benefits">Key Features and Benefits</h3>
<ul>
<li><strong>Lightweight and efficient:</strong> At.js is designed to minimize its impact on page load times and overall application performance.</li>
<li><strong>Easy to integrate:</strong> The library boasts a simple and intuitive API, making integration into existing projects straightforward.</li>
<li><strong>Customizable suggestions:</strong> Developers can easily customize the appearance and behavior of the suggestion list to match their application’s design.</li>
<li><strong>Flexible data sources:</strong> At.js supports various data sources for user information, including local arrays, remote APIs, and more.</li>
<li><strong>Keyboard navigation:</strong> Users can navigate the suggestion list using the keyboard for ease of use.</li>
<li><strong>Advanced features:</strong> At.js offers features like pre-populated mentions and asynchronous data fetching for enhanced functionality.</li>
</ul>
<h3 id="installation-and-setup">Installation and Setup</h3>
<p>At.js can be installed using npm or yarn:</p>
<div class="sourceCode" id="cb1"><pre class="sourceCode bash"><code class="sourceCode bash"><span id="cb1-1"><a href="#cb1-1" aria-hidden="true" tabindex="-1"></a><span class="ex">npm</span> install at.js</span>
<span id="cb1-2"><a href="#cb1-2" aria-hidden="true" tabindex="-1"></a><span class="co"># or</span></span>
<span id="cb1-3"><a href="#cb1-3" aria-hidden="true" tabindex="-1"></a><span class="ex">yarn</span> add at.js</span></code></pre></div>
<p>Include the library in your HTML file:</p>
<div class="sourceCode" id="cb2"><pre class="sourceCode html"><code class="sourceCode html"><span id="cb2-1"><a href="#cb2-1" aria-hidden="true" tabindex="-1"></a><span class="dt">&lt;</span><span class="kw">script</span><span class="ot"> src</span><span class="op">=</span><span class="st">"path/to/at.js/dist/at.js"</span><span class="dt">&gt;&lt;/</span><span class="kw">script</span><span class="dt">&gt;</span></span></code></pre></div>
<p>Alternatively, you can use a CDN link (check the At.js repository for the latest CDN link).</p>
<h3 id="basic-usage-example">Basic Usage Example</h3>
<p>This example demonstrates the basic usage of At.js with a sample data source:</p>
<div class="sourceCode" id="cb3"><pre class="sourceCode html"><code class="sourceCode html"><span id="cb3-1"><a href="#cb3-1" aria-hidden="true" tabindex="-1"></a><span class="dt">&lt;!DOCTYPE</span> html<span class="dt">&gt;</span></span>
<span id="cb3-2"><a href="#cb3-2" aria-hidden="true" tabindex="-1"></a><span class="dt">&lt;</span><span class="kw">html</span><span class="dt">&gt;</span></span>
<span id="cb3-3"><a href="#cb3-3" aria-hidden="true" tabindex="-1"></a><span class="dt">&lt;</span><span class="kw">head</span><span class="dt">&gt;</span></span>
<span id="cb3-4"><a href="#cb3-4" aria-hidden="true" tabindex="-1"></a>  <span class="dt">&lt;</span><span class="kw">title</span><span class="dt">&gt;</span>At.js Example<span class="dt">&lt;/</span><span class="kw">title</span><span class="dt">&gt;</span></span>
<span id="cb3-5"><a href="#cb3-5" aria-hidden="true" tabindex="-1"></a>  <span class="dt">&lt;</span><span class="kw">script</span><span class="ot"> src</span><span class="op">=</span><span class="st">"path/to/at.js/dist/at.js"</span><span class="dt">&gt;&lt;/</span><span class="kw">script</span><span class="dt">&gt;</span> <span class="dt">&lt;/</span><span class="kw">head</span><span class="dt">&gt;</span></span>
<span id="cb3-6"><a href="#cb3-6" aria-hidden="true" tabindex="-1"></a><span class="dt">&lt;</span><span class="kw">body</span><span class="dt">&gt;</span></span>
<span id="cb3-7"><a href="#cb3-7" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb3-8"><a href="#cb3-8" aria-hidden="true" tabindex="-1"></a><span class="dt">&lt;</span><span class="kw">textarea</span><span class="ot"> id</span><span class="op">=</span><span class="st">"myTextarea"</span><span class="dt">&gt;&lt;/</span><span class="kw">textarea</span><span class="dt">&gt;</span></span>
<span id="cb3-9"><a href="#cb3-9" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb3-10"><a href="#cb3-10" aria-hidden="true" tabindex="-1"></a><span class="dt">&lt;</span><span class="kw">script</span><span class="dt">&gt;</span></span>
<span id="cb3-11"><a href="#cb3-11" aria-hidden="true" tabindex="-1"></a>  <span class="kw">const</span> at <span class="op">=</span> <span class="kw">new</span> <span class="fu">At</span>({</span>
<span id="cb3-12"><a href="#cb3-12" aria-hidden="true" tabindex="-1"></a>    <span class="dt">element</span><span class="op">:</span> <span class="bu">document</span><span class="op">.</span><span class="fu">getElementById</span>(<span class="st">'myTextarea'</span>)<span class="op">,</span></span>
<span id="cb3-13"><a href="#cb3-13" aria-hidden="true" tabindex="-1"></a>    <span class="dt">data</span><span class="op">:</span> [</span>
<span id="cb3-14"><a href="#cb3-14" aria-hidden="true" tabindex="-1"></a>      { <span class="dt">id</span><span class="op">:</span> <span class="dv">1</span><span class="op">,</span> <span class="dt">name</span><span class="op">:</span> <span class="st">'John Doe'</span><span class="op">,</span> <span class="dt">username</span><span class="op">:</span> <span class="st">'johndoe'</span> }<span class="op">,</span></span>
<span id="cb3-15"><a href="#cb3-15" aria-hidden="true" tabindex="-1"></a>      { <span class="dt">id</span><span class="op">:</span> <span class="dv">2</span><span class="op">,</span> <span class="dt">name</span><span class="op">:</span> <span class="st">'Jane Smith'</span><span class="op">,</span> <span class="dt">username</span><span class="op">:</span> <span class="st">'janesmith'</span> }<span class="op">,</span></span>
<span id="cb3-16"><a href="#cb3-16" aria-hidden="true" tabindex="-1"></a>    ]<span class="op">,</span></span>
<span id="cb3-17"><a href="#cb3-17" aria-hidden="true" tabindex="-1"></a>    <span class="co">//Further Customization (Optional):</span></span>
<span id="cb3-18"><a href="#cb3-18" aria-hidden="true" tabindex="-1"></a>    <span class="dt">tpl</span><span class="op">:</span> (item) <span class="kw">=&gt;</span> <span class="vs">`&lt;span class="mention"&gt;</span><span class="sc">${</span>item<span class="op">.</span><span class="at">username</span><span class="sc">}</span><span class="vs">&lt;/span&gt;`</span><span class="op">,</span> <span class="co">//Custom template</span></span>
<span id="cb3-19"><a href="#cb3-19" aria-hidden="true" tabindex="-1"></a>    <span class="dt">callbacks</span><span class="op">:</span> {</span>
<span id="cb3-20"><a href="#cb3-20" aria-hidden="true" tabindex="-1"></a>      <span class="dt">mentionChosen</span><span class="op">:</span> (mention) <span class="kw">=&gt;</span> {</span>
<span id="cb3-21"><a href="#cb3-21" aria-hidden="true" tabindex="-1"></a>        <span class="bu">console</span><span class="op">.</span><span class="fu">log</span>(<span class="st">'Mention chosen:'</span><span class="op">,</span> mention)<span class="op">;</span></span>
<span id="cb3-22"><a href="#cb3-22" aria-hidden="true" tabindex="-1"></a>      }<span class="op">,</span></span>
<span id="cb3-23"><a href="#cb3-23" aria-hidden="true" tabindex="-1"></a>    }<span class="op">,</span></span>
<span id="cb3-24"><a href="#cb3-24" aria-hidden="true" tabindex="-1"></a>  })<span class="op">;</span></span>
<span id="cb3-25"><a href="#cb3-25" aria-hidden="true" tabindex="-1"></a><span class="dt">&lt;/</span><span class="kw">script</span><span class="dt">&gt;</span></span>
<span id="cb3-26"><a href="#cb3-26" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb3-27"><a href="#cb3-27" aria-hidden="true" tabindex="-1"></a><span class="dt">&lt;/</span><span class="kw">body</span><span class="dt">&gt;</span></span>
<span id="cb3-28"><a href="#cb3-28" aria-hidden="true" tabindex="-1"></a><span class="dt">&lt;/</span><span class="kw">html</span><span class="dt">&gt;</span></span></code></pre></div>
<p>This code snippet initializes At.js on a textarea with a sample dataset. Typing “@” in the textarea will trigger the suggestion list, allowing users to select a mention. The <code>mentionChosen</code> callback demonstrates how you can handle the selection event. Remember to replace <code>"path/to/at.js/dist/at.js"</code> with the actual path to the At.js library file. Refer to the API documentation for more advanced configuration options and customization.</p>
<h2 id="core-concepts">Core Concepts</h2>
<h3 id="mentioning-users">Mentioning Users</h3>
<p>At.js’s core functionality revolves around mentioning users within a text input field. Users initiate a mention by typing the “@” symbol followed by characters. At.js then presents a list of suggestions based on the typed characters and the configured data source. Selecting a suggestion from the list inserts the corresponding mention into the input field, typically formatted as a unique identifier (e.g., username) wrapped within specific HTML tags for styling and processing. The specific formatting of the mention is customizable through templates. The library handles the complexities of managing the cursor position and updating the text content to maintain a smooth user experience.</p>
<h3 id="autocomplete-functionality">Autocomplete Functionality</h3>
<p>At.js leverages autocomplete functionality to provide a seamless user experience. As the user types characters after the “@” symbol, the library dynamically filters and displays a list of relevant suggestions. This list is typically presented as a dropdown or pop-up menu directly below the input field. The suggestions are ranked based on relevance, ensuring the most likely matches appear at the top of the list. The user can navigate this list using keyboard navigation (e.g., up/down arrow keys) and select a suggestion with the Enter key or mouse click.</p>
<h3 id="handling-mentions">Handling Mentions</h3>
<p>After a user selects a mention, At.js manages the integration of the selected mention into the text input field. This typically involves inserting the mention with appropriate formatting and ensuring the cursor is positioned correctly for continued typing. The library provides callbacks that allow developers to execute custom actions whenever a mention is chosen, offering extensive control over the post-selection behavior, such as updating a related data model or triggering network requests. These callbacks offer the developer control over how the application handles the selected mention’s data.</p>
<h3 id="data-sources">Data Sources</h3>
<p>At.js supports multiple data sources for user information, providing flexibility for different application architectures. The data source can be a simple JavaScript array, a JSON object, or a remote API endpoint. This versatility allows developers to easily integrate At.js with existing data models and backend infrastructure. The library’s API allows the developer to specify how and where to fetch the data, including providing customized fetching functions for remote data sources.</p>
<h3 id="customization-options">Customization Options</h3>
<p>At.js offers extensive customization options to adapt to various application designs and requirements. Developers can customize the appearance of the suggestion list, the styling of mentions within the text input, the trigger character (not limited to “@”), and keyboard navigation behavior. Template functions allow developers to define the exact HTML structure used to represent mentions in the input. Callback functions provide fine-grained control over events such as suggestion selection and input changes. These customization options ensure seamless integration with existing designs and workflows.</p>
<h2 id="api-reference">API Reference</h2>
<h3 id="at.js-constructor">at.js Constructor</h3>
<p>The <code>At</code> constructor initializes the At.js instance. It takes a single argument: a configuration object. This object specifies various settings to customize the behavior and appearance of At.js. The constructor returns an instance of the <code>At</code> class, allowing for further method calls and event handling.</p>
<div class="sourceCode" id="cb4"><pre class="sourceCode javascript"><code class="sourceCode javascript"><span id="cb4-1"><a href="#cb4-1" aria-hidden="true" tabindex="-1"></a><span class="kw">const</span> at <span class="op">=</span> <span class="kw">new</span> <span class="fu">At</span>(config)<span class="op">;</span></span></code></pre></div>
<p>where <code>config</code> is an object described in the next section.</p>
<h3 id="configuration-options">Configuration Options</h3>
<p>The configuration object passed to the <code>At</code> constructor accepts the following options:</p>
<ul>
<li><p><strong><code>element</code> (required):</strong> A DOM element (e.g., <code>&lt;textarea&gt;</code>, <code>&lt;input type="text"&gt;</code>) where At.js will operate. This is the element where mentions will be inserted and suggestions will appear.</p></li>
<li><p><strong><code>data</code> (required):</strong> An array of objects representing the data for user mentions. Each object should contain at least a unique identifier (e.g., <code>id</code> or <code>username</code>) and a display name (e.g., <code>name</code>). For remote data fetching, this can be a function that returns a Promise resolving to the data.</p></li>
<li><p><strong><code>tpl</code> (optional):</strong> A function that receives a mention data object and returns the HTML string to be used for rendering the mention. Defaults to a simple text rendering of the display name.</p></li>
<li><p><strong><code>callbacks</code> (optional):</strong> An object containing callback functions for various events (see the “Events” section below).</p></li>
<li><p><strong><code>trigger</code> (optional):</strong> The character(s) used to trigger the mention suggestions. Defaults to “@”.</p></li>
<li><p><strong><code>limit</code> (optional):</strong> The maximum number of suggestions to display. Defaults to 10.</p></li>
<li><p><strong><code>filter</code> (optional):</strong> A custom filter function used to filter the <code>data</code> array based on the user’s input. It receives the input text and data array and returns a filtered array.</p></li>
<li><p><strong><code>placeHolder</code> (optional):</strong> Placeholder text to show in the input field when empty.</p></li>
<li><p><strong><code>async</code> (optional):</strong> A boolean value. If true, async data fetching from a remote source is used. Defaults to false.</p></li>
<li><p><strong><code>debounce</code> (optional):</strong> Number of milliseconds to debounce the input event. This is useful to prevent excessive API calls during rapid typing. Defaults to 250ms.</p></li>
</ul>
<h3 id="methods">Methods</h3>
<p>The <code>At</code> class exposes the following methods:</p>
<ul>
<li><p><strong><code>destroy()</code>:</strong> Removes At.js functionality from the associated element and cleans up event listeners.</p></li>
<li><p><strong><code>update(newData)</code>:</strong> Updates the data source used by At.js. Accepts an array or a Promise resolving to an array.</p></li>
<li><p><strong><code>showSuggestions()</code>:</strong> Manually forces the display of the suggestion list. Useful for scenarios where programmatic control is needed.</p></li>
<li><p><strong><code>hideSuggestions()</code>:</strong> Manually hides the suggestion list. Useful for scenarios where programmatic control is needed.</p></li>
</ul>
<h3 id="events">Events</h3>
<p>At.js triggers several custom events that can be listened for using standard JavaScript event listeners (e.g., <code>addEventListener</code>). These events provide information about mention selection and changes to the input field. The following are some example events:</p>
<ul>
<li><p><strong><code>at.mentionChosen</code>:</strong> Fired when a user selects a mention from the suggestion list. The event object contains details about the chosen mention (e.g., the data object of selected mention).</p></li>
<li><p><strong><code>at.inputChanged</code>:</strong> Fired whenever the content of the input field changes.</p></li>
<li><p><strong><code>at.suggestionsShown</code>:</strong> Fired when the suggestion list is displayed.</p></li>
<li><p><strong><code>at.suggestionsHidden</code>:</strong> Fired when the suggestion list is hidden.</p></li>
</ul>
<p>These are example events. Specific events and their details may vary depending on the version of At.js. Consult the At.js documentation for the most up-to-date list of events and their respective properties. Refer to the complete API documentation for additional details and examples.</p>
<h2 id="advanced-usage">Advanced Usage</h2>
<h3 id="customizing-the-user-interface">Customizing the User Interface</h3>
<p>At.js provides extensive customization options to seamlessly integrate with your application’s UI. Beyond the basic configuration options, you can deeply tailor the visual aspects and behavior. This includes:</p>
<ul>
<li><p><strong>Custom Templates:</strong> The <code>tpl</code> configuration option allows you to define a custom template function to dictate how mentions are rendered in the input field. This function receives the mention data object as input and should return a string representing the HTML for the mention. This allows for rich formatting, including custom icons, colors, or highlighting.</p></li>
<li><p><strong>Styling the Suggestion List:</strong> The suggestion list’s appearance can be fully customized through CSS. At.js generates specific CSS classes for the suggestion list elements which can be targeted and styled according to your design preferences.</p></li>
<li><p><strong>Customizing Keyboard Navigation:</strong> While At.js offers default keyboard navigation, it can be further customized or extended to implement special behaviors depending on the application’s requirements.</p></li>
</ul>
<h3 id="integrating-with-other-libraries">Integrating with Other Libraries</h3>
<p>At.js can be effectively integrated with other JavaScript libraries to enhance its functionality or fit into broader application architectures.</p>
<ul>
<li><p><strong>UI Frameworks:</strong> At.js works well with popular frameworks like React, Vue, and Angular. These frameworks’ component models can be utilized to create custom wrappers and integrate At.js into their component lifecycle. This enables seamless integration within complex user interfaces built using these frameworks.</p></li>
<li><p><strong>Data Management Libraries:</strong> The data source for At.js can be integrated with data management libraries like Redux or Vuex. This ensures consistency and efficiency in managing mention data across the application.</p></li>
<li><p><strong>Third-party APIs:</strong> If your mention data is sourced from a third-party API, At.js can be readily integrated to consume data via asynchronous requests. Error handling and loading states should be incorporated to provide a robust user experience.</p></li>
</ul>
<h3 id="handling-large-datasets">Handling Large Datasets</h3>
<p>When dealing with large datasets of users, performance optimization is crucial. At.js offers several strategies to address this:</p>
<ul>
<li><p><strong>Asynchronous Data Fetching:</strong> The <code>async</code> option in the configuration allows for asynchronous fetching of data, preventing UI blocking. This is essential for large datasets.</p></li>
<li><p><strong>Client-Side Filtering and Pagination:</strong> Implement client-side filtering to reduce the amount of data processed. Introduce pagination to the suggestion list if the number of suggestions exceeds a certain threshold, fetching only a subset of data at a time.</p></li>
<li><p><strong>Data Pre-processing:</strong> Pre-process the data on the server or client-side to improve search and filtering efficiency. Techniques like indexing or creating optimized data structures can greatly improve performance.</p></li>
</ul>
<h3 id="performance-optimization">Performance Optimization</h3>
<p>Beyond handling large datasets, general performance optimization strategies for At.js include:</p>
<ul>
<li><p><strong>Debouncing Input Events:</strong> The <code>debounce</code> configuration option controls the frequency of data filtering and suggestion updates. A higher debounce value reduces the load on the application, but may increase perceived latency. Find the optimal balance.</p></li>
<li><p><strong>Efficient Data Structures:</strong> Using efficient data structures to store and manage mention data, such as optimized search trees, can improve lookup times during filtering.</p></li>
<li><p><strong>Minimizing DOM Manipulation:</strong> Minimize unnecessary DOM manipulations within the callback functions to avoid performance bottlenecks. Favor efficient updates and avoid repeated rendering.</p></li>
</ul>
<h3 id="internationalization-and-localization">Internationalization and Localization</h3>
<p>Supporting multiple languages requires careful consideration of text encoding and user interface elements. At.js offers basic support for this by allowing the use of Unicode characters within the mention data and custom templates. However, for robust internationalization and localization, you would typically need to complement At.js with a dedicated internationalization library that handles translation of strings, date/time formatting, and cultural considerations in the UI. This often involves building language-specific resources or using translation APIs.</p>
<h2 id="troubleshooting">Troubleshooting</h2>
<h3 id="common-issues-and-solutions">Common Issues and Solutions</h3>
<p>This section addresses common problems encountered when using At.js and provides solutions.</p>
<ul>
<li><strong>No suggestions appear:</strong>
<ul>
<li><strong>Problem:</strong> The suggestion list is empty despite typing the trigger character.</li>
<li><strong>Solutions:</strong>
<ul>
<li>Verify that the <code>data</code> configuration option is correctly populated with user data. Check for typos or incorrect data formatting.</li>
<li>Ensure the data source is accessible and correctly formatted (JSON, array, or function returning a Promise).</li>
<li>Check the network console (if using a remote data source) for any errors during data fetching.</li>
<li>If using a custom filter function, verify its logic and ensure it returns a valid filtered array.</li>
</ul></li>
</ul></li>
<li><strong>Incorrect mention rendering:</strong>
<ul>
<li><strong>Problem:</strong> Mentions are not displayed correctly, or the formatting is unexpected.</li>
<li><strong>Solutions:</strong>
<ul>
<li>Check the <code>tpl</code> function (if customized) for errors in HTML generation. Ensure proper escaping of special characters.</li>
<li>Inspect the rendered HTML in the browser’s developer tools to identify the issue.</li>
<li>Verify the <code>data</code> object’s structure and ensure it provides the necessary fields used within the <code>tpl</code> function.</li>
</ul></li>
</ul></li>
<li><strong>Suggestions appear in the wrong position:</strong>
<ul>
<li><strong>Problem:</strong> The suggestion list overlays other elements or is misaligned.</li>
<li><strong>Solutions:</strong>
<ul>
<li>Check for CSS conflicts. Ensure that no other styles are interfering with the positioning of At.js’s suggestion list.</li>
<li>Verify that the target element (<code>element</code> in the configuration) is properly positioned and visible in the DOM.</li>
</ul></li>
</ul></li>
<li><strong>Unexpected behavior after updating data:</strong>
<ul>
<li><strong>Problem:</strong> After calling <code>update()</code>, At.js behaves unexpectedly (e.g., no suggestions).</li>
<li><strong>Solutions:</strong>
<ul>
<li>Ensure the <code>update()</code> method is called with a valid data array or a Promise resolving to one.</li>
<li>Verify that the data format is consistent with the original data provided during initialization.</li>
<li>Re-initialize At.js if necessary after significant data changes.</li>
</ul></li>
</ul></li>
</ul>
<h3 id="debugging-tips">Debugging Tips</h3>
<ul>
<li><p><strong>Browser Developer Tools:</strong> Utilize your browser’s developer tools (usually accessed by pressing F12) to inspect the HTML, CSS, and JavaScript related to At.js. The console will display error messages and warnings. Use the debugger to step through the At.js code and identify issues.</p></li>
<li><p><strong>Console Logging:</strong> Strategically place <code>console.log()</code> statements within the At.js configuration and callback functions to inspect data values and execution flow. This helps pinpoint the source of problems.</p></li>
<li><p><strong>Simplify:</strong> Create a minimal, reproducible example to isolate the issue. Start with a basic setup and gradually add complexity to identify the point where the problem occurs.</p></li>
<li><p><strong>Check the At.js documentation and source code:</strong> The official documentation and source code repository may contain useful information and examples to resolve specific issues. Look for relevant discussions or reported bugs on platforms like GitHub.</p></li>
</ul>
<h3 id="error-handling">Error Handling</h3>
<p>At.js itself may not throw explicit errors in all situations. However, errors can arise due to problems with the data source (network requests failing, incorrect data formats) or within custom callback functions. Implement appropriate error handling mechanisms:</p>
<ul>
<li><p><strong>Network Requests:</strong> When fetching data from a remote source, handle network errors gracefully. Display user-friendly messages (e.g., “Failed to load suggestions”) instead of letting the application crash.</p></li>
<li><p><strong>Data Validation:</strong> Validate the data received from the data source to ensure it meets the expected format before using it in At.js.</p></li>
<li><p><strong>Callback Functions:</strong> Include <code>try...catch</code> blocks within custom callback functions to prevent errors within these functions from crashing the entire application. Log errors encountered in these functions for later debugging.</p></li>
<li><p><strong>Global Error Handling:</strong> Consider implementing a global error handler (using <code>window.onerror</code> or a similar mechanism) to capture any unhandled exceptions that might occur within At.js or related code. This provides a safety net to catch unexpected errors.</p></li>
</ul>
<h2 id="examples">Examples</h2>
<h3 id="simple-mentioning-example">Simple Mentioning Example</h3>
<p>This example demonstrates basic mention functionality using an inline array for user data:</p>
<div class="sourceCode" id="cb5"><pre class="sourceCode html"><code class="sourceCode html"><span id="cb5-1"><a href="#cb5-1" aria-hidden="true" tabindex="-1"></a><span class="dt">&lt;!DOCTYPE</span> html<span class="dt">&gt;</span></span>
<span id="cb5-2"><a href="#cb5-2" aria-hidden="true" tabindex="-1"></a><span class="dt">&lt;</span><span class="kw">html</span><span class="dt">&gt;</span></span>
<span id="cb5-3"><a href="#cb5-3" aria-hidden="true" tabindex="-1"></a><span class="dt">&lt;</span><span class="kw">head</span><span class="dt">&gt;</span></span>
<span id="cb5-4"><a href="#cb5-4" aria-hidden="true" tabindex="-1"></a>  <span class="dt">&lt;</span><span class="kw">title</span><span class="dt">&gt;</span>At.js Simple Example<span class="dt">&lt;/</span><span class="kw">title</span><span class="dt">&gt;</span></span>
<span id="cb5-5"><a href="#cb5-5" aria-hidden="true" tabindex="-1"></a>  <span class="dt">&lt;</span><span class="kw">script</span><span class="ot"> src</span><span class="op">=</span><span class="st">"path/to/at.js/dist/at.js"</span><span class="dt">&gt;&lt;/</span><span class="kw">script</span><span class="dt">&gt;</span></span>
<span id="cb5-6"><a href="#cb5-6" aria-hidden="true" tabindex="-1"></a><span class="dt">&lt;/</span><span class="kw">head</span><span class="dt">&gt;</span></span>
<span id="cb5-7"><a href="#cb5-7" aria-hidden="true" tabindex="-1"></a><span class="dt">&lt;</span><span class="kw">body</span><span class="dt">&gt;</span></span>
<span id="cb5-8"><a href="#cb5-8" aria-hidden="true" tabindex="-1"></a><span class="dt">&lt;</span><span class="kw">textarea</span><span class="ot"> id</span><span class="op">=</span><span class="st">"myTextarea"</span><span class="dt">&gt;&lt;/</span><span class="kw">textarea</span><span class="dt">&gt;</span></span>
<span id="cb5-9"><a href="#cb5-9" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb5-10"><a href="#cb5-10" aria-hidden="true" tabindex="-1"></a><span class="dt">&lt;</span><span class="kw">script</span><span class="dt">&gt;</span></span>
<span id="cb5-11"><a href="#cb5-11" aria-hidden="true" tabindex="-1"></a>  <span class="kw">const</span> at <span class="op">=</span> <span class="kw">new</span> <span class="fu">At</span>({</span>
<span id="cb5-12"><a href="#cb5-12" aria-hidden="true" tabindex="-1"></a>    <span class="dt">element</span><span class="op">:</span> <span class="bu">document</span><span class="op">.</span><span class="fu">getElementById</span>(<span class="st">'myTextarea'</span>)<span class="op">,</span></span>
<span id="cb5-13"><a href="#cb5-13" aria-hidden="true" tabindex="-1"></a>    <span class="dt">data</span><span class="op">:</span> [</span>
<span id="cb5-14"><a href="#cb5-14" aria-hidden="true" tabindex="-1"></a>      { <span class="dt">id</span><span class="op">:</span> <span class="dv">1</span><span class="op">,</span> <span class="dt">name</span><span class="op">:</span> <span class="st">'Alice'</span><span class="op">,</span> <span class="dt">username</span><span class="op">:</span> <span class="st">'alice'</span> }<span class="op">,</span></span>
<span id="cb5-15"><a href="#cb5-15" aria-hidden="true" tabindex="-1"></a>      { <span class="dt">id</span><span class="op">:</span> <span class="dv">2</span><span class="op">,</span> <span class="dt">name</span><span class="op">:</span> <span class="st">'Bob'</span><span class="op">,</span> <span class="dt">username</span><span class="op">:</span> <span class="st">'bob'</span> }<span class="op">,</span></span>
<span id="cb5-16"><a href="#cb5-16" aria-hidden="true" tabindex="-1"></a>      { <span class="dt">id</span><span class="op">:</span> <span class="dv">3</span><span class="op">,</span> <span class="dt">name</span><span class="op">:</span> <span class="st">'Charlie'</span><span class="op">,</span> <span class="dt">username</span><span class="op">:</span> <span class="st">'charlie'</span> }</span>
<span id="cb5-17"><a href="#cb5-17" aria-hidden="true" tabindex="-1"></a>    ]<span class="op">,</span></span>
<span id="cb5-18"><a href="#cb5-18" aria-hidden="true" tabindex="-1"></a>    <span class="dt">callbacks</span><span class="op">:</span> {</span>
<span id="cb5-19"><a href="#cb5-19" aria-hidden="true" tabindex="-1"></a>      <span class="dt">mentionChosen</span><span class="op">:</span> (mention) <span class="kw">=&gt;</span> {</span>
<span id="cb5-20"><a href="#cb5-20" aria-hidden="true" tabindex="-1"></a>        <span class="bu">console</span><span class="op">.</span><span class="fu">log</span>(<span class="st">'Mention chosen:'</span><span class="op">,</span> mention)<span class="op">;</span></span>
<span id="cb5-21"><a href="#cb5-21" aria-hidden="true" tabindex="-1"></a>      }</span>
<span id="cb5-22"><a href="#cb5-22" aria-hidden="true" tabindex="-1"></a>    }</span>
<span id="cb5-23"><a href="#cb5-23" aria-hidden="true" tabindex="-1"></a>  })<span class="op">;</span></span>
<span id="cb5-24"><a href="#cb5-24" aria-hidden="true" tabindex="-1"></a><span class="dt">&lt;/</span><span class="kw">script</span><span class="dt">&gt;</span></span>
<span id="cb5-25"><a href="#cb5-25" aria-hidden="true" tabindex="-1"></a><span class="dt">&lt;/</span><span class="kw">body</span><span class="dt">&gt;</span></span>
<span id="cb5-26"><a href="#cb5-26" aria-hidden="true" tabindex="-1"></a><span class="dt">&lt;/</span><span class="kw">html</span><span class="dt">&gt;</span></span></code></pre></div>
<p>This code initializes At.js on a textarea with a simple data array. Typing “@” will trigger the suggestion list, allowing you to select users. The <code>mentionChosen</code> callback logs the selected mention to the console.</p>
<h3 id="autocomplete-with-custom-data">Autocomplete with Custom Data</h3>
<p>This example showcases autocomplete with data fetched from a remote JSON endpoint:</p>
<div class="sourceCode" id="cb6"><pre class="sourceCode javascript"><code class="sourceCode javascript"><span id="cb6-1"><a href="#cb6-1" aria-hidden="true" tabindex="-1"></a><span class="kw">const</span> at <span class="op">=</span> <span class="kw">new</span> <span class="fu">At</span>({</span>
<span id="cb6-2"><a href="#cb6-2" aria-hidden="true" tabindex="-1"></a>  <span class="dt">element</span><span class="op">:</span> <span class="bu">document</span><span class="op">.</span><span class="fu">getElementById</span>(<span class="st">'myTextarea'</span>)<span class="op">,</span></span>
<span id="cb6-3"><a href="#cb6-3" aria-hidden="true" tabindex="-1"></a>  <span class="dt">async</span><span class="op">:</span> <span class="kw">true</span><span class="op">,</span></span>
<span id="cb6-4"><a href="#cb6-4" aria-hidden="true" tabindex="-1"></a>  <span class="dt">data</span><span class="op">:</span> () <span class="kw">=&gt;</span> {</span>
<span id="cb6-5"><a href="#cb6-5" aria-hidden="true" tabindex="-1"></a>    <span class="cf">return</span> <span class="fu">fetch</span>(<span class="st">'/api/users'</span>)</span>
<span id="cb6-6"><a href="#cb6-6" aria-hidden="true" tabindex="-1"></a>      <span class="op">.</span><span class="fu">then</span>(response <span class="kw">=&gt;</span> response<span class="op">.</span><span class="fu">json</span>())</span>
<span id="cb6-7"><a href="#cb6-7" aria-hidden="true" tabindex="-1"></a>      <span class="op">.</span><span class="fu">then</span>(data <span class="kw">=&gt;</span> data<span class="op">.</span><span class="at">users</span>)<span class="op">;</span></span>
<span id="cb6-8"><a href="#cb6-8" aria-hidden="true" tabindex="-1"></a>  }<span class="op">,</span></span>
<span id="cb6-9"><a href="#cb6-9" aria-hidden="true" tabindex="-1"></a>  <span class="dt">tpl</span><span class="op">:</span> (item) <span class="kw">=&gt;</span> <span class="vs">`&lt;span class="mention"&gt;@</span><span class="sc">${</span>item<span class="op">.</span><span class="at">username</span><span class="sc">}</span><span class="vs"> (</span><span class="sc">${</span>item<span class="op">.</span><span class="at">name</span><span class="sc">}</span><span class="vs">)&lt;/span&gt;`</span><span class="op">,</span></span>
<span id="cb6-10"><a href="#cb6-10" aria-hidden="true" tabindex="-1"></a>  <span class="dt">callbacks</span><span class="op">:</span> {</span>
<span id="cb6-11"><a href="#cb6-11" aria-hidden="true" tabindex="-1"></a>    <span class="dt">mentionChosen</span><span class="op">:</span> (mention) <span class="kw">=&gt;</span> { <span class="co">/* Handle mention selection */</span> }</span>
<span id="cb6-12"><a href="#cb6-12" aria-hidden="true" tabindex="-1"></a>  }</span>
<span id="cb6-13"><a href="#cb6-13" aria-hidden="true" tabindex="-1"></a>})<span class="op">;</span></span></code></pre></div>
<p>This uses <code>async: true</code> and provides a function that fetches user data from <code>/api/users</code>. The <code>tpl</code> function customizes the mention’s rendering. Remember to replace <code>/api/users</code> with your actual API endpoint.</p>
<h3 id="integration-with-a-chat-application">Integration with a Chat Application</h3>
<p>This example illustrates integration within a chat application, using a custom template and handling mention selection:</p>
<div class="sourceCode" id="cb7"><pre class="sourceCode javascript"><code class="sourceCode javascript"><span id="cb7-1"><a href="#cb7-1" aria-hidden="true" tabindex="-1"></a><span class="kw">const</span> at <span class="op">=</span> <span class="kw">new</span> <span class="fu">At</span>({</span>
<span id="cb7-2"><a href="#cb7-2" aria-hidden="true" tabindex="-1"></a>  <span class="dt">element</span><span class="op">:</span> <span class="bu">document</span><span class="op">.</span><span class="fu">getElementById</span>(<span class="st">'chatInput'</span>)<span class="op">,</span></span>
<span id="cb7-3"><a href="#cb7-3" aria-hidden="true" tabindex="-1"></a>  <span class="dt">data</span><span class="op">:</span> chatUsers<span class="op">,</span> <span class="co">// Assume chatUsers is an array of user objects</span></span>
<span id="cb7-4"><a href="#cb7-4" aria-hidden="true" tabindex="-1"></a>  <span class="dt">tpl</span><span class="op">:</span> (item) <span class="kw">=&gt;</span> <span class="vs">`&lt;span class="mention" data-user-id="</span><span class="sc">${</span>item<span class="op">.</span><span class="at">id</span><span class="sc">}</span><span class="vs">"&gt;@</span><span class="sc">${</span>item<span class="op">.</span><span class="at">username</span><span class="sc">}</span><span class="vs">&lt;/span&gt;`</span><span class="op">,</span></span>
<span id="cb7-5"><a href="#cb7-5" aria-hidden="true" tabindex="-1"></a>  <span class="dt">callbacks</span><span class="op">:</span> {</span>
<span id="cb7-6"><a href="#cb7-6" aria-hidden="true" tabindex="-1"></a>    <span class="dt">mentionChosen</span><span class="op">:</span> (mention) <span class="kw">=&gt;</span> {</span>
<span id="cb7-7"><a href="#cb7-7" aria-hidden="true" tabindex="-1"></a>      <span class="co">// Append mention to chat message, perhaps updating a message object</span></span>
<span id="cb7-8"><a href="#cb7-8" aria-hidden="true" tabindex="-1"></a>      <span class="kw">let</span> message <span class="op">=</span> <span class="bu">document</span><span class="op">.</span><span class="fu">getElementById</span>(<span class="st">'chatMessage'</span>)<span class="op">;</span></span>
<span id="cb7-9"><a href="#cb7-9" aria-hidden="true" tabindex="-1"></a>      message<span class="op">.</span><span class="at">innerHTML</span> <span class="op">+=</span> <span class="vs">`&lt;span class="mention" data-user-id="</span><span class="sc">${</span>mention<span class="op">.</span><span class="at">id</span><span class="sc">}</span><span class="vs">"&gt;@</span><span class="sc">${</span>mention<span class="op">.</span><span class="at">username</span><span class="sc">}</span><span class="vs">&lt;/span&gt; `</span><span class="op">;</span></span>
<span id="cb7-10"><a href="#cb7-10" aria-hidden="true" tabindex="-1"></a>    }</span>
<span id="cb7-11"><a href="#cb7-11" aria-hidden="true" tabindex="-1"></a>  }</span>
<span id="cb7-12"><a href="#cb7-12" aria-hidden="true" tabindex="-1"></a>})<span class="op">;</span></span></code></pre></div>
<p>This example demonstrates how to customize the mention’s HTML using <code>data-user-id</code> for further processing. The <code>mentionChosen</code> callback updates the <code>chatMessage</code> element accordingly.</p>
<h3 id="building-a-complex-mentioning-system">Building a Complex Mentioning System</h3>
<p>For complex systems, consider these enhancements:</p>
<ul>
<li><p><strong>Multiple Mention Types:</strong> Extend At.js to support mentions of different types (e.g., users, channels, hashtags) by adjusting the data structure and <code>tpl</code> function.</p></li>
<li><p><strong>Mention Filtering:</strong> Use the <code>filter</code> configuration option to create sophisticated filtering logic based on user input or other application-specific criteria.</p></li>
<li><p><strong>Real-time Updates:</strong> Integrate with real-time data sources (e.g., WebSockets) to provide instant updates to the suggestion list as users type, reflecting changes in the available mentions.</p></li>
<li><p><strong>Custom UI:</strong> Instead of relying on the default suggestion list, integrate with a custom UI framework to create a more visually appealing or application-specific suggestion display.</p></li>
</ul>
<p>These examples provide a starting point for various At.js applications. Remember to adapt and extend them to meet the specific needs of your project. Remember to adjust paths and API endpoints according to your setup.</p>


<script async="" src="https://pagead2.googlesyndication.com/pagead/js/adsbygoogle.js?client=ca-pub-3609399560636561" crossorigin="anonymous"></script>




</body></html>