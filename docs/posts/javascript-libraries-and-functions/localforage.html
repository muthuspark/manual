<!DOCTYPE html>
<html xmlns="http://www.w3.org/1999/xhtml" lang="en" xml:lang="en"><head>

<meta charset="utf-8">
<meta name="generator" content="quarto-1.8.25">

<meta name="viewport" content="width=device-width, initial-scale=1.0, user-scalable=yes">

<meta name="author" content="Muthukrishnan">
<meta name="dcterms.date" content="2025-02-09">
<meta name="description" content="localForage is a fast and simple asynchronous JavaScript library for persisting key-value pairs in the browser’s localStorage, IndexedDB, and WebSQL. It…">

<title>localForage - Documentation – Technical Manuals</title>
<style>
html {
  color: #1a1a1a;
  background-color: #fdfdfd;
}
body {
  margin: 0 auto;
  max-width: 36em;
  padding-left: 50px;
  padding-right: 50px;
  padding-top: 50px;
  padding-bottom: 50px;
  hyphens: auto;
  overflow-wrap: break-word;
  text-rendering: optimizeLegibility;
  font-kerning: normal;
}
@media (max-width: 600px) {
  body {
    font-size: 0.9em;
    padding: 12px;
  }
  h1 {
    font-size: 1.8em;
  }
}
@media print {
  html {
    background-color: white;
  }
  body {
    background-color: transparent;
    color: black;
    font-size: 12pt;
  }
  p, h2, h3 {
    orphans: 3;
    widows: 3;
  }
  h2, h3, h4 {
    page-break-after: avoid;
  }
}
p {
  margin: 1em 0;
}
a {
  color: #1a1a1a;
}
a:visited {
  color: #1a1a1a;
}
img {
  max-width: 100%;
}
svg {
  height; auto;
  max-width: 100%;
}
h1, h2, h3, h4, h5, h6 {
  margin-top: 1.4em;
}
h5, h6 {
  font-size: 1em;
  font-style: italic;
}
h6 {
  font-weight: normal;
}
ol, ul {
  padding-left: 1.7em;
  margin-top: 1em;
}
li > ol, li > ul {
  margin-top: 0;
}
ul > li:not(:has(> p)) > ul,
ol > li:not(:has(> p)) > ul,
ul > li:not(:has(> p)) > ol,
ol > li:not(:has(> p)) > ol {
  margin-bottom: 0;
}
ul > li:not(:has(> p)) > ul > li:has(> p),
ol > li:not(:has(> p)) > ul > li:has(> p),
ul > li:not(:has(> p)) > ol > li:has(> p),
ol > li:not(:has(> p)) > ol > li:has(> p) {
  margin-top: 1rem;
}
blockquote {
  margin: 1em 0 1em 1.7em;
  padding-left: 1em;
  border-left: 2px solid #e6e6e6;
  color: #606060;
}
code {
  font-family: Menlo, Monaco, Consolas, 'Lucida Console', monospace;
  font-size: 85%;
  margin: 0;
  hyphens: manual;
}
pre {
  margin: 1em 0;
  overflow: auto;
}
pre code {
  padding: 0;
  overflow: visible;
  overflow-wrap: normal;
}
.sourceCode {
 background-color: transparent;
 overflow: visible;
}
hr {
  border: none;
  border-top: 1px solid #1a1a1a;
  height: 1px;
  margin: 1em 0;
}
table {
  margin: 1em 0;
  border-collapse: collapse;
  width: 100%;
  overflow-x: auto;
  display: block;
  font-variant-numeric: lining-nums tabular-nums;
}
table caption {
  margin-bottom: 0.75em;
}
tbody {
  margin-top: 0.5em;
  border-top: 1px solid #1a1a1a;
  border-bottom: 1px solid #1a1a1a;
}
th {
  border-top: 1px solid #1a1a1a;
  padding: 0.25em 0.5em 0.25em 0.5em;
}
td {
  padding: 0.125em 0.5em 0.25em 0.5em;
}
header {
  margin-bottom: 4em;
  text-align: center;
}
#TOC li {
  list-style: none;
}
#TOC ul {
  padding-left: 1.3em;
}
#TOC > ul {
  padding-left: 0;
}
#TOC a:not(:hover) {
  text-decoration: none;
}
code{white-space: pre-wrap;}
span.smallcaps{font-variant: small-caps;}
div.columns{display: flex; gap: min(4vw, 1.5em);}
div.column{flex: auto; overflow-x: auto;}
div.hanging-indent{margin-left: 1.5em; text-indent: -1.5em;}
ul.task-list{list-style: none;}
ul.task-list li input[type="checkbox"] {
  width: 0.8em;
  margin: 0 0.8em 0.2em -1em; /* quarto-specific, see https://github.com/quarto-dev/quarto-cli/issues/4556 */ 
  vertical-align: middle;
}
/* CSS for syntax highlighting */
html { -webkit-text-size-adjust: 100%; }
pre > code.sourceCode { white-space: pre; position: relative; }
pre > code.sourceCode > span { display: inline-block; line-height: 1.25; }
pre > code.sourceCode > span:empty { height: 1.2em; }
.sourceCode { overflow: visible; }
code.sourceCode > span { color: inherit; text-decoration: inherit; }
div.sourceCode { margin: 1em 0; }
pre.sourceCode { margin: 0; }
@media screen {
div.sourceCode { overflow: auto; }
}
@media print {
pre > code.sourceCode { white-space: pre-wrap; }
pre > code.sourceCode > span { text-indent: -5em; padding-left: 5em; }
}
pre.numberSource code
  { counter-reset: source-line 0; }
pre.numberSource code > span
  { position: relative; left: -4em; counter-increment: source-line; }
pre.numberSource code > span > a:first-child::before
  { content: counter(source-line);
    position: relative; left: -1em; text-align: right; vertical-align: baseline;
    border: none; display: inline-block;
    -webkit-touch-callout: none; -webkit-user-select: none;
    -khtml-user-select: none; -moz-user-select: none;
    -ms-user-select: none; user-select: none;
    padding: 0 4px; width: 4em;
  }
pre.numberSource { margin-left: 3em;  padding-left: 4px; }
div.sourceCode
  {   }
@media screen {
pre > code.sourceCode > span > a:first-child::before { text-decoration: underline; }
}
</style>


<link href="../../favicon.ico" rel="icon">
<script async="" src="https://www.googletagmanager.com/gtag/js?id=G-MXDPF6L5TL"></script>

<script type="text/javascript">

window.dataLayer = window.dataLayer || [];
function gtag(){dataLayer.push(arguments);}
gtag('js', new Date());
gtag('config', 'G-MXDPF6L5TL', { 'anonymize_ip': true});
</script>
<link rel="icon" type="image/x-icon" href="favicon.ico">
<meta property="og:title" content="localForage - Documentation – Technical Manuals">
<meta property="og:description" content="Comprehensive technical documentation and tutorials for JavaScript libraries and Python modules.">
<meta property="og:image" content="https://manuals.muthu.co/posts/javascript-libraries-and-functions/og-image.png">
<meta property="og:site_name" content="Technical Manuals">
<meta property="og:locale" content="en_US">
<meta name="twitter:title" content="localForage - Documentation – Technical Manuals">
<meta name="twitter:description" content="Comprehensive technical documentation and tutorials for JavaScript libraries and Python modules.">
<meta name="twitter:image" content="https://manuals.muthu.co/posts/javascript-libraries-and-functions/og-image.png">
<meta name="twitter:creator" content="@krimuthu">
<meta name="twitter:site" content="@krimuthu">
<meta name="twitter:card" content="summary_large_image">
<link rel="canonical" href="https://manuals.muthu.co/posts/javascript-libraries-and-functions/localforage.html">
</head><body><div class="navigation-header">
    <nav>
        <div>
            <div class="logo">
                <a href="../../" aria-label="Home">
                    <span>Technical Manuals - Home</span>
                </a>
            </div>
            <div class="nav-menu">
                <ul>
                    <li>
                        <a href="../../about.html">
                            <span class="menu-text">About</span>
                        </a>
                    </li>
                    <li> 
                        <a href="https://github.com/muthuspark" target="_blank">
                            <span class="menu-text">Github</span>
                        </a>
                    </li>
                    <li>
                        <a href="https://linkedin.com/in/krimuthu" target="_blank">
                            <span class="menu-text">Linkedin</span>
                        </a>
                    </li>
                    <li>
                        <button onclick="window.print()" class="print-button">
                            <svg width="20" height="20" viewbox="0 0 24 24" fill="none" stroke="currentColor" stroke-width="2">
                              <path d="M6 9V2h12v7"></path>
                              <path d="M6 18H4a2 2 0 01-2-2v-5a2 2 0 012-2h16a2 2 0 012 2v5a2 2 0 01-2 2h-2"></path>
                              <path d="M6 14h12v8H6z"></path>
                            </svg>
                            Print Page
                        </button>
                    </li>
                </ul>
            </div>
        </div>
    </nav>
</div>
<script type="application/ld+json">
{
  "@context": "https://schema.org",
  "@type": "WebSite",
  "name": "Technical Manuals",
  "url": "https://manuals.muthu.co/",
  "description": "Comprehensive technical documentation and tutorials for JavaScript libraries and Python modules.",
  "author": {
    "@type": "Person",
    "name": "Muthukrishnan",
    "url": "https://manuals.muthu.co/about.html",
    "sameAs": [
      "https://github.com/muthuspark",
      "https://linkedin.com/in/krimuthu",
      "https://twitter.com/krimuthu"
    ]
  },
  "publisher": {
    "@type": "Person",
    "name": "Muthukrishnan"
  },
  "inLanguage": "en-US",
  "potentialAction": {
    "@type": "SearchAction",
    "target": "https://manuals.muthu.co/?q={search_term_string}",
    "query-input": "required name=search_term_string"
  }
}
</script>
<meta name="author" content="Muthukrishnan">
<meta name="robots" content="index, follow">
<meta name="googlebot" content="index, follow, max-snippet:-1, max-image-preview:large, max-video-preview:-1">
<link rel="author" href="https://manuals.muthu.co/about.html">


<link rel="stylesheet" href="../../styles.css">





<header id="title-block-header">
<h1 class="title">localForage - Documentation</h1>

<p class="date">2025-02-09</p>
</header>

<nav id="TOC" role="doc-toc">
    <h2 id="toc-title">On this page</h2>
   
  <ul>
  <li><a href="#introduction" id="toc-introduction">Introduction</a>
  <ul>
  <li><a href="#what-is-localforage" id="toc-what-is-localforage">What is localForage?</a></li>
  <li><a href="#why-use-localforage" id="toc-why-use-localforage">Why use localForage?</a></li>
  <li><a href="#key-features" id="toc-key-features">Key Features</a></li>
  <li><a href="#supported-browsers-and-environments" id="toc-supported-browsers-and-environments">Supported Browsers and Environments</a></li>
  <li><a href="#installation" id="toc-installation">Installation</a></li>
  </ul></li>
  <li><a href="#core-api" id="toc-core-api">Core API</a>
  <ul>
  <li><a href="#setitemkey-value" id="toc-setitemkey-value"><code>setItem(key, value)</code></a></li>
  <li><a href="#getitemkey" id="toc-getitemkey"><code>getItem(key)</code></a></li>
  <li><a href="#removeitemkey" id="toc-removeitemkey"><code>removeItem(key)</code></a></li>
  <li><a href="#clear" id="toc-clear"><code>clear()</code></a></li>
  <li><a href="#keyn" id="toc-keyn"><code>key(n)</code></a></li>
  <li><a href="#length" id="toc-length"><code>length()</code></a></li>
  <li><a href="#iteratecallback" id="toc-iteratecallback"><code>iterate(callback)</code></a></li>
  <li><a href="#keys" id="toc-keys"><code>keys()</code></a></li>
  </ul></li>
  <li><a href="#advanced-usage" id="toc-advanced-usage">Advanced Usage</a>
  <ul>
  <li><a href="#working-with-different-storage-drivers" id="toc-working-with-different-storage-drivers">Working with different storage drivers</a></li>
  <li><a href="#driver-configuration" id="toc-driver-configuration">Driver Configuration</a></li>
  <li><a href="#error-handling" id="toc-error-handling">Error Handling</a></li>
  <li><a href="#asynchronous-operations-and-promises" id="toc-asynchronous-operations-and-promises">Asynchronous Operations and Promises</a></li>
  <li><a href="#batch-operations" id="toc-batch-operations">Batch Operations</a></li>
  <li><a href="#managing-storage-space" id="toc-managing-storage-space">Managing Storage Space</a></li>
  <li><a href="#performance-considerations" id="toc-performance-considerations">Performance Considerations</a></li>
  <li><a href="#migrating-from-other-storage-solutions" id="toc-migrating-from-other-storage-solutions">Migrating from other storage solutions</a></li>
  </ul></li>
  <li><a href="#examples-and-use-cases" id="toc-examples-and-use-cases">Examples and Use Cases</a>
  <ul>
  <li><a href="#simple-key-value-storage" id="toc-simple-key-value-storage">Simple Key-Value Storage</a></li>
  <li><a href="#storing-complex-data-structures" id="toc-storing-complex-data-structures">Storing Complex Data Structures</a></li>
  <li><a href="#caching-data" id="toc-caching-data">Caching Data</a></li>
  <li><a href="#building-offline-first-applications" id="toc-building-offline-first-applications">Building Offline-First Applications</a></li>
  <li><a href="#integrating-with-other-libraries" id="toc-integrating-with-other-libraries">Integrating with other libraries</a></li>
  </ul></li>
  <li><a href="#security-considerations" id="toc-security-considerations">Security Considerations</a>
  <ul>
  <li><a href="#data-protection" id="toc-data-protection">Data Protection</a></li>
  <li><a href="#cross-origin-resource-sharing-cors" id="toc-cross-origin-resource-sharing-cors">Cross-Origin Resource Sharing (CORS)</a></li>
  <li><a href="#protecting-against-xss-attacks" id="toc-protecting-against-xss-attacks">Protecting against XSS attacks</a></li>
  </ul></li>
  <li><a href="#contributing" id="toc-contributing">Contributing</a>
  <ul>
  <li><a href="#setting-up-the-development-environment" id="toc-setting-up-the-development-environment">Setting up the Development Environment</a></li>
  <li><a href="#coding-style-guide" id="toc-coding-style-guide">Coding Style Guide</a></li>
  <li><a href="#testing" id="toc-testing">Testing</a></li>
  <li><a href="#submitting-pull-requests" id="toc-submitting-pull-requests">Submitting Pull Requests</a></li>
  </ul></li>
  <li><a href="#appendix" id="toc-appendix">Appendix</a>
  <ul>
  <li><a href="#glossary-of-terms" id="toc-glossary-of-terms">Glossary of Terms</a></li>
  <li><a href="#frequently-asked-questions-faq" id="toc-frequently-asked-questions-faq">Frequently Asked Questions (FAQ)</a></li>
  <li><a href="#release-notes" id="toc-release-notes">Release Notes</a></li>
  <li><a href="#license" id="toc-license">License</a></li>
  </ul></li>
  </ul>
</nav>
<h2 id="introduction">Introduction</h2>
<h3 id="what-is-localforage">What is localForage?</h3>
<p>localForage is a fast and simple asynchronous JavaScript library for persisting key-value pairs in the browser’s localStorage, IndexedDB, and WebSQL. It provides a unified API across these different storage mechanisms, abstracting away the complexities of managing each individually. This allows developers to write code that works consistently across various browsers and devices, without needing to worry about the underlying storage technology. localForage automatically determines the best available storage mechanism for the user’s browser and gracefully falls back to others if necessary.</p>
<h3 id="why-use-localforage">Why use localForage?</h3>
<ul>
<li><strong>Unified API:</strong> Write code that works seamlessly across localStorage, IndexedDB, and WebSQL without needing to handle the differences in their APIs.</li>
<li><strong>Asynchronous Operations:</strong> All operations are asynchronous, preventing blocking of the main thread and improving application responsiveness.</li>
<li><strong>Automatic Driver Selection:</strong> localForage automatically selects the best storage option available in the user’s browser, falling back to alternatives if needed.</li>
<li><strong>Simple and Easy to Use:</strong> The API is intuitive and easy to learn, minimizing the development time required for persistent data storage.</li>
<li><strong>Improved Performance:</strong> localForage often offers performance advantages over using localStorage directly, especially when dealing with larger amounts of data.</li>
<li><strong>Error Handling:</strong> localForage provides mechanisms for handling errors gracefully, making debugging and maintenance easier.</li>
</ul>
<h3 id="key-features">Key Features</h3>
<ul>
<li><strong>Asynchronous Storage:</strong> All methods are asynchronous, preventing UI freezes.</li>
<li><strong>Multiple Storage Drivers:</strong> Supports localStorage, IndexedDB, and WebSQL (though WebSQL is deprecated).</li>
<li><strong>Automatic Driver Selection:</strong> Intelligently chooses the optimal storage mechanism.</li>
<li><strong>Key-Value Storage:</strong> Simple and efficient key-value pair storage.</li>
<li><strong>Flexible Configuration:</strong> Allows customization of various aspects of the library’s behavior.</li>
<li><strong>Comprehensive API:</strong> Provides a wide range of methods for interacting with stored data.</li>
<li><strong>Extensive Testing:</strong> Rigorously tested to ensure reliability and cross-browser compatibility.</li>
</ul>
<h3 id="supported-browsers-and-environments">Supported Browsers and Environments</h3>
<p>localForage supports most modern browsers, including:</p>
<ul>
<li>Chrome</li>
<li>Firefox</li>
<li>Safari</li>
<li>Edge</li>
<li>Internet Explorer 10+ (with limitations; IndexedDB support is limited in older IE versions)</li>
</ul>
<p>While it primarily targets browsers, it can also be used in Node.js environments with the appropriate adapter. However, direct Node.js support is not a core feature; using it would require a suitable adapter/shim for filesystem or similar storage.</p>
<h3 id="installation">Installation</h3>
<p>localForage can be installed using npm or yarn:</p>
<div class="sourceCode" id="cb1"><pre class="sourceCode bash"><code class="sourceCode bash"><span id="cb1-1"><a href="#cb1-1" aria-hidden="true" tabindex="-1"></a><span class="ex">npm</span> install localforage</span>
<span id="cb1-2"><a href="#cb1-2" aria-hidden="true" tabindex="-1"></a><span class="co"># or</span></span>
<span id="cb1-3"><a href="#cb1-3" aria-hidden="true" tabindex="-1"></a><span class="ex">yarn</span> add localforage</span></code></pre></div>
<p>For use in a browser environment without a package manager, you can include the library via a <code>&lt;script&gt;</code> tag. Download the minified version from the project’s distribution and include it in your HTML file:</p>
<div class="sourceCode" id="cb2"><pre class="sourceCode html"><code class="sourceCode html"><span id="cb2-1"><a href="#cb2-1" aria-hidden="true" tabindex="-1"></a><span class="dt">&lt;</span><span class="kw">script</span><span class="ot"> src</span><span class="op">=</span><span class="st">"path/to/localforage.min.js"</span><span class="dt">&gt;&lt;/</span><span class="kw">script</span><span class="dt">&gt;</span></span></code></pre></div>
<p>After installation, you can start using the localForage API in your JavaScript code.</p>
<h2 id="core-api">Core API</h2>
<h3 id="setitemkey-value"><code>setItem(key, value)</code></h3>
<p>Stores a value associated with a given key. The key must be a string. The value can be any valid JavaScript data type, though complex objects will be serialized (typically using JSON.stringify). The method returns a Promise that resolves when the operation is complete. It rejects with an error if the operation fails (e.g., due to storage limitations or quota issues).</p>
<div class="sourceCode" id="cb3"><pre class="sourceCode javascript"><code class="sourceCode javascript"><span id="cb3-1"><a href="#cb3-1" aria-hidden="true" tabindex="-1"></a>localforage<span class="op">.</span><span class="fu">setItem</span>(<span class="st">'myKey'</span><span class="op">,</span> <span class="st">'myValue'</span>)<span class="op">.</span><span class="fu">then</span>(() <span class="kw">=&gt;</span> {</span>
<span id="cb3-2"><a href="#cb3-2" aria-hidden="true" tabindex="-1"></a>  <span class="bu">console</span><span class="op">.</span><span class="fu">log</span>(<span class="st">'Value stored successfully!'</span>)<span class="op">;</span></span>
<span id="cb3-3"><a href="#cb3-3" aria-hidden="true" tabindex="-1"></a>})<span class="op">.</span><span class="fu">catch</span>(err <span class="kw">=&gt;</span> {</span>
<span id="cb3-4"><a href="#cb3-4" aria-hidden="true" tabindex="-1"></a>  <span class="bu">console</span><span class="op">.</span><span class="fu">error</span>(<span class="st">'Error storing value:'</span><span class="op">,</span> err)<span class="op">;</span></span>
<span id="cb3-5"><a href="#cb3-5" aria-hidden="true" tabindex="-1"></a>})<span class="op">;</span></span></code></pre></div>
<h3 id="getitemkey"><code>getItem(key)</code></h3>
<p>Retrieves the value associated with a given key. The key must be a string. The method returns a Promise that resolves with the stored value. If the key doesn’t exist, it resolves with <code>null</code>. It rejects with an error if the operation fails.</p>
<div class="sourceCode" id="cb4"><pre class="sourceCode javascript"><code class="sourceCode javascript"><span id="cb4-1"><a href="#cb4-1" aria-hidden="true" tabindex="-1"></a>localforage<span class="op">.</span><span class="fu">getItem</span>(<span class="st">'myKey'</span>)<span class="op">.</span><span class="fu">then</span>(value <span class="kw">=&gt;</span> {</span>
<span id="cb4-2"><a href="#cb4-2" aria-hidden="true" tabindex="-1"></a>  <span class="bu">console</span><span class="op">.</span><span class="fu">log</span>(<span class="st">'Retrieved value:'</span><span class="op">,</span> value)<span class="op">;</span></span>
<span id="cb4-3"><a href="#cb4-3" aria-hidden="true" tabindex="-1"></a>})<span class="op">.</span><span class="fu">catch</span>(err <span class="kw">=&gt;</span> {</span>
<span id="cb4-4"><a href="#cb4-4" aria-hidden="true" tabindex="-1"></a>  <span class="bu">console</span><span class="op">.</span><span class="fu">error</span>(<span class="st">'Error retrieving value:'</span><span class="op">,</span> err)<span class="op">;</span></span>
<span id="cb4-5"><a href="#cb4-5" aria-hidden="true" tabindex="-1"></a>})<span class="op">;</span></span></code></pre></div>
<h3 id="removeitemkey"><code>removeItem(key)</code></h3>
<p>Removes the value associated with a given key. The key must be a string. The method returns a Promise that resolves when the operation is complete. It rejects with an error if the operation fails (e.g., the key doesn’t exist).</p>
<div class="sourceCode" id="cb5"><pre class="sourceCode javascript"><code class="sourceCode javascript"><span id="cb5-1"><a href="#cb5-1" aria-hidden="true" tabindex="-1"></a>localforage<span class="op">.</span><span class="fu">removeItem</span>(<span class="st">'myKey'</span>)<span class="op">.</span><span class="fu">then</span>(() <span class="kw">=&gt;</span> {</span>
<span id="cb5-2"><a href="#cb5-2" aria-hidden="true" tabindex="-1"></a>  <span class="bu">console</span><span class="op">.</span><span class="fu">log</span>(<span class="st">'Value removed successfully!'</span>)<span class="op">;</span></span>
<span id="cb5-3"><a href="#cb5-3" aria-hidden="true" tabindex="-1"></a>})<span class="op">.</span><span class="fu">catch</span>(err <span class="kw">=&gt;</span> {</span>
<span id="cb5-4"><a href="#cb5-4" aria-hidden="true" tabindex="-1"></a>  <span class="bu">console</span><span class="op">.</span><span class="fu">error</span>(<span class="st">'Error removing value:'</span><span class="op">,</span> err)<span class="op">;</span></span>
<span id="cb5-5"><a href="#cb5-5" aria-hidden="true" tabindex="-1"></a>})<span class="op">;</span></span></code></pre></div>
<h3 id="clear"><code>clear()</code></h3>
<p>Removes all key-value pairs from the storage. Returns a Promise that resolves when the operation is complete and rejects if an error occurs.</p>
<div class="sourceCode" id="cb6"><pre class="sourceCode javascript"><code class="sourceCode javascript"><span id="cb6-1"><a href="#cb6-1" aria-hidden="true" tabindex="-1"></a>localforage<span class="op">.</span><span class="fu">clear</span>()<span class="op">.</span><span class="fu">then</span>(() <span class="kw">=&gt;</span> {</span>
<span id="cb6-2"><a href="#cb6-2" aria-hidden="true" tabindex="-1"></a>  <span class="bu">console</span><span class="op">.</span><span class="fu">log</span>(<span class="st">'Storage cleared successfully!'</span>)<span class="op">;</span></span>
<span id="cb6-3"><a href="#cb6-3" aria-hidden="true" tabindex="-1"></a>})<span class="op">.</span><span class="fu">catch</span>(err <span class="kw">=&gt;</span> {</span>
<span id="cb6-4"><a href="#cb6-4" aria-hidden="true" tabindex="-1"></a>  <span class="bu">console</span><span class="op">.</span><span class="fu">error</span>(<span class="st">'Error clearing storage:'</span><span class="op">,</span> err)<span class="op">;</span></span>
<span id="cb6-5"><a href="#cb6-5" aria-hidden="true" tabindex="-1"></a>})<span class="op">;</span></span></code></pre></div>
<h3 id="keyn"><code>key(n)</code></h3>
<p>Returns the nth key in the storage. <code>n</code> is a zero-based index. Returns a Promise that resolves with the key (as a string) at the specified index or <code>null</code> if the index is out of bounds. It rejects with an error if an error occurs during the operation.</p>
<div class="sourceCode" id="cb7"><pre class="sourceCode javascript"><code class="sourceCode javascript"><span id="cb7-1"><a href="#cb7-1" aria-hidden="true" tabindex="-1"></a>localforage<span class="op">.</span><span class="fu">key</span>(<span class="dv">0</span>)<span class="op">.</span><span class="fu">then</span>(key <span class="kw">=&gt;</span> {</span>
<span id="cb7-2"><a href="#cb7-2" aria-hidden="true" tabindex="-1"></a>  <span class="bu">console</span><span class="op">.</span><span class="fu">log</span>(<span class="st">'First key:'</span><span class="op">,</span> key)<span class="op">;</span></span>
<span id="cb7-3"><a href="#cb7-3" aria-hidden="true" tabindex="-1"></a>})<span class="op">.</span><span class="fu">catch</span>(err <span class="kw">=&gt;</span> {</span>
<span id="cb7-4"><a href="#cb7-4" aria-hidden="true" tabindex="-1"></a>  <span class="bu">console</span><span class="op">.</span><span class="fu">error</span>(<span class="st">'Error getting key:'</span><span class="op">,</span> err)<span class="op">;</span></span>
<span id="cb7-5"><a href="#cb7-5" aria-hidden="true" tabindex="-1"></a>})<span class="op">;</span></span></code></pre></div>
<h3 id="length"><code>length()</code></h3>
<p>Returns the number of key-value pairs in the storage. Returns a Promise that resolves with the number of items. Rejects with an error if an error occurs.</p>
<div class="sourceCode" id="cb8"><pre class="sourceCode javascript"><code class="sourceCode javascript"><span id="cb8-1"><a href="#cb8-1" aria-hidden="true" tabindex="-1"></a>localforage<span class="op">.</span><span class="fu">length</span>()<span class="op">.</span><span class="fu">then</span>(length <span class="kw">=&gt;</span> {</span>
<span id="cb8-2"><a href="#cb8-2" aria-hidden="true" tabindex="-1"></a>  <span class="bu">console</span><span class="op">.</span><span class="fu">log</span>(<span class="st">'Number of items:'</span><span class="op">,</span> length)<span class="op">;</span></span>
<span id="cb8-3"><a href="#cb8-3" aria-hidden="true" tabindex="-1"></a>})<span class="op">.</span><span class="fu">catch</span>(err <span class="kw">=&gt;</span> {</span>
<span id="cb8-4"><a href="#cb8-4" aria-hidden="true" tabindex="-1"></a>  <span class="bu">console</span><span class="op">.</span><span class="fu">error</span>(<span class="st">'Error getting length:'</span><span class="op">,</span> err)<span class="op">;</span></span>
<span id="cb8-5"><a href="#cb8-5" aria-hidden="true" tabindex="-1"></a>})<span class="op">;</span></span></code></pre></div>
<h3 id="iteratecallback"><code>iterate(callback)</code></h3>
<p>Iterates over each key-value pair in the storage, calling the provided callback function for each one. The callback function receives the value and the key as arguments. The method returns a Promise that resolves when all items have been iterated, or rejects if an error occurs.</p>
<div class="sourceCode" id="cb9"><pre class="sourceCode javascript"><code class="sourceCode javascript"><span id="cb9-1"><a href="#cb9-1" aria-hidden="true" tabindex="-1"></a>localforage<span class="op">.</span><span class="fu">iterate</span>((value<span class="op">,</span> key) <span class="kw">=&gt;</span> {</span>
<span id="cb9-2"><a href="#cb9-2" aria-hidden="true" tabindex="-1"></a>  <span class="bu">console</span><span class="op">.</span><span class="fu">log</span>(<span class="st">'Key:'</span><span class="op">,</span> key<span class="op">,</span> <span class="st">', Value:'</span><span class="op">,</span> value)<span class="op">;</span></span>
<span id="cb9-3"><a href="#cb9-3" aria-hidden="true" tabindex="-1"></a>})<span class="op">.</span><span class="fu">then</span>(() <span class="kw">=&gt;</span> {</span>
<span id="cb9-4"><a href="#cb9-4" aria-hidden="true" tabindex="-1"></a>  <span class="bu">console</span><span class="op">.</span><span class="fu">log</span>(<span class="st">'Iteration complete'</span>)<span class="op">;</span></span>
<span id="cb9-5"><a href="#cb9-5" aria-hidden="true" tabindex="-1"></a>})<span class="op">.</span><span class="fu">catch</span>(err <span class="kw">=&gt;</span> {</span>
<span id="cb9-6"><a href="#cb9-6" aria-hidden="true" tabindex="-1"></a>  <span class="bu">console</span><span class="op">.</span><span class="fu">error</span>(<span class="st">'Error during iteration:'</span><span class="op">,</span> err)<span class="op">;</span></span>
<span id="cb9-7"><a href="#cb9-7" aria-hidden="true" tabindex="-1"></a>})<span class="op">;</span></span></code></pre></div>
<h3 id="keys"><code>keys()</code></h3>
<p>Returns a Promise that resolves with an array of all keys in the storage. Rejects with an error if an error occurs.</p>
<div class="sourceCode" id="cb10"><pre class="sourceCode javascript"><code class="sourceCode javascript"><span id="cb10-1"><a href="#cb10-1" aria-hidden="true" tabindex="-1"></a>localforage<span class="op">.</span><span class="fu">keys</span>()<span class="op">.</span><span class="fu">then</span>(keys <span class="kw">=&gt;</span> {</span>
<span id="cb10-2"><a href="#cb10-2" aria-hidden="true" tabindex="-1"></a>  <span class="bu">console</span><span class="op">.</span><span class="fu">log</span>(<span class="st">'All keys:'</span><span class="op">,</span> keys)<span class="op">;</span></span>
<span id="cb10-3"><a href="#cb10-3" aria-hidden="true" tabindex="-1"></a>})<span class="op">.</span><span class="fu">catch</span>(err <span class="kw">=&gt;</span> {</span>
<span id="cb10-4"><a href="#cb10-4" aria-hidden="true" tabindex="-1"></a>  <span class="bu">console</span><span class="op">.</span><span class="fu">error</span>(<span class="st">'Error getting keys:'</span><span class="op">,</span> err)<span class="op">;</span></span>
<span id="cb10-5"><a href="#cb10-5" aria-hidden="true" tabindex="-1"></a>})<span class="op">;</span></span></code></pre></div>
<h2 id="advanced-usage">Advanced Usage</h2>
<h3 id="working-with-different-storage-drivers">Working with different storage drivers</h3>
<p>localForage prioritizes IndexedDB, falling back to WebSQL (deprecated) and then localStorage. You can explicitly specify a driver if needed, though this is generally unnecessary. To force a specific driver, use the <code>localforage.setDriver()</code> method <em>before</em> any other localForage operations. The available drivers are: <code>localforage.LOCALSTORAGE</code>, <code>localforage.INDEXEDDB</code>, and <code>localforage.WEBSQL</code>.</p>
<div class="sourceCode" id="cb11"><pre class="sourceCode javascript"><code class="sourceCode javascript"><span id="cb11-1"><a href="#cb11-1" aria-hidden="true" tabindex="-1"></a><span class="co">// Force the use of localStorage</span></span>
<span id="cb11-2"><a href="#cb11-2" aria-hidden="true" tabindex="-1"></a>localforage<span class="op">.</span><span class="fu">setDriver</span>(localforage<span class="op">.</span><span class="at">LOCALSTORAGE</span>)<span class="op">.</span><span class="fu">then</span>(() <span class="kw">=&gt;</span> {</span>
<span id="cb11-3"><a href="#cb11-3" aria-hidden="true" tabindex="-1"></a>  <span class="co">// Your localForage operations here</span></span>
<span id="cb11-4"><a href="#cb11-4" aria-hidden="true" tabindex="-1"></a>})<span class="op">.</span><span class="fu">catch</span>(err <span class="kw">=&gt;</span> {</span>
<span id="cb11-5"><a href="#cb11-5" aria-hidden="true" tabindex="-1"></a>  <span class="bu">console</span><span class="op">.</span><span class="fu">error</span>(<span class="st">'Error setting driver:'</span><span class="op">,</span> err)<span class="op">;</span></span>
<span id="cb11-6"><a href="#cb11-6" aria-hidden="true" tabindex="-1"></a>})<span class="op">;</span></span></code></pre></div>
<p>Note that forcing a specific driver might lead to reduced functionality or performance if that driver isn’t supported or suitable for the data being stored.</p>
<h3 id="driver-configuration">Driver Configuration</h3>
<p>While automatic driver selection is usually sufficient, you can fine-tune the behavior of individual drivers. This is particularly useful for IndexedDB where you can customize database name and version. Configuration is done through the <code>config</code> option when initializing localForage (or using <code>localforage.config()</code> before any other operations).</p>
<div class="sourceCode" id="cb12"><pre class="sourceCode javascript"><code class="sourceCode javascript"><span id="cb12-1"><a href="#cb12-1" aria-hidden="true" tabindex="-1"></a>localforage<span class="op">.</span><span class="fu">config</span>({</span>
<span id="cb12-2"><a href="#cb12-2" aria-hidden="true" tabindex="-1"></a>  <span class="dt">name</span><span class="op">:</span> <span class="st">'myDatabase'</span><span class="op">,</span> <span class="co">// IndexedDB database name</span></span>
<span id="cb12-3"><a href="#cb12-3" aria-hidden="true" tabindex="-1"></a>  <span class="dt">version</span><span class="op">:</span> <span class="dv">1</span><span class="op">,</span>         <span class="co">// IndexedDB database version</span></span>
<span id="cb12-4"><a href="#cb12-4" aria-hidden="true" tabindex="-1"></a>  <span class="dt">storeName</span><span class="op">:</span> <span class="st">'keyvaluepairs'</span><span class="op">,</span> <span class="co">// IndexedDB store name</span></span>
<span id="cb12-5"><a href="#cb12-5" aria-hidden="true" tabindex="-1"></a>  <span class="dt">description</span><span class="op">:</span> <span class="st">'My localForage database'</span> <span class="co">// IndexedDB database description (optional)</span></span>
<span id="cb12-6"><a href="#cb12-6" aria-hidden="true" tabindex="-1"></a>})<span class="op">.</span><span class="fu">then</span>(<span class="kw">function</span>() {</span>
<span id="cb12-7"><a href="#cb12-7" aria-hidden="true" tabindex="-1"></a>    <span class="co">// Your code here</span></span>
<span id="cb12-8"><a href="#cb12-8" aria-hidden="true" tabindex="-1"></a>})<span class="op">;</span></span></code></pre></div>
<p>Refer to the localForage documentation for the complete list of configurable options for each driver. Incorrect configuration can lead to errors.</p>
<h3 id="error-handling">Error Handling</h3>
<p>All localForage methods return Promises, allowing for robust error handling using <code>.catch()</code>. Errors can occur due to various reasons, such as storage quota limitations, browser restrictions, or driver-specific issues. Always include error handling in your code to gracefully handle potential failures.</p>
<div class="sourceCode" id="cb13"><pre class="sourceCode javascript"><code class="sourceCode javascript"><span id="cb13-1"><a href="#cb13-1" aria-hidden="true" tabindex="-1"></a>localforage<span class="op">.</span><span class="fu">setItem</span>(<span class="st">'myKey'</span><span class="op">,</span> <span class="st">'myValue'</span>)<span class="op">.</span><span class="fu">then</span>(() <span class="kw">=&gt;</span> {</span>
<span id="cb13-2"><a href="#cb13-2" aria-hidden="true" tabindex="-1"></a>  <span class="co">// Success</span></span>
<span id="cb13-3"><a href="#cb13-3" aria-hidden="true" tabindex="-1"></a>})<span class="op">.</span><span class="fu">catch</span>(err <span class="kw">=&gt;</span> {</span>
<span id="cb13-4"><a href="#cb13-4" aria-hidden="true" tabindex="-1"></a>  <span class="bu">console</span><span class="op">.</span><span class="fu">error</span>(<span class="st">'Error:'</span><span class="op">,</span> err)<span class="op">;</span> <span class="co">// Handle error appropriately</span></span>
<span id="cb13-5"><a href="#cb13-5" aria-hidden="true" tabindex="-1"></a>  <span class="co">// For example, display a user-friendly error message, retry, or fallback to alternative storage.</span></span>
<span id="cb13-6"><a href="#cb13-6" aria-hidden="true" tabindex="-1"></a>})<span class="op">;</span></span></code></pre></div>
<h3 id="asynchronous-operations-and-promises">Asynchronous Operations and Promises</h3>
<p>localForage utilizes Promises extensively for all its operations. This ensures that your application remains responsive, preventing blocking while waiting for storage operations to complete. Always use <code>.then()</code> to handle successful operations and <code>.catch()</code> for error handling. Avoid using <code>.done()</code> which is deprecated.</p>
<h3 id="batch-operations">Batch Operations</h3>
<p>For multiple <code>setItem</code> calls, consider using a single Promise.all to improve performance. This reduces the overhead of multiple asynchronous calls.</p>
<div class="sourceCode" id="cb14"><pre class="sourceCode javascript"><code class="sourceCode javascript"><span id="cb14-1"><a href="#cb14-1" aria-hidden="true" tabindex="-1"></a><span class="kw">const</span> promises <span class="op">=</span> [</span>
<span id="cb14-2"><a href="#cb14-2" aria-hidden="true" tabindex="-1"></a>  localforage<span class="op">.</span><span class="fu">setItem</span>(<span class="st">'key1'</span><span class="op">,</span> <span class="st">'value1'</span>)<span class="op">,</span></span>
<span id="cb14-3"><a href="#cb14-3" aria-hidden="true" tabindex="-1"></a>  localforage<span class="op">.</span><span class="fu">setItem</span>(<span class="st">'key2'</span><span class="op">,</span> <span class="st">'value2'</span>)<span class="op">,</span></span>
<span id="cb14-4"><a href="#cb14-4" aria-hidden="true" tabindex="-1"></a>  localforage<span class="op">.</span><span class="fu">setItem</span>(<span class="st">'key3'</span><span class="op">,</span> <span class="st">'value3'</span>)</span>
<span id="cb14-5"><a href="#cb14-5" aria-hidden="true" tabindex="-1"></a>]<span class="op">;</span></span>
<span id="cb14-6"><a href="#cb14-6" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb14-7"><a href="#cb14-7" aria-hidden="true" tabindex="-1"></a><span class="bu">Promise</span><span class="op">.</span><span class="fu">all</span>(promises)</span>
<span id="cb14-8"><a href="#cb14-8" aria-hidden="true" tabindex="-1"></a>  <span class="op">.</span><span class="fu">then</span>(() <span class="kw">=&gt;</span> <span class="bu">console</span><span class="op">.</span><span class="fu">log</span>(<span class="st">'All items set'</span>))</span>
<span id="cb14-9"><a href="#cb14-9" aria-hidden="true" tabindex="-1"></a>  <span class="op">.</span><span class="fu">catch</span>(error <span class="kw">=&gt;</span> <span class="bu">console</span><span class="op">.</span><span class="fu">error</span>(<span class="st">'Error setting items:'</span><span class="op">,</span> error))<span class="op">;</span></span></code></pre></div>
<h3 id="managing-storage-space">Managing Storage Space</h3>
<p>localForage relies on the browser’s built-in storage mechanisms. If storage space is limited, exceeding the quota will result in errors. To manage storage space:</p>
<ul>
<li><strong>Regularly clear unused data:</strong> Use <code>localforage.removeItem()</code> or <code>localforage.clear()</code> to remove data that’s no longer needed.</li>
<li><strong>Optimize data size:</strong> Store data efficiently; consider using smaller data types or compressing data before storage.</li>
<li><strong>Implement a caching strategy:</strong> Cache frequently accessed data in memory while storing less frequently used data persistently.</li>
</ul>
<h3 id="performance-considerations">Performance Considerations</h3>
<p>For optimal performance:</p>
<ul>
<li><strong>Use appropriate data structures:</strong> Avoid excessively large objects; consider using smaller data structures where possible.</li>
<li><strong>Batch operations where feasible:</strong> Use <code>Promise.all</code> for multiple simultaneous operations.</li>
<li><strong>Avoid unnecessary reads and writes:</strong> Cache data if access patterns allow.</li>
<li><strong>Choose the correct driver:</strong> IndexedDB is generally faster for large datasets compared to localStorage.</li>
</ul>
<h3 id="migrating-from-other-storage-solutions">Migrating from other storage solutions</h3>
<p>Migrating from other storage solutions involves extracting data from the old system and importing it into localForage. The exact steps depend on the source storage solution but generally include:</p>
<ol type="1">
<li><strong>Data Extraction:</strong> Retrieve all data from the existing storage mechanism.</li>
<li><strong>Data Transformation (if needed):</strong> Convert data to a format compatible with localForage (usually JSON).</li>
<li><strong>Data Import:</strong> Use <code>localforage.setItem()</code> to insert the transformed data into localForage.</li>
<li><strong>Verification:</strong> Verify that the data has been migrated successfully.</li>
<li><strong>Old System Removal:</strong> After successful migration, remove the old storage mechanism if no longer needed. This step needs careful consideration, potentially involving a backup to prevent data loss.</li>
</ol>
<h2 id="examples-and-use-cases">Examples and Use Cases</h2>
<h3 id="simple-key-value-storage">Simple Key-Value Storage</h3>
<p>This example demonstrates basic key-value storage using <code>setItem</code> and <code>getItem</code>.</p>
<div class="sourceCode" id="cb15"><pre class="sourceCode javascript"><code class="sourceCode javascript"><span id="cb15-1"><a href="#cb15-1" aria-hidden="true" tabindex="-1"></a>localforage<span class="op">.</span><span class="fu">setItem</span>(<span class="st">'username'</span><span class="op">,</span> <span class="st">'john_doe'</span>)<span class="op">.</span><span class="fu">then</span>(() <span class="kw">=&gt;</span> {</span>
<span id="cb15-2"><a href="#cb15-2" aria-hidden="true" tabindex="-1"></a>  localforage<span class="op">.</span><span class="fu">getItem</span>(<span class="st">'username'</span>)<span class="op">.</span><span class="fu">then</span>(username <span class="kw">=&gt;</span> {</span>
<span id="cb15-3"><a href="#cb15-3" aria-hidden="true" tabindex="-1"></a>    <span class="bu">console</span><span class="op">.</span><span class="fu">log</span>(<span class="st">'Username:'</span><span class="op">,</span> username)<span class="op">;</span> <span class="co">// Output: Username: john_doe</span></span>
<span id="cb15-4"><a href="#cb15-4" aria-hidden="true" tabindex="-1"></a>  })<span class="op">;</span></span>
<span id="cb15-5"><a href="#cb15-5" aria-hidden="true" tabindex="-1"></a>})<span class="op">;</span></span></code></pre></div>
<p>This stores the string “john_doe” under the key “username” and then retrieves it. Error handling should be added for production use.</p>
<h3 id="storing-complex-data-structures">Storing Complex Data Structures</h3>
<p>localForage handles complex data structures by serializing them using JSON.stringify. Ensure that your data is serializable before storing it.</p>
<div class="sourceCode" id="cb16"><pre class="sourceCode javascript"><code class="sourceCode javascript"><span id="cb16-1"><a href="#cb16-1" aria-hidden="true" tabindex="-1"></a><span class="kw">const</span> user <span class="op">=</span> {</span>
<span id="cb16-2"><a href="#cb16-2" aria-hidden="true" tabindex="-1"></a>  <span class="dt">name</span><span class="op">:</span> <span class="st">'Jane Doe'</span><span class="op">,</span></span>
<span id="cb16-3"><a href="#cb16-3" aria-hidden="true" tabindex="-1"></a>  <span class="dt">email</span><span class="op">:</span> <span class="st">'jane.doe@example.com'</span><span class="op">,</span></span>
<span id="cb16-4"><a href="#cb16-4" aria-hidden="true" tabindex="-1"></a>  <span class="dt">age</span><span class="op">:</span> <span class="dv">30</span></span>
<span id="cb16-5"><a href="#cb16-5" aria-hidden="true" tabindex="-1"></a>}<span class="op">;</span></span>
<span id="cb16-6"><a href="#cb16-6" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb16-7"><a href="#cb16-7" aria-hidden="true" tabindex="-1"></a>localforage<span class="op">.</span><span class="fu">setItem</span>(<span class="st">'user'</span><span class="op">,</span> user)<span class="op">.</span><span class="fu">then</span>(() <span class="kw">=&gt;</span> {</span>
<span id="cb16-8"><a href="#cb16-8" aria-hidden="true" tabindex="-1"></a>  localforage<span class="op">.</span><span class="fu">getItem</span>(<span class="st">'user'</span>)<span class="op">.</span><span class="fu">then</span>(retrievedUser <span class="kw">=&gt;</span> {</span>
<span id="cb16-9"><a href="#cb16-9" aria-hidden="true" tabindex="-1"></a>    <span class="bu">console</span><span class="op">.</span><span class="fu">log</span>(<span class="st">'Retrieved User:'</span><span class="op">,</span> retrievedUser)<span class="op">;</span> <span class="co">// Output: Retrieved User: {name: "Jane Doe", email: "jane.doe@example.com", age: 30}</span></span>
<span id="cb16-10"><a href="#cb16-10" aria-hidden="true" tabindex="-1"></a>  })<span class="op">;</span></span>
<span id="cb16-11"><a href="#cb16-11" aria-hidden="true" tabindex="-1"></a>})<span class="op">;</span></span></code></pre></div>
<p>Note that the retrieved <code>retrievedUser</code> will be a JavaScript object, not a JSON string.</p>
<h3 id="caching-data">Caching Data</h3>
<p>localForage is well-suited for caching data fetched from a remote server. Store fetched data with a key representing the data’s source and update/remove it as appropriate.</p>
<div class="sourceCode" id="cb17"><pre class="sourceCode javascript"><code class="sourceCode javascript"><span id="cb17-1"><a href="#cb17-1" aria-hidden="true" tabindex="-1"></a><span class="kw">function</span> <span class="fu">fetchData</span>(url) {</span>
<span id="cb17-2"><a href="#cb17-2" aria-hidden="true" tabindex="-1"></a>  <span class="cf">return</span> <span class="fu">fetch</span>(url)</span>
<span id="cb17-3"><a href="#cb17-3" aria-hidden="true" tabindex="-1"></a>    <span class="op">.</span><span class="fu">then</span>(response <span class="kw">=&gt;</span> response<span class="op">.</span><span class="fu">json</span>())</span>
<span id="cb17-4"><a href="#cb17-4" aria-hidden="true" tabindex="-1"></a>    <span class="op">.</span><span class="fu">then</span>(data <span class="kw">=&gt;</span> {</span>
<span id="cb17-5"><a href="#cb17-5" aria-hidden="true" tabindex="-1"></a>      localforage<span class="op">.</span><span class="fu">setItem</span>(<span class="st">'cachedData-'</span> <span class="op">+</span> url<span class="op">,</span> data)<span class="op">;</span></span>
<span id="cb17-6"><a href="#cb17-6" aria-hidden="true" tabindex="-1"></a>      <span class="cf">return</span> data<span class="op">;</span></span>
<span id="cb17-7"><a href="#cb17-7" aria-hidden="true" tabindex="-1"></a>    })<span class="op">;</span></span>
<span id="cb17-8"><a href="#cb17-8" aria-hidden="true" tabindex="-1"></a>}</span>
<span id="cb17-9"><a href="#cb17-9" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb17-10"><a href="#cb17-10" aria-hidden="true" tabindex="-1"></a><span class="kw">function</span> <span class="fu">getCachedData</span>(url) {</span>
<span id="cb17-11"><a href="#cb17-11" aria-hidden="true" tabindex="-1"></a>  <span class="cf">return</span> localforage<span class="op">.</span><span class="fu">getItem</span>(<span class="st">'cachedData-'</span> <span class="op">+</span> url)</span>
<span id="cb17-12"><a href="#cb17-12" aria-hidden="true" tabindex="-1"></a>    <span class="op">.</span><span class="fu">then</span>(data <span class="kw">=&gt;</span> data <span class="op">||</span> <span class="fu">fetchData</span>(url))<span class="op">;</span> <span class="co">// Fetch if not cached</span></span>
<span id="cb17-13"><a href="#cb17-13" aria-hidden="true" tabindex="-1"></a>}</span>
<span id="cb17-14"><a href="#cb17-14" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb17-15"><a href="#cb17-15" aria-hidden="true" tabindex="-1"></a><span class="fu">getCachedData</span>(<span class="st">'/api/users'</span>)</span>
<span id="cb17-16"><a href="#cb17-16" aria-hidden="true" tabindex="-1"></a>  <span class="op">.</span><span class="fu">then</span>(data <span class="kw">=&gt;</span> <span class="bu">console</span><span class="op">.</span><span class="fu">log</span>(<span class="st">'Users:'</span><span class="op">,</span> data))<span class="op">;</span></span></code></pre></div>
<p>This example checks for cached data before making a network request.</p>
<h3 id="building-offline-first-applications">Building Offline-First Applications</h3>
<p>Offline-first applications rely on local storage to provide functionality even without an internet connection. localForage enables this by allowing you to store application data locally and synchronize it with a server when connectivity is restored.</p>
<div class="sourceCode" id="cb18"><pre class="sourceCode javascript"><code class="sourceCode javascript"><span id="cb18-1"><a href="#cb18-1" aria-hidden="true" tabindex="-1"></a><span class="co">// Store data locally when creating a new item.</span></span>
<span id="cb18-2"><a href="#cb18-2" aria-hidden="true" tabindex="-1"></a><span class="kw">function</span> <span class="fu">createItem</span>(item) {</span>
<span id="cb18-3"><a href="#cb18-3" aria-hidden="true" tabindex="-1"></a>    localforage<span class="op">.</span><span class="fu">setItem</span>(<span class="st">'item-'</span> <span class="op">+</span> item<span class="op">.</span><span class="at">id</span><span class="op">,</span> item)<span class="op">.</span><span class="fu">then</span>(() <span class="kw">=&gt;</span> {</span>
<span id="cb18-4"><a href="#cb18-4" aria-hidden="true" tabindex="-1"></a>        <span class="co">// Optionally, queue the item for synchronization with a server.</span></span>
<span id="cb18-5"><a href="#cb18-5" aria-hidden="true" tabindex="-1"></a>    })<span class="op">;</span></span>
<span id="cb18-6"><a href="#cb18-6" aria-hidden="true" tabindex="-1"></a>}</span>
<span id="cb18-7"><a href="#cb18-7" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb18-8"><a href="#cb18-8" aria-hidden="true" tabindex="-1"></a><span class="co">// Load data on application startup.</span></span>
<span id="cb18-9"><a href="#cb18-9" aria-hidden="true" tabindex="-1"></a>localforage<span class="op">.</span><span class="fu">keys</span>()<span class="op">.</span><span class="fu">then</span>(keys <span class="kw">=&gt;</span> {</span>
<span id="cb18-10"><a href="#cb18-10" aria-hidden="true" tabindex="-1"></a>  <span class="kw">const</span> promises <span class="op">=</span> keys<span class="op">.</span><span class="fu">map</span>(key <span class="kw">=&gt;</span> localforage<span class="op">.</span><span class="fu">getItem</span>(key))<span class="op">;</span></span>
<span id="cb18-11"><a href="#cb18-11" aria-hidden="true" tabindex="-1"></a>  <span class="bu">Promise</span><span class="op">.</span><span class="fu">all</span>(promises)<span class="op">.</span><span class="fu">then</span>(items <span class="kw">=&gt;</span> {</span>
<span id="cb18-12"><a href="#cb18-12" aria-hidden="true" tabindex="-1"></a>    <span class="co">// Process items and update the UI.</span></span>
<span id="cb18-13"><a href="#cb18-13" aria-hidden="true" tabindex="-1"></a>  })<span class="op">;</span></span>
<span id="cb18-14"><a href="#cb18-14" aria-hidden="true" tabindex="-1"></a>})<span class="op">;</span></span></code></pre></div>
<p>This showcases storing items locally, loading them at startup, and suggesting a mechanism to synchronize with a server later.</p>
<h3 id="integrating-with-other-libraries">Integrating with other libraries</h3>
<p>localForage integrates well with other JavaScript libraries. You can use it in conjunction with frameworks like React, Angular, Vue.js, and others. It also pairs well with libraries for handling data synchronization or background tasks. The integration usually involves using localForage’s API within the context of the other library’s methods and lifecycle. For example, you might use localForage to persist application state in a React application within a component’s <code>useEffect</code> hook or store data used by a Vue.js application within a Vuex store. No special integration code is typically required; you simply use localForage API calls within your existing application code.</p>
<h2 id="security-considerations">Security Considerations</h2>
<h3 id="data-protection">Data Protection</h3>
<p>localForage itself does not provide encryption or any specific mechanisms for protecting data at rest. The security of data stored using localForage depends entirely on the browser’s security model and the security of the overall application. Sensitive data should <strong>never</strong> be stored directly using localForage without appropriate encryption. Consider using a library that provides encryption capabilities before storing sensitive data (e.g., encrypting the data before storing it in localForage and decrypting it upon retrieval). The responsibility for securing sensitive data rests entirely with the application developer. The browser’s storage mechanisms (localStorage, IndexedDB) are subject to the same security implications as other browser-based storage mechanisms.</p>
<h3 id="cross-origin-resource-sharing-cors">Cross-Origin Resource Sharing (CORS)</h3>
<p>CORS is not directly relevant to localForage because it operates within the context of a single origin (the website or application that’s using it). localForage only interacts with the browser’s storage mechanisms available to that origin. Data stored in localForage using one origin is not accessible to scripts from a different origin. This inherent browser-level security prevents cross-origin access.</p>
<h3 id="protecting-against-xss-attacks">Protecting against XSS attacks</h3>
<p>Cross-Site Scripting (XSS) attacks are a significant web security risk. localForage itself does not directly prevent XSS attacks; rather, secure coding practices are crucial. XSS vulnerabilities arise from improperly handling user-supplied data. When using localForage, ensure that you sanitize and escape any user-provided input before storing it. Never directly insert user-supplied data into keys or values in localForage without appropriate validation and sanitization. Improper handling of data could allow an attacker to inject malicious scripts into your application’s data, potentially leading to compromised user data or other harmful consequences. Use a robust input validation and sanitization library to mitigate the risk of XSS vulnerabilities within the broader application context, including data handled by localForage.</p>
<h2 id="contributing">Contributing</h2>
<p>We welcome contributions to localForage! Whether it’s fixing bugs, adding features, or improving documentation, your help is valuable. Here’s how to get started:</p>
<h3 id="setting-up-the-development-environment">Setting up the Development Environment</h3>
<ol type="1">
<li><p><strong>Clone the repository:</strong> Clone the localForage repository from GitHub:</p>
<div class="sourceCode" id="cb19"><pre class="sourceCode bash"><code class="sourceCode bash"><span id="cb19-1"><a href="#cb19-1" aria-hidden="true" tabindex="-1"></a><span class="fu">git</span> clone https://github.com/localForage/localForage.git</span></code></pre></div></li>
<li><p><strong>Install dependencies:</strong> Navigate to the project directory and install the necessary packages using npm or yarn:</p>
<div class="sourceCode" id="cb20"><pre class="sourceCode bash"><code class="sourceCode bash"><span id="cb20-1"><a href="#cb20-1" aria-hidden="true" tabindex="-1"></a><span class="ex">npm</span> install</span>
<span id="cb20-2"><a href="#cb20-2" aria-hidden="true" tabindex="-1"></a><span class="co"># or</span></span>
<span id="cb20-3"><a href="#cb20-3" aria-hidden="true" tabindex="-1"></a><span class="ex">yarn</span> install</span></code></pre></div></li>
<li><p><strong>Run the development server (optional):</strong> A development server is usually available (check the project’s README) to aid in development and testing. Start it using the appropriate command. This might involve a command like <code>npm start</code> or <code>yarn start</code>.</p></li>
</ol>
<h3 id="coding-style-guide">Coding Style Guide</h3>
<p>Follow the existing coding style in the project. Consistency is key. Pay attention to:</p>
<ul>
<li><strong>Indentation:</strong> Use two spaces for indentation.</li>
<li><strong>Line length:</strong> Keep lines reasonably short (around 80 characters).</li>
<li><strong>Naming conventions:</strong> Adhere to consistent naming conventions used throughout the codebase.</li>
<li><strong>Comments:</strong> Write clear and concise comments to explain complex logic.</li>
</ul>
<p>Refer to any existing style guides (e.g., a <code>.editorconfig</code> file or a CONTRIBUTING.md file) within the repository for more specific guidelines.</p>
<h3 id="testing">Testing</h3>
<p>localForage has a comprehensive test suite. Before submitting a pull request, ensure that your changes don’t introduce regressions. Run the tests using the commands specified in the project’s README file. This typically involves using a command such as <code>npm test</code> or <code>yarn test</code>. The test suite often covers different browsers and edge cases. Addressing any test failures is crucial before merging your code.</p>
<h3 id="submitting-pull-requests">Submitting Pull Requests</h3>
<ol type="1">
<li><p><strong>Create a branch:</strong> Create a new branch for your changes:</p>
<div class="sourceCode" id="cb21"><pre class="sourceCode bash"><code class="sourceCode bash"><span id="cb21-1"><a href="#cb21-1" aria-hidden="true" tabindex="-1"></a><span class="fu">git</span> checkout <span class="at">-b</span> my-feature</span></code></pre></div></li>
<li><p><strong>Make your changes:</strong> Implement your changes, ensuring code quality and thorough testing.</p></li>
<li><p><strong>Commit your changes:</strong> Write clear and concise commit messages explaining your changes.</p>
<div class="sourceCode" id="cb22"><pre class="sourceCode bash"><code class="sourceCode bash"><span id="cb22-1"><a href="#cb22-1" aria-hidden="true" tabindex="-1"></a><span class="fu">git</span> add .</span>
<span id="cb22-2"><a href="#cb22-2" aria-hidden="true" tabindex="-1"></a><span class="fu">git</span> commit <span class="at">-m</span> <span class="st">"Fix: Resolved issue #123"</span></span></code></pre></div></li>
<li><p><strong>Push your branch:</strong> Push your branch to the remote repository:</p>
<div class="sourceCode" id="cb23"><pre class="sourceCode bash"><code class="sourceCode bash"><span id="cb23-1"><a href="#cb23-1" aria-hidden="true" tabindex="-1"></a><span class="fu">git</span> push origin my-feature</span></code></pre></div></li>
<li><p><strong>Create a pull request:</strong> Create a pull request on GitHub, clearly describing the changes you made and addressing any relevant issues. Provide a clear explanation of the problem you’re solving and how your changes address it. Also, mention any specific test cases that were added or modified. The maintainers may request changes; address these promptly and push updated commits to your branch.</p></li>
</ol>
<p>Remember to follow the project’s contribution guidelines (if any) for more specific instructions.</p>
<h2 id="appendix">Appendix</h2>
<h3 id="glossary-of-terms">Glossary of Terms</h3>
<ul>
<li><strong>Asynchronous:</strong> Operations that don’t block the execution of other code. They run in the background and typically use callbacks or Promises to signal completion.</li>
<li><strong>Driver:</strong> In the context of localForage, a driver refers to the underlying storage mechanism (localStorage, IndexedDB, WebSQL).</li>
<li><strong>IndexedDB:</strong> A browser database API for storing structured data.</li>
<li><strong>Key-Value Store:</strong> A data structure where data is stored as pairs of keys and values. The key is used to retrieve the associated value.</li>
<li><strong>localStorage:</strong> A browser API for storing relatively small amounts of data.</li>
<li><strong>Promise:</strong> An object representing the eventual completion (or failure) of an asynchronous operation.</li>
<li><strong>Serialization:</strong> The process of converting a data structure (like a JavaScript object) into a format suitable for storage or transmission (like a JSON string).</li>
<li><strong>WebSQL:</strong> A now-deprecated browser API for storing data in an SQL database.</li>
</ul>
<h3 id="frequently-asked-questions-faq">Frequently Asked Questions (FAQ)</h3>
<ul>
<li><p><strong>What is the difference between localForage and localStorage?</strong> localForage provides a unified API across multiple storage mechanisms (localStorage, IndexedDB, WebSQL), offers better performance for larger datasets, and handles asynchronous operations gracefully. localStorage is simpler but has limitations in size and asynchronous operation handling.</p></li>
<li><p><strong>Why are my operations failing?</strong> Check your error handling. Common causes include exceeding storage quotas, browser restrictions, and incorrect driver configuration. Consult the browser’s developer console for detailed error messages.</p></li>
<li><p><strong>How can I migrate from localStorage to localForage?</strong> Extract data from localStorage, convert it to a suitable format (like JSON), and then use <code>localforage.setItem()</code> to import it into localForage.</p></li>
<li><p><strong>Does localForage support encryption?</strong> No, localForage does not provide built-in encryption. You’ll need to encrypt data before storing it and decrypt it upon retrieval using a separate encryption library.</p></li>
<li><p><strong>Which driver should I use?</strong> localForage automatically selects the best driver. Forcing a specific driver is generally unnecessary unless you have specific requirements or need to handle unsupported drivers.</p></li>
</ul>
<h3 id="release-notes">Release Notes</h3>
<p>Release notes would typically be found in a separate file or section on the project’s website or repository. They detail changes, bug fixes, and new features in each release version of localForage.</p>
<h3 id="license">License</h3>
<p>localForage is typically licensed under either the MIT License or a similar permissive open-source license. Refer to the LICENSE file in the project’s repository for the exact terms and conditions of the license.</p>


<footer>Copyright 2025 - Muthukrishnan</footer>
<script async="" src="https://pagead2.googlesyndication.com/pagead/js/adsbygoogle.js?client=ca-pub-3609399560636561" crossorigin="anonymous"></script>




</body></html>