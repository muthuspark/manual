---
title: "MathJax - Documentation"
categories: [ "JavaScript Libraries and Functions" ]
---


### What is MathJax?

MathJax is a JavaScript display engine for mathematics that works in all modern browsers.  It allows you to include mathematical notation in your web pages using LaTeX, MathML, and AsciiMath markup.  Instead of relying on images or browser plugins, MathJax renders equations directly within the browser, resulting in high-quality, scalable output that adapts to the user's screen resolution and preferences.  This makes it ideal for websites, blogs, and online learning platforms that need to display mathematical formulas.

### Why use MathJax?

Using MathJax offers several key advantages:

* **Accessibility:** MathJax renders mathematics in a way that is accessible to screen readers and other assistive technologies, making your content more inclusive.
* **Scalability:**  Equations scale smoothly with the surrounding text, ensuring that they look sharp on any device, from small smartphones to large monitors.
* **Cross-browser compatibility:** It works consistently across a wide range of browsers, eliminating compatibility headaches.
* **Ease of use:**  The familiar LaTeX syntax makes it easy to write mathematical expressions, even for users who are not experts in web development.
* **Flexibility:**  Support for LaTeX, MathML, and AsciiMath allows you to choose the input method that best suits your needs and workflow.
* **Open source:** MathJax is freely available and actively developed by a community of contributors.

### Setting up MathJax

Including MathJax in your web page is straightforward.  The most common method is to include a script tag in the `<head>` section of your HTML document, pointing to a Content Delivery Network (CDN):

```html
<script type="text/javascript" async
  src="https://cdn.jsdelivr.net/npm/mathjax@3/es5/tex-chtml.js">
</script>
```

This line fetches the MathJax library from a CDN.  You can customize this URL to include additional configurations or to load different components of MathJax (e.g., support for other input languages).  Refer to the official MathJax documentation for advanced configuration options.  Once included, MathJax automatically processes any mathematical expressions enclosed in specific delimiters.


### Basic MathJax Syntax

MathJax primarily uses LaTeX syntax to render equations.  This is a powerful and widely used typesetting system for mathematics.  Here are some basic examples:

* **Inline mode:** To include an inline mathematical expression, enclose it in single dollar signs (`$...$`). For example, `$E=mc^2$` renders as $E=mc^2$.

* **Display mode:** For equations displayed on their own line, use double dollar signs (`$$...$$`). For example, `$$ \sum_{i=1}^{n} i = \frac{n(n+1)}{2} $$` renders as:
$$ \sum_{i=1}^{n} i = \frac{n(n+1)}{2} $$

* **Greek letters:** Use backslashes followed by the letter name.  For example, `$\alpha$`, `$\beta$`, `$\gamma$`, etc., render as $\alpha$, $\beta$, $\gamma$.

* **Superscripts and subscripts:** Use `^` for superscripts and `_` for subscripts.  For example, `$x^2$`, `$a_i$`, `$x_{i+1}^{2}$` render as $x^2$, $a_i$, $x_{i+1}^{2}$.

* **Fractions:** Use `\frac{numerator}{denominator}`. For example, `$\frac{1}{2}$` renders as $\frac{1}{2}$

* **Square roots:** Use `\sqrt{expression}`. For example, `$\sqrt{2}$` renders as $\sqrt{2}$.

This is just a small subset of the available LaTeX commands.  The MathJax documentation provides a comprehensive reference for all available commands and features.


## Basic Math Formulas

### Inline and Display Formulas

MathJax supports two main modes for rendering mathematical formulas: inline and display.

* **Inline formulas:**  These are formulas that appear within a line of text.  They are enclosed in single dollar signs (`$...$`). For example, `$E=mc^2$` renders as $E=mc^2$.  Inline formulas are typeset using the same font size as the surrounding text.

* **Display formulas:** These are formulas that are displayed on their own line, centered, and typically typeset in a larger font size.  They are enclosed in double dollar signs (`$$...$$`). For example,  `$$ \sum_{i=1}^{n} i = \frac{n(n+1)}{2} $$` renders as:
$$ \sum_{i=1}^{n} i = \frac{n(n+1)}{2} $$


### Greek Letters

Greek letters are rendered using a backslash followed by the letter's name. For example:

* `$\alpha$`, `$\beta$`, `$\gamma$` render as $\alpha$, $\beta$, $\gamma$.
* `$\delta$`, `$\epsilon$`, `$\zeta$` render as $\delta$, $\epsilon$, $\zeta$.
* Uppercase Greek letters are created by capitalizing the first letter: `$\Gamma$`, `$\Delta$`, `$\Theta` render as $\Gamma$, $\Delta$, $\Theta$.

A complete list of Greek letters and their LaTeX commands can be found in the MathJax documentation.


### Superscripts and Subscripts

Superscripts and subscripts are created using the `^` and `_` characters, respectively.  For example:

* `$x^2$` renders as $x^2$.
* `$a_i$` renders as $a_i$.
* `$x_{i+1}^{2}$` renders as $x_{i+1}^{2}$.

To create more complex superscripts or subscripts involving multiple characters, enclose them in curly braces `{}`. For example, `$x^{y+z}$` renders as $x^{y+z}$.


### Fractions

Fractions are created using the `\frac{numerator}{denominator}` command. For example:

* `$\frac{1}{2}$` renders as $\frac{1}{2}$.
* `$\frac{x+y}{z}$` renders as $\frac{x+y}{z}$.


### Roots

Square roots are created using the `\sqrt{expression}` command. For example:

* `$\sqrt{2}$` renders as $\sqrt{2}$.
* `$\sqrt{x^2 + y^2}$` renders as $\sqrt{x^2 + y^2}$.

For higher-order roots, use `\sqrt[n]{expression}`, where `n` is the root's order. For example: `$\sqrt[3]{8}$` renders as $\sqrt[3]{8}$.


### Sums and Integrals

Sums are created using `\sum`, and integrals are created using `\int`.  Limits are specified using subscripts and superscripts.  For example:

* `$\sum_{i=1}^{n} i$` renders as $\sum_{i=1}^{n} i$.
* `$\int_a^b f(x) \, dx$` renders as $\int_a^b f(x) \, dx$.  Note the `\,` adds a small space for better readability.


### Limits

Limits are created using `\lim`.  For example:

* `$\lim_{x \to 0} f(x)$` renders as $\lim_{x \to 0} f(x)$.


### Matrices

Matrices are created using the `\begin{matrix} ... \end{matrix}` environment.  Rows are separated by `\\`, and columns are separated by `&`.  For example:

```
$$
\begin{matrix}
a & b \\
c & d
\end{matrix}
$$
```

renders as:

$$
\begin{matrix}
a & b \\
c & d
\end{matrix}
$$

Different matrix types (like `pmatrix`, `bmatrix`, `Bmatrix`, `vmatrix`, `Vmatrix`) provide different delimiters.  Consult the MathJax documentation for details.


## Advanced Math Formulas

### Derivatives and Integrals

MathJax provides comprehensive support for expressing derivatives and integrals of varying complexity.

* **Derivatives:**  First-order derivatives are typically represented using a prime notation (e.g., `$f'(x)$` renders as $f'(x)$) or using the `\frac{d}{dx}` notation (e.g., `$\frac{df}{dx}$` renders as $\frac{df}{dx}$). Higher-order derivatives can be expressed using multiple primes (e.g., `$f''(x)$` renders as $f''(x)$) or by using the `\frac{d^n}{dx^n}` notation (e.g., `$\frac{d^2f}{dx^2}$` renders as $\frac{d^2f}{dx^2}$). Partial derivatives are represented using the `\partial` symbol (e.g., `$\frac{\partial f}{\partial x}$` renders as $\frac{\partial f}{\partial x}$).

* **Integrals:**  Definite integrals use the `\int_a^b` notation (e.g., `$\int_0^1 x^2 \, dx$` renders as $\int_0^1 x^2 \, dx$). Indefinite integrals use `\int` without limits (e.g., `$\int x^2 \, dx$` renders as $\int x^2 \, dx$). Multiple integrals can be expressed using nested integrals (e.g., `$\iint_D f(x,y) \, dA$` renders as $\iint_D f(x,y) \, dA$).  Line integrals and surface integrals require specialized notations detailed in the MathJax documentation.


### Vectors and Matrices

Beyond the basic matrix notation, MathJax supports more advanced vector and matrix operations.

* **Vectors:** Vectors can be represented using boldface (e.g., `$\mathbf{v}$` renders as $\mathbf{v}$) or using arrow notation (e.g., `$\vec{v}$` renders as $\vec{v}$).  Vector operations, such as dot products (`\cdot`) and cross products (`\times`), are readily expressed (e.g., `$\mathbf{u} \cdot \mathbf{v}$` renders as $\mathbf{u} \cdot \mathbf{v}$ and `$\mathbf{u} \times \mathbf{v}$` renders as $\mathbf{u} \times \mathbf{v}$).

* **Matrices:**  In addition to basic matrices, MathJax allows for augmented matrices, block matrices, and matrices with specific properties (symmetric, Hermitian, etc.) using appropriate LaTeX environments and commands.  Matrix operations, like transposition (`^T`), inverse (`^{-1}`), and determinants (`\det`), are easily incorporated.


### Sets and Logic

MathJax provides the necessary symbols and environments for expressing set theory and logical concepts.

* **Sets:** Set notation, including set-builder notation, unions (`\cup`), intersections (`\cap`), subsets (`\subset`), and elements (`\in`), is supported. For example, `$\{x \in \mathbb{R} \mid x > 0\}$` renders as $\{x \in \mathbb{R} \mid x > 0\}$.

* **Logic:** Logical operators like negation (`\neg`), conjunction (`\wedge`), disjunction (`\vee`), implication (`\implies`), and equivalence (`\iff`) are readily available.  Quantifiers like `\forall` (for all) and `\exists` (there exists) allow for the precise expression of logical statements.


### Differential Equations

Differential equations, both ordinary and partial, can be effectively expressed using MathJax.

* **Ordinary Differential Equations (ODEs):**  ODEs can be rendered using standard mathematical notation.  For example, `$\frac{dy}{dx} + 2y = 0$` renders as $\frac{dy}{dx} + 2y = 0$.

* **Partial Differential Equations (PDEs):**  PDEs involving partial derivatives are equally well-supported. For example,  `$\frac{\partial^2 u}{\partial x^2} + \frac{\partial^2 u}{\partial y^2} = 0$` renders as $\frac{\partial^2 u}{\partial x^2} + \frac{\partial^2 u}{\partial y^2} = 0$.


### Special Functions

MathJax supports a wide range of special functions commonly used in mathematics, physics, and engineering. These functions are typically represented using their standard LaTeX commands.  Examples include:

* **Gamma function:** `$\Gamma(z)$` renders as $\Gamma(z)$.
* **Beta function:** `$B(x,y)$` renders as $B(x,y)$.
* **Bessel functions:**  `$J_n(x)$`, `$Y_n(x)$` render as $J_n(x)$, $Y_n(x)$.
* **Error function:** `$\text{erf}(x)$` renders as $\text{erf}(x)$.
* **Hypergeometric functions:**  These require more complex notations, readily available in LaTeX.

Refer to the MathJax documentation and relevant LaTeX resources for a complete list and detailed usage instructions for special functions.


## MathJax Extensions

### AMSmath Package

The AMSmath package is a powerful extension that provides numerous functionalities for typesetting mathematics, significantly enhancing MathJax's capabilities beyond basic LaTeX.  It's automatically loaded in many MathJax configurations, but you might need to explicitly enable it depending on your setup.  Key features include:

* **Enhanced equation environments:** AMSmath provides improved environments for aligned equations (`align`, `align*`), gathered equations (`gather`, `gather*`), and numbered equations within a single environment (`equation`, `equation*`). These offer more control over equation alignment and numbering than basic LaTeX.

* **Matrices with delimiters:**  AMSmath simplifies creating matrices with various delimiters (parentheses, brackets, braces, etc.) using commands like `pmatrix`, `bmatrix`, `Bmatrix`, `vmatrix`, `Vmatrix`.

* **Multiline equations:**  Commands like `split` and `multline` enable the creation of multiline equations with precise control over alignment and numbering.

* **Fractions with adjustable sizes:**  AMSmath offers commands like `dfrac` (display-style fraction) and `tfrac` (text-style fraction) for better control over fraction sizing within different contexts.

* **Operators:**  AMSmath introduces several new mathematical operators, including `\iint`, `\iiint`, `\oint`, etc., for expressing multiple integrals and contour integrals more clearly.


### mhchem Package

The `mhchem` package is invaluable for rendering chemical formulas and equations with accuracy and clarity.  It needs to be explicitly enabled in your MathJax configuration.  Key features include:

* **Chemical formulas:**  Easily typeset chemical formulas, including subscripts and superscripts, with correct spacing and formatting. For example, `\ce{H2O}` renders as $\ce{H2O}$ and `\ce{Fe^3+}` renders as $\ce{Fe^3+}$.

* **Chemical reactions:** Represent chemical reactions with reactants and products, including reaction arrows and state symbols. For example,  `\ce{2H2 + O2 -> 2H2O}` renders as $\ce{2H2 + O2 -> 2H2O}$.

* **Isotopes:**  Specify isotopes using the `\ce{^12C}` notation (renders as $\ce{^12C}$).

* **Ions and charges:**  Correctly typeset ions and charges using superscripts and proper spacing.


### physics Package

The `physics` package significantly enhances MathJax's ability to render physics-related expressions, simplifying the typesetting of common physics notations.  Like `mhchem`, explicit configuration is usually required. Key features:

* **Vectors:**   Easily typeset vectors using a variety of notations:  `\vb{v}`, `\vv{v}`, `\v{v}` render as $\vb{v}$, $\vv{v}$, $\v{v}$.

* **Units:**  Include units within equations using dedicated commands.  This allows for consistent and clear representation of physical quantities.

* **Derivatives:** The package simplifies the typesetting of partial derivatives and other physics-specific derivative notations.


### Extending MathJax with Custom Macros

MathJax allows you to extend its functionality by defining custom macros using LaTeX's `\newcommand` and `\renewcommand` commands. This is particularly useful for creating shortcuts for frequently used expressions or notations specific to your application.

To define custom macros, you can either include them directly in your MathJax configuration or, for larger sets of macros, create a separate `.js` file with your definitions and load it using a `<script>` tag.

**Example (within MathJax configuration):**

```javascript
MathJax = {
  tex: {
    macros: {
      mymacro: ["\\frac{#1}{#2}", 2], // Defines a macro for fractions
      myconstant: "\\pi"             // Defines a macro for pi
    }
  }
};
```

Then, in your text, you can use `\mymacro{a}{b}` to produce $\mymacro{a}{b}$ and `\myconstant` to produce $\myconstant$.  Remember that macro definitions need to be valid LaTeX.  Complex macros may require careful escaping of special characters.


## Typesetting and Formatting

### Font Styles and Sizes

MathJax inherits its font handling from LaTeX, offering a range of styles and sizes for mathematical expressions. While automatic sizing is generally effective, you can exert more control using specific LaTeX commands:

* **Font styles:**  MathJax supports various font styles, including italics (default for variables), boldface (using `\mathbf{}` or `\boldsymbol{}`), and roman (upright) using commands like `\mathrm{}` for roman typeface.  Example: `$x$, $\mathbf{x}$, $\mathrm{x}$` renders as $x$, $\mathbf{x}$, $\mathrm{x}$.  `\boldsymbol{}` is preferred for bold symbols within math mode for better compatibility.

* **Font sizes:** Although MathJax largely handles font sizes automatically, you can influence the size using LaTeX commands like `\Large`, `\small`, `\footnotesize`, etc., though overuse can disrupt the overall document's visual harmony.  These commands typically affect the entire equation block they're placed within.

* **Specific character sizing:** For fine-grained control over individual characters or symbols within an equation, you might need to use more advanced LaTeX techniques, such as nested `\textstyle` or `\displaystyle` commands.


### Spacing and Alignment

Precise spacing and alignment are crucial for readability in mathematical expressions. MathJax provides several mechanisms to achieve this:

* **Spacing commands:** LaTeX commands like `\,` (thin space), `\;` (medium space), `\quad` (large space), and `\qquad` (very large space) adjust the horizontal spacing between elements.  Overuse should be avoided as it can negatively impact readability.

* **Equation alignment:**  The `align`, `align*`, `gather`, `gather*`, `equation`, and `equation*` environments (from the `amsmath` package) offer control over vertical alignment of equations.  Within these environments, `&` signifies the alignment point.

* **Vertical spacing:**  For adjusting vertical spacing between equations, you can sometimes use `\vspace{}` (for vertical spacing) but it's often best to rely on the natural spacing provided by MathJax and LaTeX environments.  Overuse of manual vertical spacing can lead to inconsistencies.


### Color and Style

While MathJax doesn't directly support color changes via simple inline commands within mathematical expressions in the same way that HTML does,  you can use CSS to style the output.  Directly styling the output using CSS is generally discouraged since it can conflict with updates and changes to MathJax's styles.  Instead, consider using MathJax's configuration options or extensions for more manageable styling.

* **CSS styling (limited and not recommended):**  You could attempt to target specific elements generated by MathJax using CSS selectors, but this is fragile and prone to breakage with MathJax updates. This approach is not recommended for anything but very specific and temporary situations.

* **Configuration options (preferred):**  MathJax's configuration options allow for some control over the appearance of rendered equations, such as setting default font families or modifying overall styles.

* **Extensions:**  MathJax extensions might provide more advanced styling options; however, always refer to the extension documentation for proper usage.


### Customizing the Appearance of Equations

For significant customization beyond what's offered by built-in features and extensions, more advanced techniques might be required.

* **Custom CSS (use cautiously):** If absolutely necessary, creating a custom CSS stylesheet targeting specific MathJax-generated classes can offer extensive control, but this demands careful consideration of potential conflicts with future MathJax updates and other stylesheets.  Always prioritize using MathJax's built-in mechanisms and configuration options before resorting to custom CSS styling.

* **Preprocessors:**  Using preprocessors like Pandoc can provide further formatting options that are then processed into MathJax-compatible markup.

* **Custom extensions (advanced):** Developing a custom MathJax extension grants the most control but demands advanced JavaScript knowledge.  This option is suitable only for developers comfortable with JavaScript and the MathJax API.  This is the most robust approach for substantial, long-term customizations.

Remember that extensive customization can make your content less portable and harder to maintain. Always strive for a balance between visual appeal and the robustness and maintainability of your code.


## Troubleshooting and Debugging

### Common Errors and Solutions

Several common issues arise when working with MathJax.  Here are some frequent problems and their solutions:

* **Equations not rendering:**  This often indicates a problem with the MathJax setup. Ensure the MathJax script is correctly included in your HTML `<head>` and that the URL points to a valid CDN or locally installed version.  Check the browser's console for JavaScript errors.  Also, ensure that your mathematical expressions are correctly enclosed in the appropriate delimiters (`$...$` for inline, `$$...$$` for display).

* **Incorrect rendering:**  Typos in LaTeX commands are a frequent cause. Double-check your code for syntax errors.  Missing or misplaced braces `{}` can lead to unexpected results.  Consult the MathJax documentation and LaTeX resources for correct syntax.  Also consider using a LaTeX editor for improved syntax highlighting and error detection.

* **Unexpected spacing or alignment issues:**  Incorrect use of spacing commands (`\,`, `\;`, `\quad`, etc.) can cause problems.  Review spacing and utilize the `amsmath` package for enhanced control over alignment within multiline equations.

* **Missing symbols or characters:**  Ensure that the required packages (e.g., `amsmath`, `mhchem`, `physics`) are properly loaded in your MathJax configuration.

* **Conflicts with other JavaScript libraries:**  MathJax might conflict with other JavaScript libraries on the page.  Try loading MathJax after other scripts or investigate potential conflicts in the browser's console.

* **Cache issues:**  Sometimes, browser caching can prevent updated MathJax code from loading.  Try clearing your browser's cache or using a private browsing window.


### Debugging MathJax Code

Debugging MathJax code often involves examining the rendered output and looking for clues in the browser's developer console.

* **Browser developer tools:**  Use your browser's developer tools (usually accessed by pressing F12) to inspect the rendered HTML and CSS.  This allows you to see the actual elements generated by MathJax, identify potential style conflicts, and examine any JavaScript errors.  The "Console" tab in the developer tools is crucial for finding JavaScript errors related to MathJax.

* **Simplify the code:**  If you're encountering rendering errors with complex equations, try simplifying the expression step-by-step to pinpoint the source of the problem.  Isolate problematic parts of your LaTeX code to identify the problematic section.

* **Test with simpler examples:**  Before incorporating complex formulas, test the functionality with simple examples to confirm that basic MathJax rendering is working correctly.

* **Consult the MathJax documentation and online forums:**  The MathJax documentation provides comprehensive information on usage and troubleshooting.  Online forums and communities related to MathJax can be valuable resources for assistance with specific problems.


### Troubleshooting Browser Compatibility

MathJax generally offers excellent browser compatibility, but minor differences or issues might still occur across different browsers or browser versions.

* **Testing across browsers:**  Always test your website or application using multiple browsers (Chrome, Firefox, Safari, Edge) to ensure consistent rendering across different platforms.  Pay particular attention to older browsers, as they might have limited support for certain MathJax features.

* **Browser-specific CSS:**  While generally discouraged, if absolutely necessary to correct minor rendering discrepancies across browsers, you could use browser-specific CSS rules to fine-tune the appearance of equations (but this is a last resort and can make maintenance more challenging).

* **MathJax configuration options:**  MathJax's configuration options allow you to specify certain settings that might improve compatibility with specific browsers.  Consult the MathJax documentation for details on configuration parameters that might affect browser compatibility.

* **Update MathJax:**  Keep MathJax updated to the latest version to benefit from bug fixes and improved compatibility with modern browsers.  Outdated versions might exhibit more compatibility issues.




## Accessibility and Inclusivity

### Screen Reader Compatibility

MathJax's strength lies in its accessibility features, particularly its support for screen readers.  However, optimal screen reader compatibility requires careful consideration of several factors:

* **Proper semantic structure:**  Screen readers rely on the semantic structure of the HTML to interpret and convey information.  Using appropriate HTML elements (e.g., `<p>`, `<h1>`, etc.) surrounding your MathJax equations helps screen readers understand the context and relationship of the mathematical content to the surrounding text.

* **Alternative text (alt text):** While MathJax renders equations visually, it's crucial to provide alternative text descriptions for complex equations.  This text should concisely convey the meaning and purpose of the equation for users who cannot see the visual representation.  For simple equations, the alt text might be the equation itself, but complex equations will require more descriptive alt text.

* **Keyboard navigation:**  Ensure that users can navigate to and interact with MathJax equations using only the keyboard, without needing a mouse.  This is vital for users with motor impairments.

* **Focus management:**   MathJax should correctly handle focus events so that screen readers can properly announce the selection and content of equations.

* **MathML support:**  Using MathML, a standardized markup language for mathematics, can enhance screen reader compatibility as it offers inherent semantic meaning that screen readers can interpret more reliably than LaTeX.  While LaTeX is widely used with MathJax, consider using MathML where possible for optimal accessibility.

* **Regular testing:**  Thorough testing with various screen readers is essential to ensure accurate and accessible presentation of mathematical content.



### Semantic HTML and MathJax

Using semantic HTML alongside MathJax significantly improves accessibility.  Instead of simply inserting equations into your content using only the MathJax delimiters, place the equations within appropriate HTML elements to establish their role in the document structure.

* **Enclosing elements:**  Wrap MathJax equations within semantically meaningful HTML elements such as `<p>` (paragraph), `<h3>` (heading), or `<li>` (list item), depending on the context of the equation within the larger document structure.

* **Structural elements:** If the equation represents a key concept, consider incorporating it within a `<figure>` element with a `<figcaption>` to provide a caption and further explanation for screen readers.

* **Avoid generic elements:** Refrain from using generic elements like `<div>` or `<span>` without clear semantic meaning unless specifically needed for styling or layout.  Overuse of generic containers without clear semantic purpose hinders screen readers' understanding of your content.


### Best Practices for Accessible Math

* **Prioritize clarity:**  Use clear and concise mathematical notation. Avoid overly complex or ambiguous expressions.

* **Contextual explanations:** Always provide sufficient textual explanations around mathematical expressions to put them into context for users who may not understand the equations immediately.

* **Modular design:**  Break down complex equations into smaller, more manageable parts, providing explanations for each part.

* **Consistent notation:**  Use a consistent style and notation throughout your document to reduce confusion for all users.

* **Alternative representations:**   Where possible, offer alternative representations of equations (e.g., verbal descriptions, tables, graphs) to further support understanding for all learners.

* **User feedback:**  If possible, gather user feedback from individuals with disabilities to evaluate the effectiveness of your accessibility efforts.

By adhering to these principles, you can create mathematical content that is accessible and inclusive for all users, regardless of their abilities.  Regular testing and feedback are key to achieving optimal accessibility.


## Integrating MathJax into Websites

### Using MathJax with HTML

The simplest way to integrate MathJax into a website is by directly including the MathJax script in your HTML file. This method is suitable for basic websites or those without complex JavaScript frameworks.

1. **Include the script:** Add a `<script>` tag within the `<head>` section of your HTML, pointing to the MathJax CDN:

   ```html
   <script type="text/javascript" async
     src="https://cdn.jsdelivr.net/npm/mathjax@3/es5/tex-chtml.js">
   </script>
   ```

2. **Write your equations:**  Enclose your mathematical expressions within dollar signs (`$...$` for inline, `$$...$$` for display) in your HTML content.  Ensure the equations are within the `<body>` of your HTML.  Example:

   ```html
   <p>The Pythagorean theorem is expressed as $a^2 + b^2 = c^2$.</p>
   ```

3. **Configuration (optional):** For more advanced configurations (e.g., loading specific extensions, customizing rendering), you can include a `<script>` tag *before* the MathJax CDN script to define a `MathJax` object with your configuration settings.  See the MathJax documentation for details on configuration options.


### Using MathJax with JavaScript Frameworks (React, Angular, Vue)

Integrating MathJax with popular JavaScript frameworks like React, Angular, and Vue requires a slightly different approach to ensure proper rendering within the framework's lifecycle.

* **React:** You can render MathJax equations within a React component using the `dangerouslySetInnerHTML` property. However, it's generally preferable to use a dedicated MathJax component, which handles the rendering and lifecycle updates more effectively.  Numerous community-maintained MathJax components for React are available.

* **Angular:**  Similar to React, you can use innerHTML within an Angular template, but a custom component is the recommended approach.  This allows for better integration with Angular's change detection mechanism and avoids potential issues with updating the DOM.

* **Vue:** In Vue, you can use `v-html` to render the MathJax equations. Again, a dedicated Vue component provides a more robust and maintainable solution.


Regardless of the framework, ensure that MathJax is loaded before attempting to render equations.  Properly handling the component's lifecycle (mounting and updating) is crucial for avoiding rendering errors and preventing conflicts with the framework's rendering process.


### Server-Side Rendering with MathJax

Server-side rendering (SSR) with MathJax is essential for improving SEO and initial load time, particularly for websites that heavily feature mathematical content.  This process renders the equations on the server before sending the fully rendered HTML to the client's browser.

Several approaches exist for SSR:

* **Node.js with a MathJax library:**  You can use a Node.js library that provides server-side MathJax rendering capabilities.  This involves pre-rendering your MathJax equations on the server and including the rendered HTML in your page.

* **Cloud-based rendering services:**  Some services offer server-side MathJax rendering as a part of their platform.  This offloads the rendering task from your server.


The choice between these approaches depends on factors like your existing infrastructure, scaling requirements, and complexity of your website.  Properly configured SSR significantly improves performance and search engine optimization (SEO) by avoiding the client-side rendering delay.


### Optimizing MathJax for Performance

Optimizing MathJax for performance is crucial, particularly for websites with numerous complex equations.  Techniques for performance optimization include:

* **Asynchronous loading:**  Use the `async` attribute in the `<script>` tag for asynchronous loading of the MathJax script, preventing it from blocking other page resources from loading.

* **Lazy loading:**  Implement lazy loading, which renders equations only when they are visible in the browser viewport.  This technique avoids rendering equations that are far down the page and not yet in view, significantly improving initial load times.  Libraries exist to simplify lazy loading.

* **Minimize requests:** If possible, load MathJax only once on the page to reduce the number of HTTP requests.

* **Caching:** Utilize browser caching mechanisms to store rendered equations locally, reducing the need to re-render them on subsequent page visits.

* **Content Delivery Network (CDN):** Use a reliable CDN like jsDelivr or unpkg to serve MathJax, ensuring fast delivery from a server geographically closer to the user.

* **Minification and compression:**  Use minification and compression tools to reduce the size of the MathJax script, speeding up download times.


By implementing these optimization techniques, you can significantly improve the performance and user experience of websites that extensively use MathJax for rendering mathematical equations.


## Advanced Topics

### Configuration Options

MathJax offers extensive configuration options to customize its behavior and appearance.  These options are specified using a JavaScript object passed to the `MathJax` global object before loading the MathJax script.  The configuration object allows control over various aspects of MathJax, including:

* **Input processors:**  Specify which input processors to use (e.g., TeX, MathML, AsciiMath).  The default is typically TeX.

* **Output processors:**  Choose the output processor that dictates how equations are rendered (e.g., HTML-CSS, CommonHTML, SVG).  HTML-CSS is a common choice.

* **Font settings:**  Customize font families, sizes, and styles used for rendering equations.

* **Extensions:**  Load additional extensions to enhance MathJax functionality (e.g., `amsmath`, `mhchem`, `physics`).

* **Macros:** Define custom LaTeX macros to create shortcuts for frequently used expressions.

* **Error handling:** Configure how MathJax handles errors during equation processing.

* **Accessibility features:**  Adjust settings to optimize accessibility for users with disabilities (e.g., screen reader compatibility).

The configuration object's structure can be quite complex.  Refer to the MathJax documentation for a complete list of configuration options and their usage.  Example snippet:

```javascript
MathJax = {
  tex: {
    inlineMath: [['$', '$'], ['\\(', '\\)']],
    displayMath: [['$$', '$$'], ['\\[', '\\]']],
    processEscapes: true,
    tags: 'ams',
    macros: {
      "\\R": "\\mathbb{R}"
    }
  },
  svg: {
    fontCache: 'global'
  }
};
```


### Customizing MathJax Behavior

Beyond configuration options, you can customize MathJax behavior through several methods:

* **Event handlers:**  Use MathJax's event system to respond to specific events during equation rendering, such as the completion of rendering or the detection of errors.  This allows you to integrate custom actions into the MathJax workflow.

* **Hooks:**  MathJax provides hooks that allow modifying internal processes during equation rendering. This approach is for advanced users who require very specific, low-level control over MathJax's operation.

* **Custom extensions:**  Creating a custom MathJax extension gives you maximum control.  This involves writing JavaScript code that integrates with MathJax's API.  This method requires advanced JavaScript knowledge and understanding of MathJax's internal architecture.

* **CSS styling (limited):** Although direct manipulation of MathJax's output with CSS is generally discouraged, careful use of CSS can sometimes address very specific visual adjustments; but this should be a last resort as it's prone to break with future MathJax updates.


### Extending MathJax Functionality

Extending MathJax involves creating custom extensions or plugins to add new features or modify existing ones.  This typically involves writing JavaScript code that interacts with the MathJax API.

* **Extension development:**  Developing MathJax extensions allows adding support for new input languages, output processors, or specific mathematical notations.  This process typically involves creating a JavaScript file that defines a new MathJax extension, which is then loaded during MathJax initialization.  The MathJax documentation provides detailed information on developing extensions.

* **Integrating with other libraries:**  Extend MathJax's capabilities by integrating it with other JavaScript libraries, allowing for features like interactive equations or dynamic updates.

* **Using existing extensions:** Before creating your own extension, check if an existing extension already provides the desired functionality. The MathJax community provides many pre-built extensions.


### Contributing to MathJax

Contributing to MathJax involves improving the core library, developing new extensions, or enhancing the documentation.

* **Reporting issues:**  If you encounter bugs or have suggestions for improvement, report them through the MathJax issue tracker.  Provide detailed information about the issue, including steps to reproduce it.

* **Submitting pull requests:**  For more significant contributions, such as bug fixes or new features, submit pull requests through the MathJax GitHub repository.  Follow the project's coding style guidelines and testing procedures.

* **Writing documentation:**  Contribute to the MathJax documentation by improving existing content or adding new tutorials and examples.  Clear and concise documentation is crucial for making MathJax accessible to a broader audience.

* **Community involvement:**  Participate in the MathJax community forums and discussions to help other users and share your expertise.


Contributing to MathJax benefits both the project and the broader community by improving its functionality, reliability, and accessibility.


## Appendix: MathJax Cheat Sheet

### Common Symbols and Commands

This cheat sheet provides a quick reference for commonly used symbols and commands in MathJax using LaTeX syntax.  Remember to enclose inline formulas in `$...$` and display formulas in `$$...$$`.

**Greek Letters:**

| Letter | Command | Letter | Command |
|---|---|---|---|
| α | `\alpha` | Α | `\Alpha` |
| β | `\beta` | Β | `\Beta` |
| γ | `\gamma` | Γ | `\Gamma` |
| δ | `\delta` | Δ | `\Delta` |
| ε | `\epsilon` | Ε | `\Epsilon` |
| ζ | `\zeta` | Ζ | `\Zeta` |
| η | `\eta` | Η | `\Eta` |
| θ | `\theta` | Θ | `\Theta` |
| ι | `\iota` | Ι | `\Iota` |
| κ | `\kappa` | Κ | `\Kappa` |
| λ | `\lambda` | Λ | `\Lambda` |
| μ | `\mu` | Μ | `\Mu` |
| ν | `\nu` | Ν | `\Nu` |
| ξ | `\xi` | Ξ | `\Xi` |
| ο | `\o` | Ο | `\Omicron` |
| π | `\pi` | Π | `\Pi` |
| ρ | `\rho` | Ρ | `\Rho` |
| σ | `\sigma` | Σ | `\Sigma` |
| τ | `\tau` | Τ | `\Tau` |
| υ | `\upsilon` | Υ | `\Upsilon` |
| φ | `\phi` | Φ | `\Phi` |
| χ | `\chi` | Χ | `\Chi` |
| ψ | `\psi` | Ψ | `\Psi` |
| ω | `\omega` | Ω | `\Omega` |


**Mathematical Symbols:**

| Symbol | Command | Symbol | Command |
|---|---|---|---|
| + | `+` | − | `-` |
| × | `\times` | ÷ | `\div` |
| = | `=` | ≠ | `\ne` |
| ≈ | `\approx` | ≤ | `\le` |
| ≥ | `\ge` | < | `<` |
| > | `>` | ∞ | `\infty` |
| ∫ | `\int` | ∑ | `\sum` |
| ∂ | `\partial` | √ | `\sqrt{}` |
| π | `\pi` | ∇ | `\nabla` |


**Superscripts and Subscripts:**

* Superscript: `x^2`  →  $x^2$
* Subscript: `x_i` → $x_i$
* Both: `x_{i+1}^2` → $x_{i+1}^2$


**Fractions:**

`\frac{numerator}{denominator}`  →  $\frac{1}{2}$


**Other Common Commands:**

*   **Bold:** `\mathbf{x}` → $\mathbf{x}$
*   **Italic:**  (Default for variables)
*   **Roman (upright):** `\mathrm{x}` → $\mathrm{x}$
*   Limits: `\lim_{x \to 0} f(x)` → $\lim_{x \to 0} f(x)$


This is not an exhaustive list, but it covers many frequently used symbols and commands.  Refer to the full MathJax documentation for a comprehensive reference.


### Quick Reference Guide

This guide summarizes essential aspects of using MathJax:

**1.  Inclusion:** Include the MathJax script in your HTML `<head>`:

```html
<script type="text/javascript" async src="https://cdn.jsdelivr.net/npm/mathjax@3/es5/tex-chtml.js"></script>
```

**2.  Inline Mode:** Enclose inline formulas in `$...$`:  `$E=mc^2$` → $E=mc^2$

**3.  Display Mode:** Enclose display formulas in `$$...$$`:

```
$$ \int_0^\infty e^{-x^2} dx = \frac{\sqrt{\pi}}{2} $$
```

$$ \int_0^\infty e^{-x^2} dx = \frac{\sqrt{\pi}}{2} $$

**4.  Essential LaTeX Commands:**

*   **Greek letters:**  `\alpha`, `\beta`, `\gamma`, ...
*   **Superscripts/Subscripts:** `x^2`, `x_i`
*   **Fractions:** `\frac{a}{b}`
*   **Square roots:** `\sqrt{x}`
*   **Sums/Integrals:** `\sum`, `\int`
*   **Limits:** `\lim_{x \to a}`

**5.  Troubleshooting:** Check your browser's developer console for JavaScript errors. Verify that MathJax is correctly included and that your LaTeX code is syntactically correct.

**6.  Further Information:** Consult the comprehensive MathJax documentation for detailed information on configuration, extensions, and advanced usage.


This quick reference guide provides a starting point for using MathJax.  Explore the full documentation for more advanced features and capabilities.

