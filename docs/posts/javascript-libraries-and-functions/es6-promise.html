<!DOCTYPE html>
<html xmlns="http://www.w3.org/1999/xhtml" lang="en" xml:lang="en"><head>

<meta charset="utf-8">
<meta name="generator" content="quarto-1.6.39">

<meta name="viewport" content="width=device-width, initial-scale=1.0, user-scalable=yes">

<meta name="author" content="Muthukrishnan">

<title>es6 promise - Documentation – Technical Manuals</title>
<style>
html {
  color: #1a1a1a;
  background-color: #fdfdfd;
}
body {
  margin: 0 auto;
  max-width: 36em;
  padding-left: 50px;
  padding-right: 50px;
  padding-top: 50px;
  padding-bottom: 50px;
  hyphens: auto;
  overflow-wrap: break-word;
  text-rendering: optimizeLegibility;
  font-kerning: normal;
}
@media (max-width: 600px) {
  body {
    font-size: 0.9em;
    padding: 12px;
  }
  h1 {
    font-size: 1.8em;
  }
}
@media print {
  html {
    background-color: white;
  }
  body {
    background-color: transparent;
    color: black;
    font-size: 12pt;
  }
  p, h2, h3 {
    orphans: 3;
    widows: 3;
  }
  h2, h3, h4 {
    page-break-after: avoid;
  }
}
p {
  margin: 1em 0;
}
a {
  color: #1a1a1a;
}
a:visited {
  color: #1a1a1a;
}
img {
  max-width: 100%;
}
svg {
  height; auto;
  max-width: 100%;
}
h1, h2, h3, h4, h5, h6 {
  margin-top: 1.4em;
}
h5, h6 {
  font-size: 1em;
  font-style: italic;
}
h6 {
  font-weight: normal;
}
ol, ul {
  padding-left: 1.7em;
  margin-top: 1em;
}
li > ol, li > ul {
  margin-top: 0;
}
ul > li:not(:has(> p)) > ul,
ol > li:not(:has(> p)) > ul,
ul > li:not(:has(> p)) > ol,
ol > li:not(:has(> p)) > ol {
  margin-bottom: 0;
}
ul > li:not(:has(> p)) > ul > li:has(> p),
ol > li:not(:has(> p)) > ul > li:has(> p),
ul > li:not(:has(> p)) > ol > li:has(> p),
ol > li:not(:has(> p)) > ol > li:has(> p) {
  margin-top: 1rem;
}
blockquote {
  margin: 1em 0 1em 1.7em;
  padding-left: 1em;
  border-left: 2px solid #e6e6e6;
  color: #606060;
}
code {
  font-family: Menlo, Monaco, Consolas, 'Lucida Console', monospace;
  font-size: 85%;
  margin: 0;
  hyphens: manual;
}
pre {
  margin: 1em 0;
  overflow: auto;
}
pre code {
  padding: 0;
  overflow: visible;
  overflow-wrap: normal;
}
.sourceCode {
 background-color: transparent;
 overflow: visible;
}
hr {
  background-color: #1a1a1a;
  border: none;
  height: 1px;
  margin: 1em 0;
}
table {
  margin: 1em 0;
  border-collapse: collapse;
  width: 100%;
  overflow-x: auto;
  display: block;
  font-variant-numeric: lining-nums tabular-nums;
}
table caption {
  margin-bottom: 0.75em;
}
tbody {
  margin-top: 0.5em;
  border-top: 1px solid #1a1a1a;
  border-bottom: 1px solid #1a1a1a;
}
th {
  border-top: 1px solid #1a1a1a;
  padding: 0.25em 0.5em 0.25em 0.5em;
}
td {
  padding: 0.125em 0.5em 0.25em 0.5em;
}
header {
  margin-bottom: 4em;
  text-align: center;
}
#TOC li {
  list-style: none;
}
#TOC ul {
  padding-left: 1.3em;
}
#TOC > ul {
  padding-left: 0;
}
#TOC a:not(:hover) {
  text-decoration: none;
}
code{white-space: pre-wrap;}
span.smallcaps{font-variant: small-caps;}
div.columns{display: flex; gap: min(4vw, 1.5em);}
div.column{flex: auto; overflow-x: auto;}
div.hanging-indent{margin-left: 1.5em; text-indent: -1.5em;}
ul.task-list{list-style: none;}
ul.task-list li input[type="checkbox"] {
  width: 0.8em;
  margin: 0 0.8em 0.2em -1em; /* quarto-specific, see https://github.com/quarto-dev/quarto-cli/issues/4556 */ 
  vertical-align: middle;
}
/* CSS for syntax highlighting */
pre > code.sourceCode { white-space: pre; position: relative; }
pre > code.sourceCode > span { line-height: 1.25; }
pre > code.sourceCode > span:empty { height: 1.2em; }
.sourceCode { overflow: visible; }
code.sourceCode > span { color: inherit; text-decoration: inherit; }
div.sourceCode { margin: 1em 0; }
pre.sourceCode { margin: 0; }
@media screen {
div.sourceCode { overflow: auto; }
}
@media print {
pre > code.sourceCode { white-space: pre-wrap; }
pre > code.sourceCode > span { display: inline-block; text-indent: -5em; padding-left: 5em; }
}
pre.numberSource code
  { counter-reset: source-line 0; }
pre.numberSource code > span
  { position: relative; left: -4em; counter-increment: source-line; }
pre.numberSource code > span > a:first-child::before
  { content: counter(source-line);
    position: relative; left: -1em; text-align: right; vertical-align: baseline;
    border: none; display: inline-block;
    -webkit-touch-callout: none; -webkit-user-select: none;
    -khtml-user-select: none; -moz-user-select: none;
    -ms-user-select: none; user-select: none;
    padding: 0 4px; width: 4em;
  }
pre.numberSource { margin-left: 3em;  padding-left: 4px; }
div.sourceCode
  {   }
@media screen {
pre > code.sourceCode > span > a:first-child::before { text-decoration: underline; }
}
</style>


<link href="../../favicon.ico" rel="icon">
<script async="" src="https://www.googletagmanager.com/gtag/js?id="></script>

<script type="text/javascript">

window.dataLayer = window.dataLayer || [];
function gtag(){dataLayer.push(arguments);}
gtag('js', new Date());
gtag('config', '', { 'anonymize_ip': true});
</script>
<link rel="icon" type="image/x-icon" href="../../favicon.ico">
<meta property="og:title" content="es6 promise - Documentation – Technical Manuals">
<meta property="og:site_name" content="Technical Manuals">
</head><body><div class="navigation-header">
    <nav>
        <div>
            <div class="logo">
                <a href="../../" aria-label="Home">
                    <span>Technical Manuals - Home</span>
                </a>
            </div>
            <div class="nav-menu">
                <ul>
                    <li>
                        <a href="../../about.html">
                            <span class="menu-text">About</span>
                        </a>
                    </li>
                    <li> 
                        <a href="https://github.com/muthuspark" target="_blank">
                            <span class="menu-text">Github</span>
                        </a>
                    </li>
                    <li>
                        <a href="https://linkedin.com/in/krimuthu" target="_blank">
                            <span class="menu-text">Linkedin</span>
                        </a>
                    </li>
                    <li>
                        <button onclick="window.print()" class="print-button">
                            <svg width="20" height="20" viewbox="0 0 24 24" fill="none" stroke="currentColor" stroke-width="2">
                              <path d="M6 9V2h12v7"></path>
                              <path d="M6 18H4a2 2 0 01-2-2v-5a2 2 0 012-2h16a2 2 0 012 2v5a2 2 0 01-2 2h-2"></path>
                              <path d="M6 14h12v8H6z"></path>
                            </svg>
                            Print Page
                        </button>
                    </li>
                </ul>
            </div>
        </div>
    </nav>
</div>


<link rel="stylesheet" href="../../styles.css">





<header id="title-block-header">
<h1 class="title">es6 promise - Documentation</h1>

</header>

<nav id="TOC" role="doc-toc">
    <h2 id="toc-title">On this page</h2>
   
  <ul>
  <li><a href="#what-are-promises" id="toc-what-are-promises">What are Promises?</a></li>
  <li><a href="#why-use-promises" id="toc-why-use-promises">Why use Promises?</a></li>
  <li><a href="#benefits-of-using-promises" id="toc-benefits-of-using-promises">Benefits of using Promises</a></li>
  <li><a href="#promises-vs.-callbacks" id="toc-promises-vs.-callbacks">Promises vs.&nbsp;Callbacks</a></li>
  <li><a href="#creating-promises" id="toc-creating-promises">Creating Promises</a>
  <ul>
  <li><a href="#using-the-promise-constructor" id="toc-using-the-promise-constructor">Using the <code>Promise</code> Constructor</a></li>
  <li><a href="#resolving-a-promise" id="toc-resolving-a-promise">Resolving a Promise</a></li>
  <li><a href="#rejecting-a-promise" id="toc-rejecting-a-promise">Rejecting a Promise</a></li>
  <li><a href="#example-creating-and-resolving-a-promise" id="toc-example-creating-and-resolving-a-promise">Example: Creating and Resolving a Promise</a></li>
  <li><a href="#example-creating-and-rejecting-a-promise" id="toc-example-creating-and-rejecting-a-promise">Example: Creating and Rejecting a Promise</a></li>
  </ul></li>
  <li><a href="#consuming-promises" id="toc-consuming-promises">Consuming Promises</a>
  <ul>
  <li><a href="#using-.then" id="toc-using-.then">Using <code>.then()</code></a></li>
  <li><a href="#handling-success-with-.then" id="toc-handling-success-with-.then">Handling Success with <code>.then()</code></a></li>
  <li><a href="#handling-errors-with-.catch" id="toc-handling-errors-with-.catch">Handling Errors with <code>.catch()</code></a></li>
  <li><a href="#chaining-promises-with-.then" id="toc-chaining-promises-with-.then">Chaining Promises with <code>.then()</code></a></li>
  <li><a href="#using-asyncawait-with-promises" id="toc-using-asyncawait-with-promises">Using <code>async/await</code> with Promises</a></li>
  <li><a href="#error-handling-with-asyncawait" id="toc-error-handling-with-asyncawait">Error Handling with <code>async/await</code></a></li>
  <li><a href="#example-chaining-multiple-promises" id="toc-example-chaining-multiple-promises">Example: Chaining Multiple Promises</a></li>
  <li><a href="#example-handling-errors-in-a-promise-chain" id="toc-example-handling-errors-in-a-promise-chain">Example: Handling Errors in a Promise Chain</a></li>
  </ul></li>
  <li><a href="#advanced-promise-techniques" id="toc-advanced-promise-techniques">Advanced Promise Techniques</a>
  <ul>
  <li><a href="#promise.all" id="toc-promise.all"><code>Promise.all()</code></a></li>
  <li><a href="#promise.race" id="toc-promise.race"><code>Promise.race()</code></a></li>
  <li><a href="#promise.allsettled" id="toc-promise.allsettled"><code>Promise.allSettled()</code></a></li>
  <li><a href="#promise.resolve" id="toc-promise.resolve"><code>Promise.resolve()</code></a></li>
  <li><a href="#promise.reject" id="toc-promise.reject"><code>Promise.reject()</code></a></li>
  <li><a href="#handling-multiple-promises-concurrently" id="toc-handling-multiple-promises-concurrently">Handling Multiple Promises Concurrently</a></li>
  <li><a href="#example-using-promise.all" id="toc-example-using-promise.all">Example: Using <code>Promise.all()</code></a></li>
  <li><a href="#example-using-promise.race" id="toc-example-using-promise.race">Example: Using <code>Promise.race()</code></a></li>
  <li><a href="#example-using-promise.allsettled" id="toc-example-using-promise.allsettled">Example: Using <code>Promise.allSettled()</code></a></li>
  </ul></li>
  <li><a href="#common-use-cases" id="toc-common-use-cases">Common Use Cases</a>
  <ul>
  <li><a href="#fetching-data-from-an-api" id="toc-fetching-data-from-an-api">Fetching Data from an API</a></li>
  <li><a href="#handling-asynchronous-operations" id="toc-handling-asynchronous-operations">Handling Asynchronous Operations</a></li>
  <li><a href="#working-with-third-party-libraries" id="toc-working-with-third-party-libraries">Working with Third-Party Libraries</a></li>
  <li><a href="#example-fetching-data-with-a-promise" id="toc-example-fetching-data-with-a-promise">Example: Fetching Data with a Promise</a></li>
  <li><a href="#example-handling-multiple-api-requests" id="toc-example-handling-multiple-api-requests">Example: Handling Multiple API Requests</a></li>
  </ul></li>
  <li><a href="#debugging-and-troubleshooting" id="toc-debugging-and-troubleshooting">Debugging and Troubleshooting</a>
  <ul>
  <li><a href="#common-promise-errors" id="toc-common-promise-errors">Common Promise Errors</a></li>
  <li><a href="#debugging-techniques" id="toc-debugging-techniques">Debugging Techniques</a></li>
  <li><a href="#identifying-and-resolving-issues" id="toc-identifying-and-resolving-issues">Identifying and Resolving Issues</a></li>
  <li><a href="#best-practices-for-using-promises" id="toc-best-practices-for-using-promises">Best Practices for Using Promises</a></li>
  </ul></li>
  </ul>
</nav>
<h3 id="what-are-promises">What are Promises?</h3>
<p>In JavaScript, a Promise is an object representing the eventual completion (or failure) of an asynchronous operation, and its resulting value. Instead of immediately returning a result, an asynchronous function returns a Promise, which acts as a placeholder for a future value. This value will be available sometime later, when the asynchronous operation completes. The Promise can be in one of three states:</p>
<ul>
<li><strong>Pending:</strong> The initial state, neither fulfilled nor rejected.</li>
<li><strong>Fulfilled:</strong> The operation completed successfully, and the Promise now holds a result value.</li>
<li><strong>Rejected:</strong> The operation failed, and the Promise now holds a reason (typically an error object) explaining the failure.</li>
</ul>
<p>A Promise object provides methods to handle both the fulfilled and rejected states, allowing for cleaner and more manageable asynchronous code compared to traditional callback-based approaches.</p>
<h3 id="why-use-promises">Why use Promises?</h3>
<p>Promises are crucial for handling asynchronous operations in JavaScript because they address many shortcomings of traditional callback-based approaches. Asynchronous operations are common in web development (e.g., fetching data from a server, manipulating the DOM), and poorly managed asynchronous code can lead to:</p>
<ul>
<li><strong>Callback Hell:</strong> Nested callbacks become deeply indented and difficult to read, maintain, and debug. This is often referred to as the “Pyramid of Doom.”</li>
<li><strong>Error Handling Difficulties:</strong> Managing errors across multiple nested callbacks is complex and prone to errors.</li>
<li><strong>Difficult Code Composition:</strong> Combining multiple asynchronous operations can be challenging with callbacks.</li>
</ul>
<h3 id="benefits-of-using-promises">Benefits of using Promises</h3>
<ul>
<li><strong>Improved Readability:</strong> Promises significantly improve code readability and maintainability compared to nested callbacks. They help structure asynchronous code in a more linear and understandable way.</li>
<li><strong>Simplified Error Handling:</strong> Promises provide a structured way to handle errors using the <code>.catch()</code> method, centralizing error management and avoiding scattered <code>try...catch</code> blocks within callbacks.</li>
<li><strong>Better Composition:</strong> Promises can be easily chained together using <code>.then()</code> to handle sequential asynchronous operations, making the code flow clearer and more manageable.</li>
<li><strong>Concurrency Control:</strong> Promises can improve concurrency control by facilitating more efficient asynchronous operation sequencing. Techniques like <code>Promise.all</code> and <code>Promise.race</code> allow for managing parallel or competitive asynchronous tasks.</li>
</ul>
<h3 id="promises-vs.-callbacks">Promises vs.&nbsp;Callbacks</h3>
<p>Callbacks are a function passed to another function as an argument, typically to be executed when an asynchronous operation completes. While simple for single asynchronous operations, callbacks suffer from the aforementioned “callback hell” problem when dealing with multiple sequential or concurrent asynchronous tasks.</p>
<p>Promises offer a significant improvement:</p>
<table class="caption-top">
<colgroup>
<col style="width: 15%">
<col style="width: 40%">
<col style="width: 43%">
</colgroup>
<thead>
<tr class="header">
<th>Feature</th>
<th>Callbacks</th>
<th>Promises</th>
</tr>
</thead>
<tbody>
<tr class="odd">
<td><strong>Readability</strong></td>
<td>Poor, especially with nested calls</td>
<td>Significantly better, more linear code flow</td>
</tr>
<tr class="even">
<td><strong>Error Handling</strong></td>
<td>Scattered <code>try...catch</code> blocks or nested checks</td>
<td>Centralized error handling with <code>.catch()</code></td>
</tr>
<tr class="odd">
<td><strong>Composition</strong></td>
<td>Difficult to chain multiple operations</td>
<td>Easy chaining with <code>.then()</code></td>
</tr>
<tr class="even">
<td><strong>Concurrency</strong></td>
<td>Difficult to manage</td>
<td>Supports concurrency with <code>Promise.all</code>, etc.</td>
</tr>
<tr class="odd">
<td><strong>Debugging</strong></td>
<td>Difficult to debug nested calls</td>
<td>Easier to debug due to better structure</td>
</tr>
</tbody>
</table>
<p>In summary, while callbacks have their place in simple scenarios, Promises are a superior solution for managing complexity in asynchronous JavaScript code, leading to more maintainable, readable, and robust applications. They are a core component of modern JavaScript development and essential for building high-quality asynchronous applications.</p>
<h2 id="creating-promises">Creating Promises</h2>
<h3 id="using-the-promise-constructor">Using the <code>Promise</code> Constructor</h3>
<p>The core of working with Promises is the <code>Promise</code> constructor. It takes a single argument: an <em>executor function</em>. This executor function is immediately invoked by the <code>Promise</code> constructor and receives two functions as arguments: <code>resolve</code> and <code>reject</code>.</p>
<div class="sourceCode" id="cb1"><pre class="sourceCode javascript"><code class="sourceCode javascript"><span id="cb1-1"><a href="#cb1-1" aria-hidden="true" tabindex="-1"></a><span class="kw">const</span> myPromise <span class="op">=</span> <span class="kw">new</span> <span class="bu">Promise</span>((resolve<span class="op">,</span> reject) <span class="kw">=&gt;</span> {</span>
<span id="cb1-2"><a href="#cb1-2" aria-hidden="true" tabindex="-1"></a>  <span class="co">// Asynchronous operation here...</span></span>
<span id="cb1-3"><a href="#cb1-3" aria-hidden="true" tabindex="-1"></a>  <span class="co">// ...if successful...</span></span>
<span id="cb1-4"><a href="#cb1-4" aria-hidden="true" tabindex="-1"></a>  <span class="fu">resolve</span>(value)<span class="op">;</span> <span class="co">// Value to be passed to .then()</span></span>
<span id="cb1-5"><a href="#cb1-5" aria-hidden="true" tabindex="-1"></a>  <span class="co">// ...if it fails...</span></span>
<span id="cb1-6"><a href="#cb1-6" aria-hidden="true" tabindex="-1"></a>  <span class="fu">reject</span>(error)<span class="op">;</span> <span class="co">// Error object to be passed to .catch()</span></span>
<span id="cb1-7"><a href="#cb1-7" aria-hidden="true" tabindex="-1"></a>})<span class="op">;</span></span></code></pre></div>
<p>The executor function performs the asynchronous operation. If the operation is successful, call <code>resolve()</code> with the resulting value. If the operation fails, call <code>reject()</code> with an error object (or any value indicating failure). The <code>resolve</code> and <code>reject</code> functions are provided by the <code>Promise</code> constructor. Only one of them should be called within the executor function.</p>
<h3 id="resolving-a-promise">Resolving a Promise</h3>
<p>Resolving a Promise signifies that the asynchronous operation completed successfully. The <code>resolve()</code> function accepts a single argument, which becomes the value associated with the fulfilled Promise. This value is then passed to the <code>.then()</code> handler.</p>
<div class="sourceCode" id="cb2"><pre class="sourceCode javascript"><code class="sourceCode javascript"><span id="cb2-1"><a href="#cb2-1" aria-hidden="true" tabindex="-1"></a><span class="kw">const</span> successfulPromise <span class="op">=</span> <span class="kw">new</span> <span class="bu">Promise</span>((resolve<span class="op">,</span> reject) <span class="kw">=&gt;</span> {</span>
<span id="cb2-2"><a href="#cb2-2" aria-hidden="true" tabindex="-1"></a>  <span class="pp">setTimeout</span>(() <span class="kw">=&gt;</span> {</span>
<span id="cb2-3"><a href="#cb2-3" aria-hidden="true" tabindex="-1"></a>    <span class="fu">resolve</span>(<span class="st">"Operation successful!"</span>)<span class="op">;</span></span>
<span id="cb2-4"><a href="#cb2-4" aria-hidden="true" tabindex="-1"></a>  }<span class="op">,</span> <span class="dv">1000</span>)<span class="op">;</span></span>
<span id="cb2-5"><a href="#cb2-5" aria-hidden="true" tabindex="-1"></a>})<span class="op">;</span></span>
<span id="cb2-6"><a href="#cb2-6" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb2-7"><a href="#cb2-7" aria-hidden="true" tabindex="-1"></a>successfulPromise<span class="op">.</span><span class="fu">then</span>(result <span class="kw">=&gt;</span> {</span>
<span id="cb2-8"><a href="#cb2-8" aria-hidden="true" tabindex="-1"></a>  <span class="bu">console</span><span class="op">.</span><span class="fu">log</span>(result)<span class="op">;</span> <span class="co">// Output: Operation successful!</span></span>
<span id="cb2-9"><a href="#cb2-9" aria-hidden="true" tabindex="-1"></a>})<span class="op">;</span></span></code></pre></div>
<h3 id="rejecting-a-promise">Rejecting a Promise</h3>
<p>Rejecting a Promise indicates that the asynchronous operation failed. The <code>reject()</code> function accepts a single argument, typically an error object, representing the reason for failure. This value is then passed to the <code>.catch()</code> handler.</p>
<div class="sourceCode" id="cb3"><pre class="sourceCode javascript"><code class="sourceCode javascript"><span id="cb3-1"><a href="#cb3-1" aria-hidden="true" tabindex="-1"></a><span class="kw">const</span> failedPromise <span class="op">=</span> <span class="kw">new</span> <span class="bu">Promise</span>((resolve<span class="op">,</span> reject) <span class="kw">=&gt;</span> {</span>
<span id="cb3-2"><a href="#cb3-2" aria-hidden="true" tabindex="-1"></a>  <span class="pp">setTimeout</span>(() <span class="kw">=&gt;</span> {</span>
<span id="cb3-3"><a href="#cb3-3" aria-hidden="true" tabindex="-1"></a>    <span class="fu">reject</span>(<span class="kw">new</span> <span class="bu">Error</span>(<span class="st">"Operation failed!"</span>))<span class="op">;</span></span>
<span id="cb3-4"><a href="#cb3-4" aria-hidden="true" tabindex="-1"></a>  }<span class="op">,</span> <span class="dv">1000</span>)<span class="op">;</span></span>
<span id="cb3-5"><a href="#cb3-5" aria-hidden="true" tabindex="-1"></a>})<span class="op">;</span></span>
<span id="cb3-6"><a href="#cb3-6" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb3-7"><a href="#cb3-7" aria-hidden="true" tabindex="-1"></a>failedPromise<span class="op">.</span><span class="fu">catch</span>(error <span class="kw">=&gt;</span> {</span>
<span id="cb3-8"><a href="#cb3-8" aria-hidden="true" tabindex="-1"></a>  <span class="bu">console</span><span class="op">.</span><span class="fu">error</span>(error)<span class="op">;</span> <span class="co">// Output: Error: Operation failed!</span></span>
<span id="cb3-9"><a href="#cb3-9" aria-hidden="true" tabindex="-1"></a>})<span class="op">;</span></span></code></pre></div>
<h3 id="example-creating-and-resolving-a-promise">Example: Creating and Resolving a Promise</h3>
<p>This example simulates a network request that successfully fetches data after a delay.</p>
<div class="sourceCode" id="cb4"><pre class="sourceCode javascript"><code class="sourceCode javascript"><span id="cb4-1"><a href="#cb4-1" aria-hidden="true" tabindex="-1"></a><span class="kw">function</span> <span class="fu">fetchData</span>() {</span>
<span id="cb4-2"><a href="#cb4-2" aria-hidden="true" tabindex="-1"></a>  <span class="cf">return</span> <span class="kw">new</span> <span class="bu">Promise</span>((resolve<span class="op">,</span> reject) <span class="kw">=&gt;</span> {</span>
<span id="cb4-3"><a href="#cb4-3" aria-hidden="true" tabindex="-1"></a>    <span class="pp">setTimeout</span>(() <span class="kw">=&gt;</span> {</span>
<span id="cb4-4"><a href="#cb4-4" aria-hidden="true" tabindex="-1"></a>      <span class="kw">const</span> data <span class="op">=</span> { <span class="dt">message</span><span class="op">:</span> <span class="st">"Data fetched successfully!"</span> }<span class="op">;</span></span>
<span id="cb4-5"><a href="#cb4-5" aria-hidden="true" tabindex="-1"></a>      <span class="fu">resolve</span>(data)<span class="op">;</span></span>
<span id="cb4-6"><a href="#cb4-6" aria-hidden="true" tabindex="-1"></a>    }<span class="op">,</span> <span class="dv">1500</span>)<span class="op">;</span></span>
<span id="cb4-7"><a href="#cb4-7" aria-hidden="true" tabindex="-1"></a>  })<span class="op">;</span></span>
<span id="cb4-8"><a href="#cb4-8" aria-hidden="true" tabindex="-1"></a>}</span>
<span id="cb4-9"><a href="#cb4-9" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb4-10"><a href="#cb4-10" aria-hidden="true" tabindex="-1"></a><span class="fu">fetchData</span>()<span class="op">.</span><span class="fu">then</span>(data <span class="kw">=&gt;</span> {</span>
<span id="cb4-11"><a href="#cb4-11" aria-hidden="true" tabindex="-1"></a>  <span class="bu">console</span><span class="op">.</span><span class="fu">log</span>(data)<span class="op">;</span> <span class="co">// Output: { message: "Data fetched successfully!" }</span></span>
<span id="cb4-12"><a href="#cb4-12" aria-hidden="true" tabindex="-1"></a>})<span class="op">;</span></span></code></pre></div>
<h3 id="example-creating-and-rejecting-a-promise">Example: Creating and Rejecting a Promise</h3>
<p>This example simulates a network request that fails after a delay.</p>
<div class="sourceCode" id="cb5"><pre class="sourceCode javascript"><code class="sourceCode javascript"><span id="cb5-1"><a href="#cb5-1" aria-hidden="true" tabindex="-1"></a><span class="kw">function</span> <span class="fu">fetchDataWithError</span>() {</span>
<span id="cb5-2"><a href="#cb5-2" aria-hidden="true" tabindex="-1"></a>  <span class="cf">return</span> <span class="kw">new</span> <span class="bu">Promise</span>((resolve<span class="op">,</span> reject) <span class="kw">=&gt;</span> {</span>
<span id="cb5-3"><a href="#cb5-3" aria-hidden="true" tabindex="-1"></a>    <span class="pp">setTimeout</span>(() <span class="kw">=&gt;</span> {</span>
<span id="cb5-4"><a href="#cb5-4" aria-hidden="true" tabindex="-1"></a>      <span class="fu">reject</span>(<span class="kw">new</span> <span class="bu">Error</span>(<span class="st">"Network error!"</span>))<span class="op">;</span></span>
<span id="cb5-5"><a href="#cb5-5" aria-hidden="true" tabindex="-1"></a>    }<span class="op">,</span> <span class="dv">1000</span>)<span class="op">;</span></span>
<span id="cb5-6"><a href="#cb5-6" aria-hidden="true" tabindex="-1"></a>  })<span class="op">;</span></span>
<span id="cb5-7"><a href="#cb5-7" aria-hidden="true" tabindex="-1"></a>}</span>
<span id="cb5-8"><a href="#cb5-8" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb5-9"><a href="#cb5-9" aria-hidden="true" tabindex="-1"></a><span class="fu">fetchDataWithError</span>()</span>
<span id="cb5-10"><a href="#cb5-10" aria-hidden="true" tabindex="-1"></a>  <span class="op">.</span><span class="fu">then</span>(data <span class="kw">=&gt;</span> {</span>
<span id="cb5-11"><a href="#cb5-11" aria-hidden="true" tabindex="-1"></a>    <span class="bu">console</span><span class="op">.</span><span class="fu">log</span>(data)<span class="op">;</span> <span class="co">// This will not execute</span></span>
<span id="cb5-12"><a href="#cb5-12" aria-hidden="true" tabindex="-1"></a>  })</span>
<span id="cb5-13"><a href="#cb5-13" aria-hidden="true" tabindex="-1"></a>  <span class="op">.</span><span class="fu">catch</span>(error <span class="kw">=&gt;</span> {</span>
<span id="cb5-14"><a href="#cb5-14" aria-hidden="true" tabindex="-1"></a>    <span class="bu">console</span><span class="op">.</span><span class="fu">error</span>(<span class="st">"Error:"</span><span class="op">,</span> error<span class="op">.</span><span class="at">message</span>)<span class="op">;</span> <span class="co">// Output: Error: Network error!</span></span>
<span id="cb5-15"><a href="#cb5-15" aria-hidden="true" tabindex="-1"></a>  })<span class="op">;</span></span></code></pre></div>
<p>These examples demonstrate the fundamental aspects of creating and handling Promises in JavaScript. Remember that the executor function is executed synchronously, but the <code>resolve</code> or <code>reject</code> call happens asynchronously, allowing other code to execute before the Promise’s state changes.</p>
<h2 id="consuming-promises">Consuming Promises</h2>
<p>Once you have a Promise, you need mechanisms to handle its eventual fulfillment or rejection. This is done using the <code>.then()</code>, <code>.catch()</code>, and (for improved syntax) <code>async/await</code>.</p>
<h3 id="using-.then">Using <code>.then()</code></h3>
<p>The <code>.then()</code> method is used to handle the successful resolution of a Promise. It takes a single callback function (or optionally, two, one for success and one for failure) as an argument. This function receives the resolved value of the Promise as its argument.</p>
<div class="sourceCode" id="cb6"><pre class="sourceCode javascript"><code class="sourceCode javascript"><span id="cb6-1"><a href="#cb6-1" aria-hidden="true" tabindex="-1"></a>myPromise<span class="op">.</span><span class="fu">then</span>(value <span class="kw">=&gt;</span> {</span>
<span id="cb6-2"><a href="#cb6-2" aria-hidden="true" tabindex="-1"></a>  <span class="co">// Handle the successful resolution here.  'value' holds the resolved value.</span></span>
<span id="cb6-3"><a href="#cb6-3" aria-hidden="true" tabindex="-1"></a>  <span class="bu">console</span><span class="op">.</span><span class="fu">log</span>(<span class="st">"Promise resolved with:"</span><span class="op">,</span> value)<span class="op">;</span></span>
<span id="cb6-4"><a href="#cb6-4" aria-hidden="true" tabindex="-1"></a>})<span class="op">;</span></span></code></pre></div>
<h3 id="handling-success-with-.then">Handling Success with <code>.then()</code></h3>
<p>The function passed to <code>.then()</code> executes only if the Promise is resolved successfully. The resolved value is passed as an argument to this function.</p>
<div class="sourceCode" id="cb7"><pre class="sourceCode javascript"><code class="sourceCode javascript"><span id="cb7-1"><a href="#cb7-1" aria-hidden="true" tabindex="-1"></a><span class="kw">const</span> myPromise <span class="op">=</span> <span class="kw">new</span> <span class="bu">Promise</span>((resolve) <span class="kw">=&gt;</span> <span class="fu">resolve</span>(<span class="dv">42</span>))<span class="op">;</span></span>
<span id="cb7-2"><a href="#cb7-2" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb7-3"><a href="#cb7-3" aria-hidden="true" tabindex="-1"></a>myPromise<span class="op">.</span><span class="fu">then</span>((result) <span class="kw">=&gt;</span> {</span>
<span id="cb7-4"><a href="#cb7-4" aria-hidden="true" tabindex="-1"></a>  <span class="bu">console</span><span class="op">.</span><span class="fu">log</span>(<span class="st">"The result is:"</span><span class="op">,</span> result)<span class="op">;</span> <span class="co">// Output: The result is: 42</span></span>
<span id="cb7-5"><a href="#cb7-5" aria-hidden="true" tabindex="-1"></a>})<span class="op">;</span></span></code></pre></div>
<h3 id="handling-errors-with-.catch">Handling Errors with <code>.catch()</code></h3>
<p>The <code>.catch()</code> method is used to handle the rejection of a Promise. It takes a single callback function as an argument. This function receives the reason for rejection (typically an error object) as its argument.</p>
<div class="sourceCode" id="cb8"><pre class="sourceCode javascript"><code class="sourceCode javascript"><span id="cb8-1"><a href="#cb8-1" aria-hidden="true" tabindex="-1"></a>myPromise<span class="op">.</span><span class="fu">catch</span>(error <span class="kw">=&gt;</span> {</span>
<span id="cb8-2"><a href="#cb8-2" aria-hidden="true" tabindex="-1"></a>  <span class="co">// Handle the rejection (error) here.</span></span>
<span id="cb8-3"><a href="#cb8-3" aria-hidden="true" tabindex="-1"></a>  <span class="bu">console</span><span class="op">.</span><span class="fu">error</span>(<span class="st">"Promise rejected with:"</span><span class="op">,</span> error)<span class="op">;</span></span>
<span id="cb8-4"><a href="#cb8-4" aria-hidden="true" tabindex="-1"></a>})<span class="op">;</span></span></code></pre></div>
<h3 id="chaining-promises-with-.then">Chaining Promises with <code>.then()</code></h3>
<p>Promises can be chained using multiple <code>.then()</code> calls. Each <code>.then()</code> returns a new Promise, allowing you to perform a sequence of asynchronous operations. The result of one <code>.then()</code> is passed as input to the next.</p>
<div class="sourceCode" id="cb9"><pre class="sourceCode javascript"><code class="sourceCode javascript"><span id="cb9-1"><a href="#cb9-1" aria-hidden="true" tabindex="-1"></a>myPromise</span>
<span id="cb9-2"><a href="#cb9-2" aria-hidden="true" tabindex="-1"></a>  <span class="op">.</span><span class="fu">then</span>(value1 <span class="kw">=&gt;</span> {</span>
<span id="cb9-3"><a href="#cb9-3" aria-hidden="true" tabindex="-1"></a>    <span class="co">// Perform operation 1 with value1</span></span>
<span id="cb9-4"><a href="#cb9-4" aria-hidden="true" tabindex="-1"></a>    <span class="cf">return</span> <span class="fu">someAsyncOperation</span>(value1)<span class="op">;</span> <span class="co">// Return a new Promise</span></span>
<span id="cb9-5"><a href="#cb9-5" aria-hidden="true" tabindex="-1"></a>  })</span>
<span id="cb9-6"><a href="#cb9-6" aria-hidden="true" tabindex="-1"></a>  <span class="op">.</span><span class="fu">then</span>(value2 <span class="kw">=&gt;</span> {</span>
<span id="cb9-7"><a href="#cb9-7" aria-hidden="true" tabindex="-1"></a>    <span class="co">// Perform operation 2 with value2 (result of someAsyncOperation)</span></span>
<span id="cb9-8"><a href="#cb9-8" aria-hidden="true" tabindex="-1"></a>    <span class="cf">return</span> <span class="fu">anotherAsyncOperation</span>(value2)<span class="op">;</span> <span class="co">//Return another Promise</span></span>
<span id="cb9-9"><a href="#cb9-9" aria-hidden="true" tabindex="-1"></a>  })</span>
<span id="cb9-10"><a href="#cb9-10" aria-hidden="true" tabindex="-1"></a>  <span class="op">.</span><span class="fu">then</span>(finalValue <span class="kw">=&gt;</span> {</span>
<span id="cb9-11"><a href="#cb9-11" aria-hidden="true" tabindex="-1"></a>    <span class="co">// Handle final result</span></span>
<span id="cb9-12"><a href="#cb9-12" aria-hidden="true" tabindex="-1"></a>    <span class="bu">console</span><span class="op">.</span><span class="fu">log</span>(<span class="st">"Final result:"</span><span class="op">,</span> finalValue)<span class="op">;</span></span>
<span id="cb9-13"><a href="#cb9-13" aria-hidden="true" tabindex="-1"></a>  })</span>
<span id="cb9-14"><a href="#cb9-14" aria-hidden="true" tabindex="-1"></a>  <span class="op">.</span><span class="fu">catch</span>(error <span class="kw">=&gt;</span> {</span>
<span id="cb9-15"><a href="#cb9-15" aria-hidden="true" tabindex="-1"></a>    <span class="co">// Handle any errors that occurred during the chain</span></span>
<span id="cb9-16"><a href="#cb9-16" aria-hidden="true" tabindex="-1"></a>    <span class="bu">console</span><span class="op">.</span><span class="fu">error</span>(<span class="st">"Error:"</span><span class="op">,</span> error)<span class="op">;</span></span>
<span id="cb9-17"><a href="#cb9-17" aria-hidden="true" tabindex="-1"></a>  })<span class="op">;</span></span></code></pre></div>
<h3 id="using-asyncawait-with-promises">Using <code>async/await</code> with Promises</h3>
<p><code>async/await</code> provides a cleaner and more synchronous-like syntax for working with Promises. You declare an <code>async</code> function, and within it, use <code>await</code> before a Promise to pause execution until the Promise resolves.</p>
<div class="sourceCode" id="cb10"><pre class="sourceCode javascript"><code class="sourceCode javascript"><span id="cb10-1"><a href="#cb10-1" aria-hidden="true" tabindex="-1"></a><span class="kw">async</span> <span class="kw">function</span> <span class="fu">myAsyncFunction</span>() {</span>
<span id="cb10-2"><a href="#cb10-2" aria-hidden="true" tabindex="-1"></a>  <span class="cf">try</span> {</span>
<span id="cb10-3"><a href="#cb10-3" aria-hidden="true" tabindex="-1"></a>    <span class="kw">const</span> value <span class="op">=</span> <span class="cf">await</span> myPromise<span class="op">;</span></span>
<span id="cb10-4"><a href="#cb10-4" aria-hidden="true" tabindex="-1"></a>    <span class="bu">console</span><span class="op">.</span><span class="fu">log</span>(<span class="st">"Promise resolved with:"</span><span class="op">,</span> value)<span class="op">;</span></span>
<span id="cb10-5"><a href="#cb10-5" aria-hidden="true" tabindex="-1"></a>  } <span class="cf">catch</span> (error) {</span>
<span id="cb10-6"><a href="#cb10-6" aria-hidden="true" tabindex="-1"></a>    <span class="bu">console</span><span class="op">.</span><span class="fu">error</span>(<span class="st">"Promise rejected with:"</span><span class="op">,</span> error)<span class="op">;</span></span>
<span id="cb10-7"><a href="#cb10-7" aria-hidden="true" tabindex="-1"></a>  }</span>
<span id="cb10-8"><a href="#cb10-8" aria-hidden="true" tabindex="-1"></a>}</span>
<span id="cb10-9"><a href="#cb10-9" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb10-10"><a href="#cb10-10" aria-hidden="true" tabindex="-1"></a><span class="fu">myAsyncFunction</span>()<span class="op">;</span></span></code></pre></div>
<h3 id="error-handling-with-asyncawait">Error Handling with <code>async/await</code></h3>
<p><code>async/await</code> simplifies error handling using <code>try...catch</code> blocks, making it easier to manage exceptions in asynchronous code.</p>
<div class="sourceCode" id="cb11"><pre class="sourceCode javascript"><code class="sourceCode javascript"><span id="cb11-1"><a href="#cb11-1" aria-hidden="true" tabindex="-1"></a><span class="kw">async</span> <span class="kw">function</span> <span class="fu">fetchDataAndProcess</span>() {</span>
<span id="cb11-2"><a href="#cb11-2" aria-hidden="true" tabindex="-1"></a>  <span class="cf">try</span> {</span>
<span id="cb11-3"><a href="#cb11-3" aria-hidden="true" tabindex="-1"></a>    <span class="kw">const</span> data <span class="op">=</span> <span class="cf">await</span> <span class="fu">fetchData</span>()<span class="op">;</span></span>
<span id="cb11-4"><a href="#cb11-4" aria-hidden="true" tabindex="-1"></a>    <span class="kw">const</span> processedData <span class="op">=</span> <span class="cf">await</span> <span class="fu">processData</span>(data)<span class="op">;</span></span>
<span id="cb11-5"><a href="#cb11-5" aria-hidden="true" tabindex="-1"></a>    <span class="bu">console</span><span class="op">.</span><span class="fu">log</span>(<span class="st">"Processed data:"</span><span class="op">,</span> processedData)<span class="op">;</span></span>
<span id="cb11-6"><a href="#cb11-6" aria-hidden="true" tabindex="-1"></a>  } <span class="cf">catch</span> (error) {</span>
<span id="cb11-7"><a href="#cb11-7" aria-hidden="true" tabindex="-1"></a>    <span class="bu">console</span><span class="op">.</span><span class="fu">error</span>(<span class="st">"An error occurred:"</span><span class="op">,</span> error)<span class="op">;</span></span>
<span id="cb11-8"><a href="#cb11-8" aria-hidden="true" tabindex="-1"></a>  }</span>
<span id="cb11-9"><a href="#cb11-9" aria-hidden="true" tabindex="-1"></a>}</span></code></pre></div>
<h3 id="example-chaining-multiple-promises">Example: Chaining Multiple Promises</h3>
<div class="sourceCode" id="cb12"><pre class="sourceCode javascript"><code class="sourceCode javascript"><span id="cb12-1"><a href="#cb12-1" aria-hidden="true" tabindex="-1"></a><span class="kw">function</span> <span class="fu">delay</span>(ms) {</span>
<span id="cb12-2"><a href="#cb12-2" aria-hidden="true" tabindex="-1"></a>  <span class="cf">return</span> <span class="kw">new</span> <span class="bu">Promise</span>(resolve <span class="kw">=&gt;</span> <span class="pp">setTimeout</span>(resolve<span class="op">,</span> ms))<span class="op">;</span></span>
<span id="cb12-3"><a href="#cb12-3" aria-hidden="true" tabindex="-1"></a>}</span>
<span id="cb12-4"><a href="#cb12-4" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb12-5"><a href="#cb12-5" aria-hidden="true" tabindex="-1"></a><span class="kw">async</span> <span class="kw">function</span> <span class="fu">chainedPromises</span>() {</span>
<span id="cb12-6"><a href="#cb12-6" aria-hidden="true" tabindex="-1"></a>  <span class="bu">console</span><span class="op">.</span><span class="fu">log</span>(<span class="st">"Starting..."</span>)<span class="op">;</span></span>
<span id="cb12-7"><a href="#cb12-7" aria-hidden="true" tabindex="-1"></a>  <span class="cf">await</span> <span class="fu">delay</span>(<span class="dv">1000</span>)<span class="op">;</span></span>
<span id="cb12-8"><a href="#cb12-8" aria-hidden="true" tabindex="-1"></a>  <span class="bu">console</span><span class="op">.</span><span class="fu">log</span>(<span class="st">"1 second passed"</span>)<span class="op">;</span></span>
<span id="cb12-9"><a href="#cb12-9" aria-hidden="true" tabindex="-1"></a>  <span class="cf">await</span> <span class="fu">delay</span>(<span class="dv">2000</span>)<span class="op">;</span></span>
<span id="cb12-10"><a href="#cb12-10" aria-hidden="true" tabindex="-1"></a>  <span class="bu">console</span><span class="op">.</span><span class="fu">log</span>(<span class="st">"3 seconds passed"</span>)<span class="op">;</span></span>
<span id="cb12-11"><a href="#cb12-11" aria-hidden="true" tabindex="-1"></a>}</span>
<span id="cb12-12"><a href="#cb12-12" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb12-13"><a href="#cb12-13" aria-hidden="true" tabindex="-1"></a><span class="fu">chainedPromises</span>()<span class="op">;</span></span></code></pre></div>
<h3 id="example-handling-errors-in-a-promise-chain">Example: Handling Errors in a Promise Chain</h3>
<div class="sourceCode" id="cb13"><pre class="sourceCode javascript"><code class="sourceCode javascript"><span id="cb13-1"><a href="#cb13-1" aria-hidden="true" tabindex="-1"></a><span class="kw">function</span> <span class="fu">mightFail</span>() {</span>
<span id="cb13-2"><a href="#cb13-2" aria-hidden="true" tabindex="-1"></a>    <span class="cf">return</span> <span class="kw">new</span> <span class="bu">Promise</span>((resolve<span class="op">,</span> reject) <span class="kw">=&gt;</span> {</span>
<span id="cb13-3"><a href="#cb13-3" aria-hidden="true" tabindex="-1"></a>        <span class="kw">const</span> random <span class="op">=</span> <span class="bu">Math</span><span class="op">.</span><span class="fu">random</span>()<span class="op">;</span></span>
<span id="cb13-4"><a href="#cb13-4" aria-hidden="true" tabindex="-1"></a>        <span class="cf">if</span> (random <span class="op">&lt;</span> <span class="fl">0.5</span>) {</span>
<span id="cb13-5"><a href="#cb13-5" aria-hidden="true" tabindex="-1"></a>            <span class="fu">resolve</span>(<span class="st">"Success!"</span>)<span class="op">;</span></span>
<span id="cb13-6"><a href="#cb13-6" aria-hidden="true" tabindex="-1"></a>        } <span class="cf">else</span> {</span>
<span id="cb13-7"><a href="#cb13-7" aria-hidden="true" tabindex="-1"></a>            <span class="fu">reject</span>(<span class="kw">new</span> <span class="bu">Error</span>(<span class="st">"Failure!"</span>))<span class="op">;</span></span>
<span id="cb13-8"><a href="#cb13-8" aria-hidden="true" tabindex="-1"></a>        }</span>
<span id="cb13-9"><a href="#cb13-9" aria-hidden="true" tabindex="-1"></a>    })<span class="op">;</span></span>
<span id="cb13-10"><a href="#cb13-10" aria-hidden="true" tabindex="-1"></a>}</span>
<span id="cb13-11"><a href="#cb13-11" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb13-12"><a href="#cb13-12" aria-hidden="true" tabindex="-1"></a><span class="kw">async</span> <span class="kw">function</span> <span class="fu">handleErrors</span>() {</span>
<span id="cb13-13"><a href="#cb13-13" aria-hidden="true" tabindex="-1"></a>  <span class="cf">try</span> {</span>
<span id="cb13-14"><a href="#cb13-14" aria-hidden="true" tabindex="-1"></a>    <span class="kw">const</span> result1 <span class="op">=</span> <span class="cf">await</span> <span class="fu">mightFail</span>()<span class="op">;</span></span>
<span id="cb13-15"><a href="#cb13-15" aria-hidden="true" tabindex="-1"></a>    <span class="bu">console</span><span class="op">.</span><span class="fu">log</span>(<span class="st">"Result 1:"</span><span class="op">,</span> result1)<span class="op">;</span></span>
<span id="cb13-16"><a href="#cb13-16" aria-hidden="true" tabindex="-1"></a>    <span class="kw">const</span> result2 <span class="op">=</span> <span class="cf">await</span> <span class="fu">mightFail</span>()<span class="op">;</span></span>
<span id="cb13-17"><a href="#cb13-17" aria-hidden="true" tabindex="-1"></a>    <span class="bu">console</span><span class="op">.</span><span class="fu">log</span>(<span class="st">"Result 2:"</span><span class="op">,</span> result2)<span class="op">;</span></span>
<span id="cb13-18"><a href="#cb13-18" aria-hidden="true" tabindex="-1"></a>  } <span class="cf">catch</span> (error) {</span>
<span id="cb13-19"><a href="#cb13-19" aria-hidden="true" tabindex="-1"></a>    <span class="bu">console</span><span class="op">.</span><span class="fu">error</span>(<span class="st">"An error occurred in the chain:"</span><span class="op">,</span> error)<span class="op">;</span></span>
<span id="cb13-20"><a href="#cb13-20" aria-hidden="true" tabindex="-1"></a>  }</span>
<span id="cb13-21"><a href="#cb13-21" aria-hidden="true" tabindex="-1"></a>}</span>
<span id="cb13-22"><a href="#cb13-22" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb13-23"><a href="#cb13-23" aria-hidden="true" tabindex="-1"></a><span class="fu">handleErrors</span>()<span class="op">;</span></span></code></pre></div>
<p>These examples illustrate how to effectively consume and manage Promises in JavaScript using <code>.then()</code>, <code>.catch()</code>, and the more modern <code>async/await</code> syntax. Choosing between these approaches depends on personal preference and code complexity, but <code>async/await</code> is generally preferred for its improved readability and error handling capabilities in more complex scenarios.</p>
<h2 id="advanced-promise-techniques">Advanced Promise Techniques</h2>
<p>Beyond the basic <code>.then()</code> and <code>.catch()</code> methods, ES6 Promises provide several utility methods for more advanced asynchronous operations.</p>
<h3 id="promise.all"><code>Promise.all()</code></h3>
<p><code>Promise.all()</code> takes an iterable (e.g., an array) of Promises as input and returns a new Promise. The new Promise resolves only when <em>all</em> of the input Promises have resolved. The resolved value is an array containing the resolved values of the input Promises in the same order. If any of the input Promises rejects, the new Promise immediately rejects with the reason of the first rejected Promise.</p>
<div class="sourceCode" id="cb14"><pre class="sourceCode javascript"><code class="sourceCode javascript"><span id="cb14-1"><a href="#cb14-1" aria-hidden="true" tabindex="-1"></a><span class="kw">const</span> promise1 <span class="op">=</span> <span class="bu">Promise</span><span class="op">.</span><span class="fu">resolve</span>(<span class="dv">3</span>)<span class="op">;</span></span>
<span id="cb14-2"><a href="#cb14-2" aria-hidden="true" tabindex="-1"></a><span class="kw">const</span> promise2 <span class="op">=</span> <span class="kw">new</span> <span class="bu">Promise</span>((resolve) <span class="kw">=&gt;</span> <span class="pp">setTimeout</span>(resolve<span class="op">,</span> <span class="dv">100</span><span class="op">,</span> <span class="st">'foo'</span>))<span class="op">;</span></span>
<span id="cb14-3"><a href="#cb14-3" aria-hidden="true" tabindex="-1"></a><span class="kw">const</span> promise3 <span class="op">=</span> <span class="bu">Promise</span><span class="op">.</span><span class="fu">reject</span>(<span class="st">'bar'</span>)<span class="op">;</span></span>
<span id="cb14-4"><a href="#cb14-4" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb14-5"><a href="#cb14-5" aria-hidden="true" tabindex="-1"></a><span class="bu">Promise</span><span class="op">.</span><span class="fu">all</span>([promise1<span class="op">,</span> promise2<span class="op">,</span> promise3])</span>
<span id="cb14-6"><a href="#cb14-6" aria-hidden="true" tabindex="-1"></a>  <span class="op">.</span><span class="fu">then</span>(values <span class="kw">=&gt;</span> {</span>
<span id="cb14-7"><a href="#cb14-7" aria-hidden="true" tabindex="-1"></a>    <span class="bu">console</span><span class="op">.</span><span class="fu">log</span>(values)<span class="op">;</span> <span class="co">// This will not execute because promise3 rejects.</span></span>
<span id="cb14-8"><a href="#cb14-8" aria-hidden="true" tabindex="-1"></a>  })</span>
<span id="cb14-9"><a href="#cb14-9" aria-hidden="true" tabindex="-1"></a>  <span class="op">.</span><span class="fu">catch</span>(error <span class="kw">=&gt;</span> {</span>
<span id="cb14-10"><a href="#cb14-10" aria-hidden="true" tabindex="-1"></a>    <span class="bu">console</span><span class="op">.</span><span class="fu">error</span>(<span class="st">"Error:"</span><span class="op">,</span> error)<span class="op">;</span> <span class="co">// Output: Error: bar</span></span>
<span id="cb14-11"><a href="#cb14-11" aria-hidden="true" tabindex="-1"></a>  })<span class="op">;</span></span></code></pre></div>
<h3 id="promise.race"><code>Promise.race()</code></h3>
<p><code>Promise.race()</code> takes an iterable of Promises as input and returns a new Promise. The new Promise resolves or rejects as soon as <em>any</em> of the input Promises resolves or rejects, with the value or reason of that Promise.</p>
<div class="sourceCode" id="cb15"><pre class="sourceCode javascript"><code class="sourceCode javascript"><span id="cb15-1"><a href="#cb15-1" aria-hidden="true" tabindex="-1"></a><span class="kw">const</span> promise1 <span class="op">=</span> <span class="kw">new</span> <span class="bu">Promise</span>((resolve) <span class="kw">=&gt;</span> <span class="pp">setTimeout</span>(resolve<span class="op">,</span> <span class="dv">500</span><span class="op">,</span> <span class="st">'one'</span>))<span class="op">;</span></span>
<span id="cb15-2"><a href="#cb15-2" aria-hidden="true" tabindex="-1"></a><span class="kw">const</span> promise2 <span class="op">=</span> <span class="kw">new</span> <span class="bu">Promise</span>((resolve) <span class="kw">=&gt;</span> <span class="pp">setTimeout</span>(resolve<span class="op">,</span> <span class="dv">100</span><span class="op">,</span> <span class="st">'two'</span>))<span class="op">;</span></span>
<span id="cb15-3"><a href="#cb15-3" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb15-4"><a href="#cb15-4" aria-hidden="true" tabindex="-1"></a><span class="bu">Promise</span><span class="op">.</span><span class="fu">race</span>([promise1<span class="op">,</span> promise2])</span>
<span id="cb15-5"><a href="#cb15-5" aria-hidden="true" tabindex="-1"></a>  <span class="op">.</span><span class="fu">then</span>(value <span class="kw">=&gt;</span> {</span>
<span id="cb15-6"><a href="#cb15-6" aria-hidden="true" tabindex="-1"></a>    <span class="bu">console</span><span class="op">.</span><span class="fu">log</span>(value)<span class="op">;</span> <span class="co">// Output: two (because it resolves first)</span></span>
<span id="cb15-7"><a href="#cb15-7" aria-hidden="true" tabindex="-1"></a>  })<span class="op">;</span></span></code></pre></div>
<h3 id="promise.allsettled"><code>Promise.allSettled()</code></h3>
<p><code>Promise.allSettled()</code> takes an iterable of Promises and returns a new Promise. Unlike <code>Promise.all()</code>, this method waits for <em>all</em> Promises to either resolve or reject. The resolved value is an array of objects, each describing the outcome of a single Promise: Each object has a <code>status</code> property (<code>"fulfilled"</code> or <code>"rejected"</code>) and a <code>value</code> or <code>reason</code> property accordingly.</p>
<div class="sourceCode" id="cb16"><pre class="sourceCode javascript"><code class="sourceCode javascript"><span id="cb16-1"><a href="#cb16-1" aria-hidden="true" tabindex="-1"></a><span class="kw">const</span> promise1 <span class="op">=</span> <span class="bu">Promise</span><span class="op">.</span><span class="fu">resolve</span>(<span class="dv">3</span>)<span class="op">;</span></span>
<span id="cb16-2"><a href="#cb16-2" aria-hidden="true" tabindex="-1"></a><span class="kw">const</span> promise2 <span class="op">=</span> <span class="kw">new</span> <span class="bu">Promise</span>((resolve) <span class="kw">=&gt;</span> <span class="pp">setTimeout</span>(resolve<span class="op">,</span> <span class="dv">100</span><span class="op">,</span> <span class="st">'foo'</span>))<span class="op">;</span></span>
<span id="cb16-3"><a href="#cb16-3" aria-hidden="true" tabindex="-1"></a><span class="kw">const</span> promise3 <span class="op">=</span> <span class="bu">Promise</span><span class="op">.</span><span class="fu">reject</span>(<span class="st">'bar'</span>)<span class="op">;</span></span>
<span id="cb16-4"><a href="#cb16-4" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb16-5"><a href="#cb16-5" aria-hidden="true" tabindex="-1"></a><span class="bu">Promise</span><span class="op">.</span><span class="fu">allSettled</span>([promise1<span class="op">,</span> promise2<span class="op">,</span> promise3])</span>
<span id="cb16-6"><a href="#cb16-6" aria-hidden="true" tabindex="-1"></a>  <span class="op">.</span><span class="fu">then</span>(results <span class="kw">=&gt;</span> {</span>
<span id="cb16-7"><a href="#cb16-7" aria-hidden="true" tabindex="-1"></a>    <span class="bu">console</span><span class="op">.</span><span class="fu">log</span>(results)<span class="op">;</span></span>
<span id="cb16-8"><a href="#cb16-8" aria-hidden="true" tabindex="-1"></a>    <span class="co">// Output:</span></span>
<span id="cb16-9"><a href="#cb16-9" aria-hidden="true" tabindex="-1"></a>    <span class="co">// [</span></span>
<span id="cb16-10"><a href="#cb16-10" aria-hidden="true" tabindex="-1"></a>    <span class="co">//   { status: 'fulfilled', value: 3 },</span></span>
<span id="cb16-11"><a href="#cb16-11" aria-hidden="true" tabindex="-1"></a>    <span class="co">//   { status: 'fulfilled', value: 'foo' },</span></span>
<span id="cb16-12"><a href="#cb16-12" aria-hidden="true" tabindex="-1"></a>    <span class="co">//   { status: 'rejected', reason: 'bar' }</span></span>
<span id="cb16-13"><a href="#cb16-13" aria-hidden="true" tabindex="-1"></a>    <span class="co">// ]</span></span>
<span id="cb16-14"><a href="#cb16-14" aria-hidden="true" tabindex="-1"></a>  })<span class="op">;</span></span></code></pre></div>
<h3 id="promise.resolve"><code>Promise.resolve()</code></h3>
<p><code>Promise.resolve()</code> creates a Promise that is already resolved with a given value. This is useful for creating Promises from non-Promise values or for easily creating fulfilled Promises.</p>
<div class="sourceCode" id="cb17"><pre class="sourceCode javascript"><code class="sourceCode javascript"><span id="cb17-1"><a href="#cb17-1" aria-hidden="true" tabindex="-1"></a><span class="kw">const</span> resolvedPromise <span class="op">=</span> <span class="bu">Promise</span><span class="op">.</span><span class="fu">resolve</span>(<span class="dv">42</span>)<span class="op">;</span></span>
<span id="cb17-2"><a href="#cb17-2" aria-hidden="true" tabindex="-1"></a>resolvedPromise<span class="op">.</span><span class="fu">then</span>(value <span class="kw">=&gt;</span> <span class="bu">console</span><span class="op">.</span><span class="fu">log</span>(value))<span class="op">;</span> <span class="co">// Output: 42</span></span></code></pre></div>
<h3 id="promise.reject"><code>Promise.reject()</code></h3>
<p><code>Promise.reject()</code> creates a Promise that is already rejected with a given reason. This is useful for easily creating rejected Promises.</p>
<div class="sourceCode" id="cb18"><pre class="sourceCode javascript"><code class="sourceCode javascript"><span id="cb18-1"><a href="#cb18-1" aria-hidden="true" tabindex="-1"></a><span class="kw">const</span> rejectedPromise <span class="op">=</span> <span class="bu">Promise</span><span class="op">.</span><span class="fu">reject</span>(<span class="kw">new</span> <span class="bu">Error</span>(<span class="st">"Something went wrong"</span>))<span class="op">;</span></span>
<span id="cb18-2"><a href="#cb18-2" aria-hidden="true" tabindex="-1"></a>rejectedPromise<span class="op">.</span><span class="fu">catch</span>(error <span class="kw">=&gt;</span> <span class="bu">console</span><span class="op">.</span><span class="fu">error</span>(error))<span class="op">;</span> <span class="co">// Output: Error: Something went wrong</span></span></code></pre></div>
<h3 id="handling-multiple-promises-concurrently">Handling Multiple Promises Concurrently</h3>
<p><code>Promise.all()</code> is the primary tool for running multiple Promises concurrently and waiting for all of them to complete before proceeding. This is particularly efficient when the Promises represent independent operations.</p>
<h3 id="example-using-promise.all">Example: Using <code>Promise.all()</code></h3>
<div class="sourceCode" id="cb19"><pre class="sourceCode javascript"><code class="sourceCode javascript"><span id="cb19-1"><a href="#cb19-1" aria-hidden="true" tabindex="-1"></a><span class="kw">const</span> promise1 <span class="op">=</span> <span class="fu">fetch</span>(<span class="st">'https://api.example.com/data1'</span>)<span class="op">;</span></span>
<span id="cb19-2"><a href="#cb19-2" aria-hidden="true" tabindex="-1"></a><span class="kw">const</span> promise2 <span class="op">=</span> <span class="fu">fetch</span>(<span class="st">'https://api.example.com/data2'</span>)<span class="op">;</span></span>
<span id="cb19-3"><a href="#cb19-3" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb19-4"><a href="#cb19-4" aria-hidden="true" tabindex="-1"></a><span class="bu">Promise</span><span class="op">.</span><span class="fu">all</span>([promise1<span class="op">,</span> promise2])</span>
<span id="cb19-5"><a href="#cb19-5" aria-hidden="true" tabindex="-1"></a>  <span class="op">.</span><span class="fu">then</span>(responses <span class="kw">=&gt;</span> <span class="bu">Promise</span><span class="op">.</span><span class="fu">all</span>(responses<span class="op">.</span><span class="fu">map</span>(res <span class="kw">=&gt;</span> res<span class="op">.</span><span class="fu">json</span>())))</span>
<span id="cb19-6"><a href="#cb19-6" aria-hidden="true" tabindex="-1"></a>  <span class="op">.</span><span class="fu">then</span>(data <span class="kw">=&gt;</span> <span class="bu">console</span><span class="op">.</span><span class="fu">log</span>(data))</span>
<span id="cb19-7"><a href="#cb19-7" aria-hidden="true" tabindex="-1"></a>  <span class="op">.</span><span class="fu">catch</span>(error <span class="kw">=&gt;</span> <span class="bu">console</span><span class="op">.</span><span class="fu">error</span>(<span class="st">"Error fetching data:"</span><span class="op">,</span> error))<span class="op">;</span></span></code></pre></div>
<h3 id="example-using-promise.race">Example: Using <code>Promise.race()</code></h3>
<div class="sourceCode" id="cb20"><pre class="sourceCode javascript"><code class="sourceCode javascript"><span id="cb20-1"><a href="#cb20-1" aria-hidden="true" tabindex="-1"></a><span class="kw">const</span> promise1 <span class="op">=</span> <span class="kw">new</span> <span class="bu">Promise</span>((resolve) <span class="kw">=&gt;</span> <span class="pp">setTimeout</span>(resolve<span class="op">,</span> <span class="dv">500</span><span class="op">,</span> <span class="st">'Slow response'</span>))<span class="op">;</span></span>
<span id="cb20-2"><a href="#cb20-2" aria-hidden="true" tabindex="-1"></a><span class="kw">const</span> promise2 <span class="op">=</span> <span class="kw">new</span> <span class="bu">Promise</span>((resolve) <span class="kw">=&gt;</span> <span class="pp">setTimeout</span>(resolve<span class="op">,</span> <span class="dv">100</span><span class="op">,</span> <span class="st">'Fast response'</span>))<span class="op">;</span></span>
<span id="cb20-3"><a href="#cb20-3" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb20-4"><a href="#cb20-4" aria-hidden="true" tabindex="-1"></a><span class="bu">Promise</span><span class="op">.</span><span class="fu">race</span>([promise1<span class="op">,</span> promise2])</span>
<span id="cb20-5"><a href="#cb20-5" aria-hidden="true" tabindex="-1"></a>  <span class="op">.</span><span class="fu">then</span>(value <span class="kw">=&gt;</span> <span class="bu">console</span><span class="op">.</span><span class="fu">log</span>(<span class="st">"First response:"</span><span class="op">,</span> value))<span class="op">;</span> <span class="co">// Output: First response: Fast response</span></span></code></pre></div>
<h3 id="example-using-promise.allsettled">Example: Using <code>Promise.allSettled()</code></h3>
<div class="sourceCode" id="cb21"><pre class="sourceCode javascript"><code class="sourceCode javascript"><span id="cb21-1"><a href="#cb21-1" aria-hidden="true" tabindex="-1"></a><span class="kw">const</span> promise1 <span class="op">=</span> <span class="bu">Promise</span><span class="op">.</span><span class="fu">resolve</span>(<span class="st">'Success!'</span>)<span class="op">;</span></span>
<span id="cb21-2"><a href="#cb21-2" aria-hidden="true" tabindex="-1"></a><span class="kw">const</span> promise2 <span class="op">=</span> <span class="kw">new</span> <span class="bu">Promise</span>((resolve<span class="op">,</span> reject) <span class="kw">=&gt;</span> <span class="pp">setTimeout</span>(reject<span class="op">,</span> <span class="dv">100</span><span class="op">,</span> <span class="st">'Failed!'</span>))<span class="op">;</span></span>
<span id="cb21-3"><a href="#cb21-3" aria-hidden="true" tabindex="-1"></a><span class="kw">const</span> promise3 <span class="op">=</span> <span class="kw">new</span> <span class="bu">Promise</span>((resolve) <span class="kw">=&gt;</span> <span class="pp">setTimeout</span>(resolve<span class="op">,</span> <span class="dv">200</span><span class="op">,</span> <span class="st">'Another Success!'</span>))<span class="op">;</span></span>
<span id="cb21-4"><a href="#cb21-4" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb21-5"><a href="#cb21-5" aria-hidden="true" tabindex="-1"></a><span class="bu">Promise</span><span class="op">.</span><span class="fu">allSettled</span>([promise1<span class="op">,</span> promise2<span class="op">,</span> promise3])</span>
<span id="cb21-6"><a href="#cb21-6" aria-hidden="true" tabindex="-1"></a>  <span class="op">.</span><span class="fu">then</span>(results <span class="kw">=&gt;</span> <span class="bu">console</span><span class="op">.</span><span class="fu">log</span>(results))<span class="op">;</span></span></code></pre></div>
<p>These advanced techniques significantly expand the capabilities of Promises, enabling efficient management of complex asynchronous workflows within your JavaScript applications. Understanding and utilizing these methods is crucial for building robust and scalable asynchronous systems.</p>
<h2 id="common-use-cases">Common Use Cases</h2>
<p>Promises are indispensable for managing asynchronous operations in modern JavaScript applications. Here are some common use cases:</p>
<h3 id="fetching-data-from-an-api">Fetching Data from an API</h3>
<p>Fetching data from a remote API is a classic use case for Promises. The <code>fetch</code> API, for example, returns a Promise that resolves with the response object once the data is retrieved.</p>
<div class="sourceCode" id="cb22"><pre class="sourceCode javascript"><code class="sourceCode javascript"><span id="cb22-1"><a href="#cb22-1" aria-hidden="true" tabindex="-1"></a><span class="fu">fetch</span>(<span class="st">'https://api.example.com/data'</span>)</span>
<span id="cb22-2"><a href="#cb22-2" aria-hidden="true" tabindex="-1"></a>  <span class="op">.</span><span class="fu">then</span>(response <span class="kw">=&gt;</span> {</span>
<span id="cb22-3"><a href="#cb22-3" aria-hidden="true" tabindex="-1"></a>    <span class="cf">if</span> (<span class="op">!</span>response<span class="op">.</span><span class="at">ok</span>) {</span>
<span id="cb22-4"><a href="#cb22-4" aria-hidden="true" tabindex="-1"></a>      <span class="cf">throw</span> <span class="kw">new</span> <span class="bu">Error</span>(<span class="vs">`HTTP error! status: </span><span class="sc">${</span>response<span class="op">.</span><span class="at">status</span><span class="sc">}</span><span class="vs">`</span>)<span class="op">;</span></span>
<span id="cb22-5"><a href="#cb22-5" aria-hidden="true" tabindex="-1"></a>    }</span>
<span id="cb22-6"><a href="#cb22-6" aria-hidden="true" tabindex="-1"></a>    <span class="cf">return</span> response<span class="op">.</span><span class="fu">json</span>()<span class="op">;</span></span>
<span id="cb22-7"><a href="#cb22-7" aria-hidden="true" tabindex="-1"></a>  })</span>
<span id="cb22-8"><a href="#cb22-8" aria-hidden="true" tabindex="-1"></a>  <span class="op">.</span><span class="fu">then</span>(data <span class="kw">=&gt;</span> {</span>
<span id="cb22-9"><a href="#cb22-9" aria-hidden="true" tabindex="-1"></a>    <span class="co">// Process the received data</span></span>
<span id="cb22-10"><a href="#cb22-10" aria-hidden="true" tabindex="-1"></a>    <span class="bu">console</span><span class="op">.</span><span class="fu">log</span>(data)<span class="op">;</span></span>
<span id="cb22-11"><a href="#cb22-11" aria-hidden="true" tabindex="-1"></a>  })</span>
<span id="cb22-12"><a href="#cb22-12" aria-hidden="true" tabindex="-1"></a>  <span class="op">.</span><span class="fu">catch</span>(error <span class="kw">=&gt;</span> {</span>
<span id="cb22-13"><a href="#cb22-13" aria-hidden="true" tabindex="-1"></a>    <span class="bu">console</span><span class="op">.</span><span class="fu">error</span>(<span class="st">'There has been a problem with your fetch operation:'</span><span class="op">,</span> error)<span class="op">;</span></span>
<span id="cb22-14"><a href="#cb22-14" aria-hidden="true" tabindex="-1"></a>  })<span class="op">;</span></span></code></pre></div>
<h3 id="handling-asynchronous-operations">Handling Asynchronous Operations</h3>
<p>Any operation that doesn’t complete immediately—like file I/O, network requests, or timers—is a candidate for using Promises. This allows you to avoid callback hell and write more readable asynchronous code. For example, consider updating multiple parts of a UI after an asynchronous operation completes:</p>
<div class="sourceCode" id="cb23"><pre class="sourceCode javascript"><code class="sourceCode javascript"><span id="cb23-1"><a href="#cb23-1" aria-hidden="true" tabindex="-1"></a><span class="kw">function</span> <span class="fu">updateUI</span>(data) {</span>
<span id="cb23-2"><a href="#cb23-2" aria-hidden="true" tabindex="-1"></a>  <span class="co">// Update the UI elements based on the data received.</span></span>
<span id="cb23-3"><a href="#cb23-3" aria-hidden="true" tabindex="-1"></a>  <span class="bu">document</span><span class="op">.</span><span class="fu">getElementById</span>(<span class="st">'element1'</span>)<span class="op">.</span><span class="at">textContent</span> <span class="op">=</span> data<span class="op">.</span><span class="at">value1</span><span class="op">;</span></span>
<span id="cb23-4"><a href="#cb23-4" aria-hidden="true" tabindex="-1"></a>  <span class="bu">document</span><span class="op">.</span><span class="fu">getElementById</span>(<span class="st">'element2'</span>)<span class="op">.</span><span class="at">textContent</span> <span class="op">=</span> data<span class="op">.</span><span class="at">value2</span><span class="op">;</span></span>
<span id="cb23-5"><a href="#cb23-5" aria-hidden="true" tabindex="-1"></a>}</span>
<span id="cb23-6"><a href="#cb23-6" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb23-7"><a href="#cb23-7" aria-hidden="true" tabindex="-1"></a><span class="fu">someAsyncOperation</span>()</span>
<span id="cb23-8"><a href="#cb23-8" aria-hidden="true" tabindex="-1"></a>  <span class="op">.</span><span class="fu">then</span>(data <span class="kw">=&gt;</span> <span class="fu">updateUI</span>(data))</span>
<span id="cb23-9"><a href="#cb23-9" aria-hidden="true" tabindex="-1"></a>  <span class="op">.</span><span class="fu">catch</span>(error <span class="kw">=&gt;</span> <span class="bu">console</span><span class="op">.</span><span class="fu">error</span>(<span class="st">"Error updating UI:"</span><span class="op">,</span> error))<span class="op">;</span></span></code></pre></div>
<h3 id="working-with-third-party-libraries">Working with Third-Party Libraries</h3>
<p>Many JavaScript libraries and frameworks utilize Promises for their asynchronous operations. Understanding how to work with Promises is essential for integrating these libraries effectively into your projects. For instance, many database interaction libraries return Promises representing the completion of database queries.</p>
<h3 id="example-fetching-data-with-a-promise">Example: Fetching Data with a Promise</h3>
<p>This example demonstrates fetching data from a JSONPlaceholder API endpoint.</p>
<div class="sourceCode" id="cb24"><pre class="sourceCode javascript"><code class="sourceCode javascript"><span id="cb24-1"><a href="#cb24-1" aria-hidden="true" tabindex="-1"></a><span class="fu">fetch</span>(<span class="st">'https://jsonplaceholder.typicode.com/todos/1'</span>)</span>
<span id="cb24-2"><a href="#cb24-2" aria-hidden="true" tabindex="-1"></a>  <span class="op">.</span><span class="fu">then</span>(response <span class="kw">=&gt;</span> response<span class="op">.</span><span class="fu">json</span>())</span>
<span id="cb24-3"><a href="#cb24-3" aria-hidden="true" tabindex="-1"></a>  <span class="op">.</span><span class="fu">then</span>(data <span class="kw">=&gt;</span> {</span>
<span id="cb24-4"><a href="#cb24-4" aria-hidden="true" tabindex="-1"></a>    <span class="bu">console</span><span class="op">.</span><span class="fu">log</span>(<span class="st">"Todo:"</span><span class="op">,</span> data)<span class="op">;</span></span>
<span id="cb24-5"><a href="#cb24-5" aria-hidden="true" tabindex="-1"></a>  })</span>
<span id="cb24-6"><a href="#cb24-6" aria-hidden="true" tabindex="-1"></a>  <span class="op">.</span><span class="fu">catch</span>(error <span class="kw">=&gt;</span> <span class="bu">console</span><span class="op">.</span><span class="fu">error</span>(<span class="st">'Error fetching todo:'</span><span class="op">,</span> error))<span class="op">;</span></span></code></pre></div>
<h3 id="example-handling-multiple-api-requests">Example: Handling Multiple API Requests</h3>
<p>This example shows how to use <code>Promise.all</code> to fetch data from multiple API endpoints concurrently.</p>
<div class="sourceCode" id="cb25"><pre class="sourceCode javascript"><code class="sourceCode javascript"><span id="cb25-1"><a href="#cb25-1" aria-hidden="true" tabindex="-1"></a><span class="kw">const</span> url1 <span class="op">=</span> <span class="st">'https://jsonplaceholder.typicode.com/todos/1'</span><span class="op">;</span></span>
<span id="cb25-2"><a href="#cb25-2" aria-hidden="true" tabindex="-1"></a><span class="kw">const</span> url2 <span class="op">=</span> <span class="st">'https://jsonplaceholder.typicode.com/todos/2'</span><span class="op">;</span></span>
<span id="cb25-3"><a href="#cb25-3" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb25-4"><a href="#cb25-4" aria-hidden="true" tabindex="-1"></a><span class="bu">Promise</span><span class="op">.</span><span class="fu">all</span>([</span>
<span id="cb25-5"><a href="#cb25-5" aria-hidden="true" tabindex="-1"></a>  <span class="fu">fetch</span>(url1)<span class="op">.</span><span class="fu">then</span>(response <span class="kw">=&gt;</span> response<span class="op">.</span><span class="fu">json</span>())<span class="op">,</span></span>
<span id="cb25-6"><a href="#cb25-6" aria-hidden="true" tabindex="-1"></a>  <span class="fu">fetch</span>(url2)<span class="op">.</span><span class="fu">then</span>(response <span class="kw">=&gt;</span> response<span class="op">.</span><span class="fu">json</span>())</span>
<span id="cb25-7"><a href="#cb25-7" aria-hidden="true" tabindex="-1"></a>])</span>
<span id="cb25-8"><a href="#cb25-8" aria-hidden="true" tabindex="-1"></a>  <span class="op">.</span><span class="fu">then</span>(data <span class="kw">=&gt;</span> {</span>
<span id="cb25-9"><a href="#cb25-9" aria-hidden="true" tabindex="-1"></a>    <span class="bu">console</span><span class="op">.</span><span class="fu">log</span>(<span class="st">"Todos:"</span><span class="op">,</span> data)<span class="op">;</span></span>
<span id="cb25-10"><a href="#cb25-10" aria-hidden="true" tabindex="-1"></a>  })</span>
<span id="cb25-11"><a href="#cb25-11" aria-hidden="true" tabindex="-1"></a>  <span class="op">.</span><span class="fu">catch</span>(error <span class="kw">=&gt;</span> <span class="bu">console</span><span class="op">.</span><span class="fu">error</span>(<span class="st">'Error fetching todos:'</span><span class="op">,</span> error))<span class="op">;</span></span></code></pre></div>
<p>These examples showcase how Promises streamline asynchronous operations, making your code cleaner, more readable, and easier to maintain. Proper use of Promises is fundamental to building robust and efficient JavaScript applications. The use of <code>async/await</code> would further enhance these examples by simplifying the asynchronous control flow.</p>
<h2 id="debugging-and-troubleshooting">Debugging and Troubleshooting</h2>
<p>Debugging asynchronous code, especially code using Promises, can be challenging. This section outlines common errors and provides techniques to identify and resolve issues effectively.</p>
<h3 id="common-promise-errors">Common Promise Errors</h3>
<ul>
<li><p><strong>Unhandled Promise Rejections:</strong> If a Promise rejects and no <code>.catch()</code> handler is present in the chain, a warning (or in some environments, an error) will be logged to the console. This indicates a missed error-handling opportunity. Ensure every Promise chain has a <code>.catch()</code> handler to handle potential rejections.</p></li>
<li><p><strong>Incorrect <code>.then()</code> chaining:</strong> Incorrectly chaining <code>.then()</code> methods can lead to unexpected behavior. Make sure the return value of each <code>.then()</code> is a Promise if you intend to chain further asynchronous operations. Returning a non-Promise value will prevent chaining.</p></li>
<li><p><strong>Mixing synchronous and asynchronous code:</strong> Carefully manage synchronous and asynchronous code within Promise chains. Avoid performing blocking operations within Promise handlers, as this can lead to performance issues and deadlocks.</p></li>
<li><p><strong>Forgotten <code>await</code>:</strong> In <code>async/await</code> code, forgetting the <code>await</code> keyword before a Promise will not pause execution, potentially leading to race conditions or unexpected order of operations.</p></li>
<li><p><strong>Error propagation in <code>.then()</code>:</strong> While using <code>.then()</code> for error handling is possible with a two-argument callback, it’s often less readable and error-prone than using <code>.catch()</code>. Using two arguments in <code>.then()</code> is generally discouraged unless you specifically need to perform different actions based on success or failure in the same <code>.then()</code> block.</p></li>
</ul>
<h3 id="debugging-techniques">Debugging Techniques</h3>
<ul>
<li><p><strong>Console Logging:</strong> Use <code>console.log()</code> strategically throughout your Promise chains to track the state of the Promises, the values passed between <code>.then()</code> methods, and the sequence of execution. Log the Promise itself, its state (using <code>Promise.prototype.then</code>), and the values it resolves or rejects with.</p></li>
<li><p><strong>Debugging Tools:</strong> Use your browser’s developer tools (e.g., Chrome DevTools) to set breakpoints within your Promise handlers and step through the code execution line by line. The debugger will allow you to inspect variables and trace the flow of execution.</p></li>
<li><p><strong><code>try...catch</code> blocks:</strong> Even when using Promises, encapsulate potentially error-prone asynchronous operations within <code>try...catch</code> blocks to catch and handle exceptions effectively.</p></li>
<li><p><strong>Promise Inspection:</strong> Directly inspect promises in your browser’s debugger. This can show the current state (pending, fulfilled, rejected) and the resolved value or rejection reason.</p></li>
<li><p><strong>Async Stack Traces:</strong> Modern browsers offer improved stack traces for asynchronous operations, enabling better pinpointing of errors originating within Promise chains.</p></li>
</ul>
<h3 id="identifying-and-resolving-issues">Identifying and Resolving Issues</h3>
<ol type="1">
<li><p><strong>Read the Error Messages:</strong> Carefully examine any error messages displayed in the console. These messages often provide valuable clues about the nature and location of the problem.</p></li>
<li><p><strong>Check Promise States:</strong> Use debugging tools or <code>console.log()</code> to inspect the state of your Promises (pending, fulfilled, rejected) at different points in the execution flow.</p></li>
<li><p><strong>Simplify Your Code:</strong> If you encounter complex Promise chains, try simplifying them to isolate the problematic section. Break down large chains into smaller, more manageable units.</p></li>
<li><p><strong>Test Thoroughly:</strong> Write unit tests to cover various scenarios, including successful resolutions and rejections. This can significantly improve the reliability and maintainability of your asynchronous code.</p></li>
</ol>
<h3 id="best-practices-for-using-promises">Best Practices for Using Promises</h3>
<ul>
<li><p><strong>Always handle rejections:</strong> Use <code>.catch()</code> at the end of every Promise chain to handle potential errors. Avoid relying solely on unhandled rejection warnings.</p></li>
<li><p><strong>Keep chains concise:</strong> Avoid excessively long chains; break them into smaller, more manageable pieces for improved readability and maintainability.</p></li>
<li><p><strong>Prefer <code>async/await</code>:</strong> For cleaner and more readable asynchronous code, leverage <code>async/await</code> whenever possible. It simplifies error handling with <code>try...catch</code> and makes asynchronous code look more synchronous.</p></li>
<li><p><strong>Avoid mixing synchronous and asynchronous code unnecessarily:</strong> Keep synchronous operations separated from asynchronous operations in Promise chains.</p></li>
<li><p><strong>Proper Error Handling:</strong> Include descriptive error messages in rejected Promises to aid debugging.</p></li>
</ul>
<p>By following these debugging techniques and best practices, you can greatly improve your ability to write, understand, and maintain robust asynchronous code using ES6 Promises. Careful consideration of error handling and a systematic approach to debugging will lead to more reliable and less error-prone applications.</p>


<footer>Copyright 2025 - Muthukrishnan</footer>
<script async="" src="https://pagead2.googlesyndication.com/pagead/js/adsbygoogle.js?client=ca-pub-3609399560636561" crossorigin="anonymous"></script>




</body></html>