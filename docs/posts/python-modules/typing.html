<!DOCTYPE html>
<html xmlns="http://www.w3.org/1999/xhtml" lang="en" xml:lang="en"><head>

<meta charset="utf-8">
<meta name="generator" content="quarto-1.6.39">

<meta name="viewport" content="width=device-width, initial-scale=1.0, user-scalable=yes">

<meta name="author" content="Muthukrishnan">

<title>typing - Documentation – Technical Manuals</title>
<style>
html {
  color: #1a1a1a;
  background-color: #fdfdfd;
}
body {
  margin: 0 auto;
  max-width: 36em;
  padding-left: 50px;
  padding-right: 50px;
  padding-top: 50px;
  padding-bottom: 50px;
  hyphens: auto;
  overflow-wrap: break-word;
  text-rendering: optimizeLegibility;
  font-kerning: normal;
}
@media (max-width: 600px) {
  body {
    font-size: 0.9em;
    padding: 12px;
  }
  h1 {
    font-size: 1.8em;
  }
}
@media print {
  html {
    background-color: white;
  }
  body {
    background-color: transparent;
    color: black;
    font-size: 12pt;
  }
  p, h2, h3 {
    orphans: 3;
    widows: 3;
  }
  h2, h3, h4 {
    page-break-after: avoid;
  }
}
p {
  margin: 1em 0;
}
a {
  color: #1a1a1a;
}
a:visited {
  color: #1a1a1a;
}
img {
  max-width: 100%;
}
svg {
  height; auto;
  max-width: 100%;
}
h1, h2, h3, h4, h5, h6 {
  margin-top: 1.4em;
}
h5, h6 {
  font-size: 1em;
  font-style: italic;
}
h6 {
  font-weight: normal;
}
ol, ul {
  padding-left: 1.7em;
  margin-top: 1em;
}
li > ol, li > ul {
  margin-top: 0;
}
ul > li:not(:has(> p)) > ul,
ol > li:not(:has(> p)) > ul,
ul > li:not(:has(> p)) > ol,
ol > li:not(:has(> p)) > ol {
  margin-bottom: 0;
}
ul > li:not(:has(> p)) > ul > li:has(> p),
ol > li:not(:has(> p)) > ul > li:has(> p),
ul > li:not(:has(> p)) > ol > li:has(> p),
ol > li:not(:has(> p)) > ol > li:has(> p) {
  margin-top: 1rem;
}
blockquote {
  margin: 1em 0 1em 1.7em;
  padding-left: 1em;
  border-left: 2px solid #e6e6e6;
  color: #606060;
}
code {
  font-family: Menlo, Monaco, Consolas, 'Lucida Console', monospace;
  font-size: 85%;
  margin: 0;
  hyphens: manual;
}
pre {
  margin: 1em 0;
  overflow: auto;
}
pre code {
  padding: 0;
  overflow: visible;
  overflow-wrap: normal;
}
.sourceCode {
 background-color: transparent;
 overflow: visible;
}
hr {
  background-color: #1a1a1a;
  border: none;
  height: 1px;
  margin: 1em 0;
}
table {
  margin: 1em 0;
  border-collapse: collapse;
  width: 100%;
  overflow-x: auto;
  display: block;
  font-variant-numeric: lining-nums tabular-nums;
}
table caption {
  margin-bottom: 0.75em;
}
tbody {
  margin-top: 0.5em;
  border-top: 1px solid #1a1a1a;
  border-bottom: 1px solid #1a1a1a;
}
th {
  border-top: 1px solid #1a1a1a;
  padding: 0.25em 0.5em 0.25em 0.5em;
}
td {
  padding: 0.125em 0.5em 0.25em 0.5em;
}
header {
  margin-bottom: 4em;
  text-align: center;
}
#TOC li {
  list-style: none;
}
#TOC ul {
  padding-left: 1.3em;
}
#TOC > ul {
  padding-left: 0;
}
#TOC a:not(:hover) {
  text-decoration: none;
}
code{white-space: pre-wrap;}
span.smallcaps{font-variant: small-caps;}
div.columns{display: flex; gap: min(4vw, 1.5em);}
div.column{flex: auto; overflow-x: auto;}
div.hanging-indent{margin-left: 1.5em; text-indent: -1.5em;}
ul.task-list{list-style: none;}
ul.task-list li input[type="checkbox"] {
  width: 0.8em;
  margin: 0 0.8em 0.2em -1em; /* quarto-specific, see https://github.com/quarto-dev/quarto-cli/issues/4556 */ 
  vertical-align: middle;
}
/* CSS for syntax highlighting */
pre > code.sourceCode { white-space: pre; position: relative; }
pre > code.sourceCode > span { line-height: 1.25; }
pre > code.sourceCode > span:empty { height: 1.2em; }
.sourceCode { overflow: visible; }
code.sourceCode > span { color: inherit; text-decoration: inherit; }
div.sourceCode { margin: 1em 0; }
pre.sourceCode { margin: 0; }
@media screen {
div.sourceCode { overflow: auto; }
}
@media print {
pre > code.sourceCode { white-space: pre-wrap; }
pre > code.sourceCode > span { display: inline-block; text-indent: -5em; padding-left: 5em; }
}
pre.numberSource code
  { counter-reset: source-line 0; }
pre.numberSource code > span
  { position: relative; left: -4em; counter-increment: source-line; }
pre.numberSource code > span > a:first-child::before
  { content: counter(source-line);
    position: relative; left: -1em; text-align: right; vertical-align: baseline;
    border: none; display: inline-block;
    -webkit-touch-callout: none; -webkit-user-select: none;
    -khtml-user-select: none; -moz-user-select: none;
    -ms-user-select: none; user-select: none;
    padding: 0 4px; width: 4em;
  }
pre.numberSource { margin-left: 3em;  padding-left: 4px; }
div.sourceCode
  {   }
@media screen {
pre > code.sourceCode > span > a:first-child::before { text-decoration: underline; }
}
</style>


<link href="../../favicon.ico" rel="icon">
<script async="" src="https://www.googletagmanager.com/gtag/js?id=G-MXDPF6L5TL"></script>

<script type="text/javascript">

window.dataLayer = window.dataLayer || [];
function gtag(){dataLayer.push(arguments);}
gtag('js', new Date());
gtag('config', 'G-MXDPF6L5TL', { 'anonymize_ip': true});
</script>
<link rel="icon" type="image/x-icon" href="favicon.ico">
<meta property="og:title" content="typing - Documentation – Technical Manuals">
<meta property="og:site_name" content="Technical Manuals">
</head><body><div class="navigation-header">
    <nav>
        <div>
            <div class="logo">
                <a href="../../" aria-label="Home">
                    <span>Technical Manuals - Home</span>
                </a>
            </div>
            <div class="nav-menu">
                <ul>
                    <li>
                        <a href="../../about.html">
                            <span class="menu-text">About</span>
                        </a>
                    </li>
                    <li> 
                        <a href="https://github.com/muthuspark" target="_blank">
                            <span class="menu-text">Github</span>
                        </a>
                    </li>
                    <li>
                        <a href="https://linkedin.com/in/krimuthu" target="_blank">
                            <span class="menu-text">Linkedin</span>
                        </a>
                    </li>
                    <li>
                        <button onclick="window.print()" class="print-button">
                            <svg width="20" height="20" viewbox="0 0 24 24" fill="none" stroke="currentColor" stroke-width="2">
                              <path d="M6 9V2h12v7"></path>
                              <path d="M6 18H4a2 2 0 01-2-2v-5a2 2 0 012-2h16a2 2 0 012 2v5a2 2 0 01-2 2h-2"></path>
                              <path d="M6 14h12v8H6z"></path>
                            </svg>
                            Print Page
                        </button>
                    </li>
                </ul>
            </div>
        </div>
    </nav>
</div>


<link rel="stylesheet" href="../../styles.css">





<header id="title-block-header">
<h1 class="title">typing - Documentation</h1>

</header>

<nav id="TOC" role="doc-toc">
    <h2 id="toc-title">On this page</h2>
   
  <ul>
  <li><a href="#what-is-type-hinting" id="toc-what-is-type-hinting">What is Type Hinting?</a></li>
  <li><a href="#benefits-of-type-hinting" id="toc-benefits-of-type-hinting">Benefits of Type Hinting</a></li>
  <li><a href="#type-hints-vs.-static-typing" id="toc-type-hints-vs.-static-typing">Type Hints vs.&nbsp;Static Typing</a></li>
  <li><a href="#basic-syntax-and-examples" id="toc-basic-syntax-and-examples">Basic Syntax and Examples</a></li>
  <li><a href="#basic-type-hints" id="toc-basic-type-hints">Basic Type Hints</a>
  <ul>
  <li><a href="#built-in-types-int-float-str-bool-etc." id="toc-built-in-types-int-float-str-bool-etc.">Built-in Types (<code>int</code>, <code>float</code>, <code>str</code>, <code>bool</code>, etc.)</a></li>
  <li><a href="#collection-types-list-tuple-dict-set" id="toc-collection-types-list-tuple-dict-set">Collection Types (<code>list</code>, <code>tuple</code>, <code>dict</code>, <code>set</code>)</a></li>
  <li><a href="#nonetype" id="toc-nonetype"><code>NoneType</code></a></li>
  <li><a href="#using-type-hints-with-variables" id="toc-using-type-hints-with-variables">Using Type Hints with Variables</a></li>
  <li><a href="#type-hints-with-function-parameters-and-return-values" id="toc-type-hints-with-function-parameters-and-return-values">Type Hints with Function Parameters and Return Values</a></li>
  </ul></li>
  <li><a href="#advanced-type-hints" id="toc-advanced-type-hints">Advanced Type Hints</a>
  <ul>
  <li><a href="#union-types" id="toc-union-types">Union Types</a></li>
  <li><a href="#optional-types" id="toc-optional-types">Optional Types</a></li>
  <li><a href="#type-aliases" id="toc-type-aliases">Type Aliases</a></li>
  <li><a href="#generic-types" id="toc-generic-types">Generic Types</a></li>
  <li><a href="#callable-types" id="toc-callable-types">Callable Types</a></li>
  <li><a href="#type-variables" id="toc-type-variables">Type Variables</a></li>
  <li><a href="#newtype" id="toc-newtype"><code>NewType</code></a></li>
  </ul></li>
  <li><a href="#type-hints-and-modules" id="toc-type-hints-and-modules">Type Hints and Modules</a>
  <ul>
  <li><a href="#type-hints-in-module-level-code" id="toc-type-hints-in-module-level-code">Type Hints in Module-Level Code</a></li>
  <li><a href="#type-hints-in-classes" id="toc-type-hints-in-classes">Type Hints in Classes</a></li>
  <li><a href="#type-hints-in-methods" id="toc-type-hints-in-methods">Type Hints in Methods</a></li>
  <li><a href="#type-hints-with-inheritance" id="toc-type-hints-with-inheritance">Type Hints with Inheritance</a></li>
  <li><a href="#type-hints-and-interfaces-duck-typing" id="toc-type-hints-and-interfaces-duck-typing">Type Hints and Interfaces (Duck Typing)</a></li>
  <li><a href="#forward-references" id="toc-forward-references">Forward References</a></li>
  <li><a href="#using-type-hints-with-external-libraries" id="toc-using-type-hints-with-external-libraries">Using Type Hints with External Libraries</a></li>
  </ul></li>
  <li><a href="#type-checking-with-mypy" id="toc-type-checking-with-mypy">Type Checking with MyPy</a>
  <ul>
  <li><a href="#installing-mypy" id="toc-installing-mypy">Installing MyPy</a></li>
  <li><a href="#running-mypy" id="toc-running-mypy">Running MyPy</a></li>
  <li><a href="#understanding-mypy-errors" id="toc-understanding-mypy-errors">Understanding MyPy Errors</a></li>
  <li><a href="#mypy-configuration" id="toc-mypy-configuration">MyPy Configuration</a></li>
  <li><a href="#ignoring-type-errors" id="toc-ignoring-type-errors">Ignoring Type Errors</a></li>
  <li><a href="#using-mypy-with-large-projects" id="toc-using-mypy-with-large-projects">Using MyPy with Large Projects</a></li>
  </ul></li>
  <li><a href="#best-practices-and-style-guide" id="toc-best-practices-and-style-guide">Best Practices and Style Guide</a>
  <ul>
  <li><a href="#when-to-use-type-hints" id="toc-when-to-use-type-hints">When to Use Type Hints</a></li>
  <li><a href="#when-not-to-use-type-hints" id="toc-when-not-to-use-type-hints">When Not to Use Type Hints</a></li>
  <li><a href="#maintaining-consistency-in-your-code" id="toc-maintaining-consistency-in-your-code">Maintaining Consistency in Your Code</a></li>
  <li><a href="#using-comments-effectively" id="toc-using-comments-effectively">Using Comments Effectively</a></li>
  <li><a href="#collaborating-on-projects-with-type-hints" id="toc-collaborating-on-projects-with-type-hints">Collaborating on Projects with Type Hints</a></li>
  </ul></li>
  <li><a href="#advanced-topics-and-future-directions" id="toc-advanced-topics-and-future-directions">Advanced Topics and Future Directions</a>
  <ul>
  <li><a href="#runtime-type-checking" id="toc-runtime-type-checking">Runtime Type Checking</a></li>
  <li><a href="#type-hinting-with-data-classes" id="toc-type-hinting-with-data-classes">Type Hinting with Data Classes</a></li>
  <li><a href="#type-hinting-with-dataclasses" id="toc-type-hinting-with-dataclasses">Type Hinting with <code>dataclasses</code></a></li>
  <li><a href="#type-hinting-with-namedtuples" id="toc-type-hinting-with-namedtuples">Type Hinting with Namedtuples</a></li>
  <li><a href="#future-developments-in-type-hinting" id="toc-future-developments-in-type-hinting">Future Developments in Type Hinting</a></li>
  </ul></li>
  </ul>
</nav>
<h3 id="what-is-type-hinting">What is Type Hinting?</h3>
<p>Type hinting in Python is a system for specifying the expected types of variables, function arguments, and return values. It’s a form of <em>static analysis</em> – meaning the type information is checked during development, not at runtime. Unlike languages with strict static typing (like Java or C++), Python’s type hinting is optional and doesn’t enforce type constraints at runtime. The type hints are primarily used by tools like linters (e.g., MyPy) and IDEs to provide better code analysis, improved autocompletion, and early detection of type-related errors. These tools can identify type inconsistencies <em>before</em> your code is executed, helping prevent bugs.</p>
<h3 id="benefits-of-type-hinting">Benefits of Type Hinting</h3>
<ul>
<li><p><strong>Improved Code Readability:</strong> Type hints act as clear documentation, making it easier to understand the purpose and expected data types of different parts of your code. This is especially helpful for larger projects and when collaborating with other developers.</p></li>
<li><p><strong>Early Bug Detection:</strong> Static analysis tools can identify type errors during development, preventing runtime exceptions and making debugging significantly easier. This catches subtle errors that might otherwise go unnoticed until much later.</p></li>
<li><p><strong>Enhanced Code Maintainability:</strong> With clear type hints, refactoring becomes safer and less prone to introducing new bugs. The tools can alert you to potential breaking changes caused by type mismatches.</p></li>
<li><p><strong>Better Autocompletion and IDE Support:</strong> Modern IDEs leverage type hints to provide more accurate autocompletion suggestions, making development faster and more efficient.</p></li>
<li><p><strong>Improved Collaboration:</strong> Type hints facilitate clearer communication among developers about the expected behavior and interfaces of different code modules.</p></li>
</ul>
<h3 id="type-hints-vs.-static-typing">Type Hints vs.&nbsp;Static Typing</h3>
<p>Python is a dynamically typed language. This means that the type of a variable is checked only at runtime. Type hinting adds a layer of <em>static</em> type checking <em>without</em> fundamentally changing Python’s runtime behavior. The interpreter still doesn’t enforce type constraints during execution; it only relies on the type hints for analysis. In contrast, statically-typed languages (like C++) require explicit type declarations that are checked <em>before</em> the program runs, leading to compile-time errors if types are mismatched. Python’s type hinting provides a balance – the benefits of static analysis without the rigid restrictions of fully static typing.</p>
<h3 id="basic-syntax-and-examples">Basic Syntax and Examples</h3>
<p>Python uses a special syntax for type hints, employing colons (<code>:</code>) to indicate the expected type after a variable name or function parameter. The <code>typing</code> module provides many useful type annotations, including <code>List</code>, <code>Dict</code>, <code>Tuple</code>, <code>Optional</code>, <code>Union</code>, etc.</p>
<p><strong>Simple Example:</strong></p>
<div class="sourceCode" id="cb1"><pre class="sourceCode python"><code class="sourceCode python"><span id="cb1-1"><a href="#cb1-1" aria-hidden="true" tabindex="-1"></a>name: <span class="bu">str</span> <span class="op">=</span> <span class="st">"Alice"</span>  <span class="co"># name is hinted to be a string</span></span>
<span id="cb1-2"><a href="#cb1-2" aria-hidden="true" tabindex="-1"></a>age: <span class="bu">int</span> <span class="op">=</span> <span class="dv">30</span>       <span class="co"># age is hinted to be an integer</span></span>
<span id="cb1-3"><a href="#cb1-3" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb1-4"><a href="#cb1-4" aria-hidden="true" tabindex="-1"></a><span class="kw">def</span> greet(name: <span class="bu">str</span>) <span class="op">-&gt;</span> <span class="bu">str</span>: <span class="co"># function takes a string and returns a string</span></span>
<span id="cb1-5"><a href="#cb1-5" aria-hidden="true" tabindex="-1"></a>    <span class="cf">return</span> <span class="ss">f"Hello, </span><span class="sc">{</span>name<span class="sc">}</span><span class="ss">!"</span></span>
<span id="cb1-6"><a href="#cb1-6" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb1-7"><a href="#cb1-7" aria-hidden="true" tabindex="-1"></a><span class="bu">print</span>(greet(<span class="st">"Bob"</span>))</span></code></pre></div>
<p><strong>Example with List and Optional:</strong></p>
<div class="sourceCode" id="cb2"><pre class="sourceCode python"><code class="sourceCode python"><span id="cb2-1"><a href="#cb2-1" aria-hidden="true" tabindex="-1"></a><span class="im">from</span> typing <span class="im">import</span> List, Optional</span>
<span id="cb2-2"><a href="#cb2-2" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb2-3"><a href="#cb2-3" aria-hidden="true" tabindex="-1"></a><span class="kw">def</span> process_data(data: List[<span class="bu">int</span>], threshold: Optional[<span class="bu">int</span>] <span class="op">=</span> <span class="va">None</span>) <span class="op">-&gt;</span> List[<span class="bu">int</span>]:</span>
<span id="cb2-4"><a href="#cb2-4" aria-hidden="true" tabindex="-1"></a>    <span class="co"># ... function body ...</span></span>
<span id="cb2-5"><a href="#cb2-5" aria-hidden="true" tabindex="-1"></a>    <span class="cf">return</span> filtered_data</span></code></pre></div>
<p>This example shows that the <code>process_data</code> function expects a list of integers (<code>List[int]</code>) and an optional integer (<code>Optional[int]</code>) as input. The <code>-&gt;</code> notation indicates that the function returns a list of integers. MyPy or similar tools would flag errors if, for instance, you passed a string into <code>data</code> or returned something other than a list of integers. Note that these checks happen during static analysis; the code will still run even if the type hints are incorrect, but the static analysis will highlight the potential issues.</p>
<h2 id="basic-type-hints">Basic Type Hints</h2>
<h3 id="built-in-types-int-float-str-bool-etc.">Built-in Types (<code>int</code>, <code>float</code>, <code>str</code>, <code>bool</code>, etc.)</h3>
<p>Python’s built-in types are directly used for type hinting. These include:</p>
<ul>
<li><code>int</code>: Represents integers (e.g., <code>10</code>, <code>-5</code>, <code>0</code>).</li>
<li><code>float</code>: Represents floating-point numbers (e.g., <code>3.14</code>, <code>-2.5</code>).</li>
<li><code>str</code>: Represents strings (e.g., <code>"hello"</code>, <code>'Python'</code>).</li>
<li><code>bool</code>: Represents boolean values (<code>True</code> or <code>False</code>).</li>
<li><code>complex</code>: Represents complex numbers (e.g., <code>2+3j</code>).</li>
</ul>
<p><strong>Example:</strong></p>
<div class="sourceCode" id="cb3"><pre class="sourceCode python"><code class="sourceCode python"><span id="cb3-1"><a href="#cb3-1" aria-hidden="true" tabindex="-1"></a>x: <span class="bu">int</span> <span class="op">=</span> <span class="dv">10</span></span>
<span id="cb3-2"><a href="#cb3-2" aria-hidden="true" tabindex="-1"></a>y: <span class="bu">float</span> <span class="op">=</span> <span class="fl">3.14159</span></span>
<span id="cb3-3"><a href="#cb3-3" aria-hidden="true" tabindex="-1"></a>name: <span class="bu">str</span> <span class="op">=</span> <span class="st">"Alice"</span></span>
<span id="cb3-4"><a href="#cb3-4" aria-hidden="true" tabindex="-1"></a>is_active: <span class="bu">bool</span> <span class="op">=</span> <span class="va">True</span></span></code></pre></div>
<h3 id="collection-types-list-tuple-dict-set">Collection Types (<code>list</code>, <code>tuple</code>, <code>dict</code>, <code>set</code>)</h3>
<p>Type hints for collections specify both the container type and the type of elements it contains. The <code>typing</code> module provides helpful type annotations for this:</p>
<ul>
<li><code>List[T]</code>: A list containing elements of type <code>T</code>.</li>
<li><code>Tuple[T1, T2, ...]</code>: A tuple containing elements of types <code>T1</code>, <code>T2</code>, etc. The number of types must match the tuple’s length.</li>
<li><code>Dict[K, V]</code>: A dictionary with keys of type <code>K</code> and values of type <code>V</code>.</li>
<li><code>Set[T]</code>: A set containing elements of type <code>T</code>.</li>
</ul>
<p><strong>Example:</strong></p>
<div class="sourceCode" id="cb4"><pre class="sourceCode python"><code class="sourceCode python"><span id="cb4-1"><a href="#cb4-1" aria-hidden="true" tabindex="-1"></a>numbers: List[<span class="bu">int</span>] <span class="op">=</span> [<span class="dv">1</span>, <span class="dv">2</span>, <span class="dv">3</span>, <span class="dv">4</span>]</span>
<span id="cb4-2"><a href="#cb4-2" aria-hidden="true" tabindex="-1"></a>coordinates: Tuple[<span class="bu">float</span>, <span class="bu">float</span>] <span class="op">=</span> (<span class="fl">10.5</span>, <span class="fl">20.2</span>)</span>
<span id="cb4-3"><a href="#cb4-3" aria-hidden="true" tabindex="-1"></a>user_data: Dict[<span class="bu">str</span>, <span class="bu">str</span>] <span class="op">=</span> {<span class="st">"name"</span>: <span class="st">"Bob"</span>, <span class="st">"email"</span>: <span class="st">"bob@example.com"</span>}</span>
<span id="cb4-4"><a href="#cb4-4" aria-hidden="true" tabindex="-1"></a>unique_numbers: Set[<span class="bu">int</span>] <span class="op">=</span> {<span class="dv">1</span>, <span class="dv">2</span>, <span class="dv">3</span>}</span></code></pre></div>
<h3 id="nonetype"><code>NoneType</code></h3>
<p>The <code>NoneType</code> represents the absence of a value. You can use <code>None</code> directly or import <code>Optional</code> from the <code>typing</code> module to indicate that a variable might be <code>None</code>.</p>
<p><strong>Example:</strong></p>
<div class="sourceCode" id="cb5"><pre class="sourceCode python"><code class="sourceCode python"><span id="cb5-1"><a href="#cb5-1" aria-hidden="true" tabindex="-1"></a><span class="im">from</span> typing <span class="im">import</span> Optional</span>
<span id="cb5-2"><a href="#cb5-2" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb5-3"><a href="#cb5-3" aria-hidden="true" tabindex="-1"></a>user_input: Optional[<span class="bu">str</span>] <span class="op">=</span> <span class="va">None</span>  <span class="co"># user_input can be a string or None</span></span>
<span id="cb5-4"><a href="#cb5-4" aria-hidden="true" tabindex="-1"></a>optional_value: Optional[<span class="bu">int</span>] <span class="op">=</span> <span class="dv">10</span> <span class="co">#optional_value can be int or None</span></span></code></pre></div>
<h3 id="using-type-hints-with-variables">Using Type Hints with Variables</h3>
<p>Type hints for variables are placed after the variable name, separated by a colon (<code>:</code>). As mentioned earlier, these are for static analysis and don’t affect runtime behavior.</p>
<p><strong>Example:</strong></p>
<div class="sourceCode" id="cb6"><pre class="sourceCode python"><code class="sourceCode python"><span id="cb6-1"><a href="#cb6-1" aria-hidden="true" tabindex="-1"></a>name: <span class="bu">str</span> <span class="op">=</span> <span class="st">"Alice"</span></span>
<span id="cb6-2"><a href="#cb6-2" aria-hidden="true" tabindex="-1"></a>age: <span class="bu">int</span> <span class="op">=</span> <span class="dv">30</span></span>
<span id="cb6-3"><a href="#cb6-3" aria-hidden="true" tabindex="-1"></a>scores: List[<span class="bu">float</span>] <span class="op">=</span> [<span class="fl">85.5</span>, <span class="fl">92.0</span>, <span class="fl">78.8</span>]</span></code></pre></div>
<h3 id="type-hints-with-function-parameters-and-return-values">Type Hints with Function Parameters and Return Values</h3>
<p>Type hints for function parameters are placed after the parameter name, separated by a colon. The return type is specified after the function signature using <code>-&gt;</code>.</p>
<p><strong>Example:</strong></p>
<div class="sourceCode" id="cb7"><pre class="sourceCode python"><code class="sourceCode python"><span id="cb7-1"><a href="#cb7-1" aria-hidden="true" tabindex="-1"></a><span class="im">from</span> typing <span class="im">import</span> List</span>
<span id="cb7-2"><a href="#cb7-2" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb7-3"><a href="#cb7-3" aria-hidden="true" tabindex="-1"></a><span class="kw">def</span> calculate_average(numbers: List[<span class="bu">float</span>]) <span class="op">-&gt;</span> <span class="bu">float</span>:</span>
<span id="cb7-4"><a href="#cb7-4" aria-hidden="true" tabindex="-1"></a>    <span class="cf">return</span> <span class="bu">sum</span>(numbers) <span class="op">/</span> <span class="bu">len</span>(numbers)</span>
<span id="cb7-5"><a href="#cb7-5" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb7-6"><a href="#cb7-6" aria-hidden="true" tabindex="-1"></a><span class="kw">def</span> greet(name: <span class="bu">str</span>, age: <span class="bu">int</span>) <span class="op">-&gt;</span> <span class="bu">str</span>:</span>
<span id="cb7-7"><a href="#cb7-7" aria-hidden="true" tabindex="-1"></a>    <span class="cf">return</span> <span class="ss">f"Hello, </span><span class="sc">{</span>name<span class="sc">}</span><span class="ss">! You are </span><span class="sc">{</span>age<span class="sc">}</span><span class="ss"> years old."</span></span></code></pre></div>
<p>In this example, <code>calculate_average</code> takes a list of floats and returns a float, while <code>greet</code> takes a string and an integer and returns a string. A type checker would detect errors if, for example, you attempted to pass a list of strings to <code>calculate_average</code> or if <code>greet</code> returned an integer instead of a string.</p>
<h2 id="advanced-type-hints">Advanced Type Hints</h2>
<h3 id="union-types">Union Types</h3>
<p>Union types specify that a variable can hold values of multiple types. They are defined using the <code>Union</code> type from the <code>typing</code> module (or the <code>|</code> operator in Python 3.10+).</p>
<p><strong>Example:</strong></p>
<div class="sourceCode" id="cb8"><pre class="sourceCode python"><code class="sourceCode python"><span id="cb8-1"><a href="#cb8-1" aria-hidden="true" tabindex="-1"></a><span class="im">from</span> typing <span class="im">import</span> Union</span>
<span id="cb8-2"><a href="#cb8-2" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb8-3"><a href="#cb8-3" aria-hidden="true" tabindex="-1"></a><span class="kw">def</span> process_value(value: Union[<span class="bu">int</span>, <span class="bu">str</span>]) <span class="op">-&gt;</span> Union[<span class="bu">int</span>, <span class="bu">str</span>]:</span>
<span id="cb8-4"><a href="#cb8-4" aria-hidden="true" tabindex="-1"></a>    <span class="cf">if</span> <span class="bu">isinstance</span>(value, <span class="bu">int</span>):</span>
<span id="cb8-5"><a href="#cb8-5" aria-hidden="true" tabindex="-1"></a>        <span class="cf">return</span> value <span class="op">*</span> <span class="dv">2</span></span>
<span id="cb8-6"><a href="#cb8-6" aria-hidden="true" tabindex="-1"></a>    <span class="cf">elif</span> <span class="bu">isinstance</span>(value, <span class="bu">str</span>):</span>
<span id="cb8-7"><a href="#cb8-7" aria-hidden="true" tabindex="-1"></a>        <span class="cf">return</span> value.upper()</span>
<span id="cb8-8"><a href="#cb8-8" aria-hidden="true" tabindex="-1"></a>    <span class="cf">else</span>:</span>
<span id="cb8-9"><a href="#cb8-9" aria-hidden="true" tabindex="-1"></a>        <span class="cf">return</span> <span class="st">"Invalid input"</span></span>
<span id="cb8-10"><a href="#cb8-10" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb8-11"><a href="#cb8-11" aria-hidden="true" tabindex="-1"></a><span class="bu">print</span>(process_value(<span class="dv">10</span>))   <span class="co"># Output: 20</span></span>
<span id="cb8-12"><a href="#cb8-12" aria-hidden="true" tabindex="-1"></a><span class="bu">print</span>(process_value(<span class="st">"hello"</span>)) <span class="co"># Output: HELLO</span></span></code></pre></div>
<p>This function accepts either an integer or a string and returns either an integer or a string, depending on the input.</p>
<h3 id="optional-types">Optional Types</h3>
<p>Optional types indicate that a variable can either hold a value of a specific type or be <code>None</code>. This is a shorthand for <code>Union[T, None]</code>.</p>
<p><strong>Example:</strong></p>
<div class="sourceCode" id="cb9"><pre class="sourceCode python"><code class="sourceCode python"><span id="cb9-1"><a href="#cb9-1" aria-hidden="true" tabindex="-1"></a><span class="im">from</span> typing <span class="im">import</span> Optional</span>
<span id="cb9-2"><a href="#cb9-2" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb9-3"><a href="#cb9-3" aria-hidden="true" tabindex="-1"></a><span class="kw">def</span> get_user_name(user_id: <span class="bu">int</span>) <span class="op">-&gt;</span> Optional[<span class="bu">str</span>]:</span>
<span id="cb9-4"><a href="#cb9-4" aria-hidden="true" tabindex="-1"></a>    <span class="co"># ... function logic to retrieve user name ...</span></span>
<span id="cb9-5"><a href="#cb9-5" aria-hidden="true" tabindex="-1"></a>    user_name <span class="op">=</span>  find_user(user_id) <span class="co">#May not find a name</span></span>
<span id="cb9-6"><a href="#cb9-6" aria-hidden="true" tabindex="-1"></a>    <span class="cf">return</span> user_name</span>
<span id="cb9-7"><a href="#cb9-7" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb9-8"><a href="#cb9-8" aria-hidden="true" tabindex="-1"></a><span class="bu">print</span>(get_user_name(<span class="dv">123</span>)) <span class="co">#Might print a name, might print None</span></span></code></pre></div>
<p>If a user with the given ID doesn’t exist, the function can return <code>None</code>.</p>
<h3 id="type-aliases">Type Aliases</h3>
<p>Type aliases provide a way to give a more descriptive name to a complex type. They use the <code>type:</code> keyword.</p>
<p><strong>Example:</strong></p>
<div class="sourceCode" id="cb10"><pre class="sourceCode python"><code class="sourceCode python"><span id="cb10-1"><a href="#cb10-1" aria-hidden="true" tabindex="-1"></a><span class="im">from</span> typing <span class="im">import</span> List, Tuple</span>
<span id="cb10-2"><a href="#cb10-2" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb10-3"><a href="#cb10-3" aria-hidden="true" tabindex="-1"></a>Point <span class="op">=</span> Tuple[<span class="bu">float</span>, <span class="bu">float</span>]</span>
<span id="cb10-4"><a href="#cb10-4" aria-hidden="true" tabindex="-1"></a>PointsList <span class="op">=</span> List[Point]</span>
<span id="cb10-5"><a href="#cb10-5" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb10-6"><a href="#cb10-6" aria-hidden="true" tabindex="-1"></a><span class="kw">def</span> calculate_distances(points: PointsList) <span class="op">-&gt;</span> List[<span class="bu">float</span>]:</span>
<span id="cb10-7"><a href="#cb10-7" aria-hidden="true" tabindex="-1"></a>    <span class="co"># ... function logic to calculate distances ...</span></span>
<span id="cb10-8"><a href="#cb10-8" aria-hidden="true" tabindex="-1"></a>    <span class="cf">return</span> distances</span></code></pre></div>
<p>This defines <code>Point</code> as a tuple of two floats and <code>PointsList</code> as a list of <code>Point</code> objects. This improves readability and makes the code easier to understand.</p>
<h3 id="generic-types">Generic Types</h3>
<p>Generic types allow you to define types that can work with different underlying types. They use type variables (explained below).</p>
<p><strong>Example:</strong></p>
<div class="sourceCode" id="cb11"><pre class="sourceCode python"><code class="sourceCode python"><span id="cb11-1"><a href="#cb11-1" aria-hidden="true" tabindex="-1"></a><span class="im">from</span> typing <span class="im">import</span> TypeVar, Generic</span>
<span id="cb11-2"><a href="#cb11-2" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb11-3"><a href="#cb11-3" aria-hidden="true" tabindex="-1"></a>T <span class="op">=</span> TypeVar(<span class="st">'T'</span>)</span>
<span id="cb11-4"><a href="#cb11-4" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb11-5"><a href="#cb11-5" aria-hidden="true" tabindex="-1"></a><span class="kw">class</span> Stack(Generic[T]):</span>
<span id="cb11-6"><a href="#cb11-6" aria-hidden="true" tabindex="-1"></a>    <span class="kw">def</span> <span class="fu">__init__</span>(<span class="va">self</span>):</span>
<span id="cb11-7"><a href="#cb11-7" aria-hidden="true" tabindex="-1"></a>        <span class="va">self</span>._items: List[T] <span class="op">=</span> []</span>
<span id="cb11-8"><a href="#cb11-8" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb11-9"><a href="#cb11-9" aria-hidden="true" tabindex="-1"></a>    <span class="kw">def</span> push(<span class="va">self</span>, item: T):</span>
<span id="cb11-10"><a href="#cb11-10" aria-hidden="true" tabindex="-1"></a>        <span class="va">self</span>._items.append(item)</span>
<span id="cb11-11"><a href="#cb11-11" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb11-12"><a href="#cb11-12" aria-hidden="true" tabindex="-1"></a>    <span class="kw">def</span> pop(<span class="va">self</span>) <span class="op">-&gt;</span> T:</span>
<span id="cb11-13"><a href="#cb11-13" aria-hidden="true" tabindex="-1"></a>        <span class="cf">return</span> <span class="va">self</span>._items.pop()</span>
<span id="cb11-14"><a href="#cb11-14" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb11-15"><a href="#cb11-15" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb11-16"><a href="#cb11-16" aria-hidden="true" tabindex="-1"></a>stack_int <span class="op">=</span> Stack[<span class="bu">int</span>]()</span>
<span id="cb11-17"><a href="#cb11-17" aria-hidden="true" tabindex="-1"></a>stack_int.push(<span class="dv">10</span>)</span>
<span id="cb11-18"><a href="#cb11-18" aria-hidden="true" tabindex="-1"></a>stack_int.push(<span class="dv">20</span>)</span>
<span id="cb11-19"><a href="#cb11-19" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb11-20"><a href="#cb11-20" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb11-21"><a href="#cb11-21" aria-hidden="true" tabindex="-1"></a>stack_str <span class="op">=</span> Stack[<span class="bu">str</span>]()</span>
<span id="cb11-22"><a href="#cb11-22" aria-hidden="true" tabindex="-1"></a>stack_str.push(<span class="st">"hello"</span>)</span></code></pre></div>
<p><code>Stack[T]</code> can be used to create stacks of integers (<code>Stack[int]</code>), strings (<code>Stack[str]</code>), or any other type.</p>
<h3 id="callable-types">Callable Types</h3>
<p>Callable types represent functions. They are defined using <code>Callable[[param_types], return_type]</code>.</p>
<p><strong>Example:</strong></p>
<div class="sourceCode" id="cb12"><pre class="sourceCode python"><code class="sourceCode python"><span id="cb12-1"><a href="#cb12-1" aria-hidden="true" tabindex="-1"></a><span class="im">from</span> typing <span class="im">import</span> Callable</span>
<span id="cb12-2"><a href="#cb12-2" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb12-3"><a href="#cb12-3" aria-hidden="true" tabindex="-1"></a><span class="kw">def</span> apply_function(func: Callable[[<span class="bu">int</span>, <span class="bu">int</span>], <span class="bu">int</span>], x: <span class="bu">int</span>, y: <span class="bu">int</span>) <span class="op">-&gt;</span> <span class="bu">int</span>:</span>
<span id="cb12-4"><a href="#cb12-4" aria-hidden="true" tabindex="-1"></a>    <span class="cf">return</span> func(x, y)</span>
<span id="cb12-5"><a href="#cb12-5" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb12-6"><a href="#cb12-6" aria-hidden="true" tabindex="-1"></a><span class="kw">def</span> add(a: <span class="bu">int</span>, b: <span class="bu">int</span>) <span class="op">-&gt;</span> <span class="bu">int</span>:</span>
<span id="cb12-7"><a href="#cb12-7" aria-hidden="true" tabindex="-1"></a>    <span class="cf">return</span> a <span class="op">+</span> b</span>
<span id="cb12-8"><a href="#cb12-8" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb12-9"><a href="#cb12-9" aria-hidden="true" tabindex="-1"></a><span class="bu">print</span>(apply_function(add, <span class="dv">5</span>, <span class="dv">3</span>)) <span class="co"># Output: 8</span></span></code></pre></div>
<h3 id="type-variables">Type Variables</h3>
<p>Type variables are placeholders for specific types that are determined later. They are defined using <code>TypeVar</code>.</p>
<p><strong>Example:</strong> (See the Generic Types example above)</p>
<div class="sourceCode" id="cb13"><pre class="sourceCode python"><code class="sourceCode python"><span id="cb13-1"><a href="#cb13-1" aria-hidden="true" tabindex="-1"></a><span class="im">from</span> typing <span class="im">import</span> TypeVar</span>
<span id="cb13-2"><a href="#cb13-2" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb13-3"><a href="#cb13-3" aria-hidden="true" tabindex="-1"></a>T <span class="op">=</span> TypeVar(<span class="st">'T'</span>) <span class="co"># 'T' is a type variable</span></span>
<span id="cb13-4"><a href="#cb13-4" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb13-5"><a href="#cb13-5" aria-hidden="true" tabindex="-1"></a><span class="kw">def</span> identity(item: T) <span class="op">-&gt;</span> T:</span>
<span id="cb13-6"><a href="#cb13-6" aria-hidden="true" tabindex="-1"></a>  <span class="cf">return</span> item</span>
<span id="cb13-7"><a href="#cb13-7" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb13-8"><a href="#cb13-8" aria-hidden="true" tabindex="-1"></a><span class="bu">print</span>(identity(<span class="dv">10</span>)) <span class="co">#int</span></span>
<span id="cb13-9"><a href="#cb13-9" aria-hidden="true" tabindex="-1"></a><span class="bu">print</span>(identity(<span class="st">"hello"</span>)) <span class="co">#string</span></span></code></pre></div>
<p><code>T</code> can represent any type; the actual type is inferred during static analysis.</p>
<h3 id="newtype"><code>NewType</code></h3>
<p><code>NewType</code> from the <code>typing</code> module creates distinct types that are subtypes of an existing type. It’s primarily useful for enforcing type distinctions in your code even if the underlying types are the same.</p>
<p><strong>Example:</strong></p>
<div class="sourceCode" id="cb14"><pre class="sourceCode python"><code class="sourceCode python"><span id="cb14-1"><a href="#cb14-1" aria-hidden="true" tabindex="-1"></a><span class="im">from</span> typing <span class="im">import</span> NewType</span>
<span id="cb14-2"><a href="#cb14-2" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb14-3"><a href="#cb14-3" aria-hidden="true" tabindex="-1"></a>UserId <span class="op">=</span> NewType(<span class="st">'UserId'</span>, <span class="bu">int</span>)</span>
<span id="cb14-4"><a href="#cb14-4" aria-hidden="true" tabindex="-1"></a>ProductId <span class="op">=</span> NewType(<span class="st">'ProductId'</span>, <span class="bu">int</span>)</span>
<span id="cb14-5"><a href="#cb14-5" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb14-6"><a href="#cb14-6" aria-hidden="true" tabindex="-1"></a>user_id: UserId <span class="op">=</span> UserId(<span class="dv">123</span>)</span>
<span id="cb14-7"><a href="#cb14-7" aria-hidden="true" tabindex="-1"></a>product_id: ProductId <span class="op">=</span> ProductId(<span class="dv">456</span>)</span>
<span id="cb14-8"><a href="#cb14-8" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb14-9"><a href="#cb14-9" aria-hidden="true" tabindex="-1"></a><span class="co">#This would raise a type error with MyPy, even though they're both ints</span></span>
<span id="cb14-10"><a href="#cb14-10" aria-hidden="true" tabindex="-1"></a><span class="co">#user_id = product_id</span></span></code></pre></div>
<p>Although both <code>user_id</code> and <code>product_id</code> are integers, they are treated as different types by MyPy and similar type checkers. This improves type safety and code clarity, especially in cases where you want to represent different concepts using the same underlying data type.</p>
<h2 id="type-hints-and-modules">Type Hints and Modules</h2>
<h3 id="type-hints-in-module-level-code">Type Hints in Module-Level Code</h3>
<p>Type hints work seamlessly in module-level code, just as they do in functions. You can annotate variables, constants, and function definitions directly within your module files.</p>
<p><strong>Example:</strong></p>
<div class="sourceCode" id="cb15"><pre class="sourceCode python"><code class="sourceCode python"><span id="cb15-1"><a href="#cb15-1" aria-hidden="true" tabindex="-1"></a><span class="co"># my_module.py</span></span>
<span id="cb15-2"><a href="#cb15-2" aria-hidden="true" tabindex="-1"></a><span class="im">from</span> typing <span class="im">import</span> List</span>
<span id="cb15-3"><a href="#cb15-3" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb15-4"><a href="#cb15-4" aria-hidden="true" tabindex="-1"></a>my_variable: <span class="bu">int</span> <span class="op">=</span> <span class="dv">10</span></span>
<span id="cb15-5"><a href="#cb15-5" aria-hidden="true" tabindex="-1"></a>my_list: List[<span class="bu">str</span>] <span class="op">=</span> [<span class="st">"apple"</span>, <span class="st">"banana"</span>]</span>
<span id="cb15-6"><a href="#cb15-6" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb15-7"><a href="#cb15-7" aria-hidden="true" tabindex="-1"></a><span class="kw">def</span> my_function(param1: <span class="bu">str</span>) <span class="op">-&gt;</span> <span class="bu">int</span>:</span>
<span id="cb15-8"><a href="#cb15-8" aria-hidden="true" tabindex="-1"></a>    <span class="cf">return</span> <span class="bu">len</span>(param1)</span></code></pre></div>
<h3 id="type-hints-in-classes">Type Hints in Classes</h3>
<p>Within classes, type hints are used to annotate instance variables (attributes), class variables, and method parameters and return values.</p>
<p><strong>Example:</strong></p>
<div class="sourceCode" id="cb16"><pre class="sourceCode python"><code class="sourceCode python"><span id="cb16-1"><a href="#cb16-1" aria-hidden="true" tabindex="-1"></a><span class="im">from</span> typing <span class="im">import</span> List</span>
<span id="cb16-2"><a href="#cb16-2" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb16-3"><a href="#cb16-3" aria-hidden="true" tabindex="-1"></a><span class="kw">class</span> Person:</span>
<span id="cb16-4"><a href="#cb16-4" aria-hidden="true" tabindex="-1"></a>    name: <span class="bu">str</span></span>
<span id="cb16-5"><a href="#cb16-5" aria-hidden="true" tabindex="-1"></a>    age: <span class="bu">int</span></span>
<span id="cb16-6"><a href="#cb16-6" aria-hidden="true" tabindex="-1"></a>    friends: List[<span class="bu">str</span>]</span>
<span id="cb16-7"><a href="#cb16-7" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb16-8"><a href="#cb16-8" aria-hidden="true" tabindex="-1"></a>    <span class="kw">def</span> <span class="fu">__init__</span>(<span class="va">self</span>, name: <span class="bu">str</span>, age: <span class="bu">int</span>, friends: List[<span class="bu">str</span>]):</span>
<span id="cb16-9"><a href="#cb16-9" aria-hidden="true" tabindex="-1"></a>        <span class="va">self</span>.name <span class="op">=</span> name</span>
<span id="cb16-10"><a href="#cb16-10" aria-hidden="true" tabindex="-1"></a>        <span class="va">self</span>.age <span class="op">=</span> age</span>
<span id="cb16-11"><a href="#cb16-11" aria-hidden="true" tabindex="-1"></a>        <span class="va">self</span>.friends <span class="op">=</span> friends</span>
<span id="cb16-12"><a href="#cb16-12" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb16-13"><a href="#cb16-13" aria-hidden="true" tabindex="-1"></a>    <span class="kw">def</span> greet(<span class="va">self</span>) <span class="op">-&gt;</span> <span class="bu">str</span>:</span>
<span id="cb16-14"><a href="#cb16-14" aria-hidden="true" tabindex="-1"></a>        <span class="cf">return</span> <span class="ss">f"Hello, my name is </span><span class="sc">{</span><span class="va">self</span><span class="sc">.</span>name<span class="sc">}</span><span class="ss">"</span></span></code></pre></div>
<p>Note that type hints for instance variables are placed within the class definition but <em>outside</em> the <code>__init__</code> method.</p>
<h3 id="type-hints-in-methods">Type Hints in Methods</h3>
<p>Methods are functions within a class, and their type hints follow the same rules as regular functions: parameter types are indicated after each parameter name, separated by a colon, and the return type is specified using <code>-&gt;</code>. (See the <code>greet</code> method example in the previous section).</p>
<h3 id="type-hints-with-inheritance">Type Hints with Inheritance</h3>
<p>When using inheritance, type hints can help maintain type consistency. Subclasses should generally respect the type constraints established by their parent classes, although covariance and contravariance can introduce some flexibility.</p>
<p><strong>Example:</strong></p>
<div class="sourceCode" id="cb17"><pre class="sourceCode python"><code class="sourceCode python"><span id="cb17-1"><a href="#cb17-1" aria-hidden="true" tabindex="-1"></a><span class="im">from</span> typing <span class="im">import</span> List</span>
<span id="cb17-2"><a href="#cb17-2" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb17-3"><a href="#cb17-3" aria-hidden="true" tabindex="-1"></a><span class="kw">class</span> Animal:</span>
<span id="cb17-4"><a href="#cb17-4" aria-hidden="true" tabindex="-1"></a>    <span class="kw">def</span> make_sound(<span class="va">self</span>) <span class="op">-&gt;</span> <span class="bu">str</span>:</span>
<span id="cb17-5"><a href="#cb17-5" aria-hidden="true" tabindex="-1"></a>        <span class="cf">return</span> <span class="st">"Generic animal sound"</span></span>
<span id="cb17-6"><a href="#cb17-6" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb17-7"><a href="#cb17-7" aria-hidden="true" tabindex="-1"></a><span class="kw">class</span> Dog(Animal):</span>
<span id="cb17-8"><a href="#cb17-8" aria-hidden="true" tabindex="-1"></a>    <span class="kw">def</span> make_sound(<span class="va">self</span>) <span class="op">-&gt;</span> <span class="bu">str</span>:  <span class="co">#Return type matches base class</span></span>
<span id="cb17-9"><a href="#cb17-9" aria-hidden="true" tabindex="-1"></a>        <span class="cf">return</span> <span class="st">"Woof!"</span></span>
<span id="cb17-10"><a href="#cb17-10" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb17-11"><a href="#cb17-11" aria-hidden="true" tabindex="-1"></a><span class="kw">class</span> Cat(Animal):</span>
<span id="cb17-12"><a href="#cb17-12" aria-hidden="true" tabindex="-1"></a>    <span class="kw">def</span> make_sound(<span class="va">self</span>) <span class="op">-&gt;</span> <span class="bu">str</span>: <span class="co">#Return type matches base class</span></span>
<span id="cb17-13"><a href="#cb17-13" aria-hidden="true" tabindex="-1"></a>        <span class="cf">return</span> <span class="st">"Meow!"</span></span></code></pre></div>
<p>Here, the <code>make_sound</code> method in both <code>Dog</code> and <code>Cat</code> maintain the same return type as in <code>Animal</code>.</p>
<h3 id="type-hints-and-interfaces-duck-typing">Type Hints and Interfaces (Duck Typing)</h3>
<p>Python doesn’t have formal interfaces in the same way as Java or C#. However, type hints can help enforce a form of “duck typing” where you specify the expected methods and their types, even without explicit interface declarations. This allows for more flexible, yet still type-safe, design.</p>
<p><strong>Example:</strong></p>
<div class="sourceCode" id="cb18"><pre class="sourceCode python"><code class="sourceCode python"><span id="cb18-1"><a href="#cb18-1" aria-hidden="true" tabindex="-1"></a><span class="im">from</span> typing <span class="im">import</span> Protocol</span>
<span id="cb18-2"><a href="#cb18-2" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb18-3"><a href="#cb18-3" aria-hidden="true" tabindex="-1"></a><span class="kw">class</span> Shape(Protocol):  <span class="co">#Protocol is used to define an interface like behavior</span></span>
<span id="cb18-4"><a href="#cb18-4" aria-hidden="true" tabindex="-1"></a>    <span class="kw">def</span> area(<span class="va">self</span>) <span class="op">-&gt;</span> <span class="bu">float</span>: ...</span>
<span id="cb18-5"><a href="#cb18-5" aria-hidden="true" tabindex="-1"></a>    <span class="kw">def</span> perimeter(<span class="va">self</span>) <span class="op">-&gt;</span> <span class="bu">float</span>: ...</span>
<span id="cb18-6"><a href="#cb18-6" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb18-7"><a href="#cb18-7" aria-hidden="true" tabindex="-1"></a><span class="kw">class</span> Circle:</span>
<span id="cb18-8"><a href="#cb18-8" aria-hidden="true" tabindex="-1"></a>    <span class="kw">def</span> <span class="fu">__init__</span>(<span class="va">self</span>, radius: <span class="bu">float</span>):</span>
<span id="cb18-9"><a href="#cb18-9" aria-hidden="true" tabindex="-1"></a>        <span class="va">self</span>.radius <span class="op">=</span> radius</span>
<span id="cb18-10"><a href="#cb18-10" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb18-11"><a href="#cb18-11" aria-hidden="true" tabindex="-1"></a>    <span class="kw">def</span> area(<span class="va">self</span>) <span class="op">-&gt;</span> <span class="bu">float</span>:</span>
<span id="cb18-12"><a href="#cb18-12" aria-hidden="true" tabindex="-1"></a>        <span class="cf">return</span> <span class="fl">3.14159</span> <span class="op">*</span> <span class="va">self</span>.radius <span class="op">*</span> <span class="va">self</span>.radius</span>
<span id="cb18-13"><a href="#cb18-13" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb18-14"><a href="#cb18-14" aria-hidden="true" tabindex="-1"></a>    <span class="kw">def</span> perimeter(<span class="va">self</span>) <span class="op">-&gt;</span> <span class="bu">float</span>:</span>
<span id="cb18-15"><a href="#cb18-15" aria-hidden="true" tabindex="-1"></a>        <span class="cf">return</span> <span class="dv">2</span> <span class="op">*</span> <span class="fl">3.14159</span> <span class="op">*</span> <span class="va">self</span>.radius</span>
<span id="cb18-16"><a href="#cb18-16" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb18-17"><a href="#cb18-17" aria-hidden="true" tabindex="-1"></a><span class="kw">def</span> calculate_area(shape: Shape) <span class="op">-&gt;</span> <span class="bu">float</span>:</span>
<span id="cb18-18"><a href="#cb18-18" aria-hidden="true" tabindex="-1"></a>    <span class="cf">return</span> shape.area()</span>
<span id="cb18-19"><a href="#cb18-19" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb18-20"><a href="#cb18-20" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb18-21"><a href="#cb18-21" aria-hidden="true" tabindex="-1"></a>circle <span class="op">=</span> Circle(<span class="dv">5</span>)</span>
<span id="cb18-22"><a href="#cb18-22" aria-hidden="true" tabindex="-1"></a><span class="bu">print</span>(calculate_area(circle))</span></code></pre></div>
<p><code>Shape</code> acts as an informal interface. Any class implementing <code>area()</code> and <code>perimeter()</code> with the correct return types will satisfy the type checker.</p>
<h3 id="forward-references">Forward References</h3>
<p>Forward references are needed when a type is not yet defined when you write the type hint. This often occurs when dealing with classes that are defined later in the same file or in a separate module. You need to use string literals for forward references.</p>
<p><strong>Example:</strong></p>
<div class="sourceCode" id="cb19"><pre class="sourceCode python"><code class="sourceCode python"><span id="cb19-1"><a href="#cb19-1" aria-hidden="true" tabindex="-1"></a><span class="im">from</span> typing <span class="im">import</span> List</span>
<span id="cb19-2"><a href="#cb19-2" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb19-3"><a href="#cb19-3" aria-hidden="true" tabindex="-1"></a><span class="kw">class</span> Node:</span>
<span id="cb19-4"><a href="#cb19-4" aria-hidden="true" tabindex="-1"></a>    value: <span class="bu">int</span></span>
<span id="cb19-5"><a href="#cb19-5" aria-hidden="true" tabindex="-1"></a>    children: List[<span class="st">"Node"</span>] <span class="co">#Forward reference for Node</span></span>
<span id="cb19-6"><a href="#cb19-6" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb19-7"><a href="#cb19-7" aria-hidden="true" tabindex="-1"></a>    <span class="kw">def</span> <span class="fu">__init__</span>(<span class="va">self</span>, value: <span class="bu">int</span>, children: List[<span class="st">"Node"</span>] <span class="op">=</span> <span class="va">None</span>):</span>
<span id="cb19-8"><a href="#cb19-8" aria-hidden="true" tabindex="-1"></a>        <span class="va">self</span>.value <span class="op">=</span> value</span>
<span id="cb19-9"><a href="#cb19-9" aria-hidden="true" tabindex="-1"></a>        <span class="va">self</span>.children <span class="op">=</span> children <span class="cf">if</span> children <span class="kw">is</span> <span class="kw">not</span> <span class="va">None</span> <span class="cf">else</span> []</span></code></pre></div>
<p>Here <code>"Node"</code> within the <code>List</code> type hint is a forward reference, because the class <code>Node</code> is not fully defined until after the <code>List</code> type hint.</p>
<h3 id="using-type-hints-with-external-libraries">Using Type Hints with External Libraries</h3>
<p>When using external libraries, you might need to refer to types defined within those libraries. This typically involves importing the necessary type aliases or classes from the external library. If the library doesn’t provide type hints, you might need to add your own using <code># type: ignore</code> as a last resort, but adding typing information back to the library directly is often better.</p>
<p><strong>Example:</strong></p>
<div class="sourceCode" id="cb20"><pre class="sourceCode python"><code class="sourceCode python"><span id="cb20-1"><a href="#cb20-1" aria-hidden="true" tabindex="-1"></a><span class="im">import</span> requests</span>
<span id="cb20-2"><a href="#cb20-2" aria-hidden="true" tabindex="-1"></a><span class="im">from</span> typing <span class="im">import</span> Dict</span>
<span id="cb20-3"><a href="#cb20-3" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb20-4"><a href="#cb20-4" aria-hidden="true" tabindex="-1"></a><span class="kw">def</span> fetch_data(url: <span class="bu">str</span>) <span class="op">-&gt;</span> Dict[<span class="bu">str</span>, <span class="bu">any</span>]:</span>
<span id="cb20-5"><a href="#cb20-5" aria-hidden="true" tabindex="-1"></a>    response <span class="op">=</span> requests.get(url)</span>
<span id="cb20-6"><a href="#cb20-6" aria-hidden="true" tabindex="-1"></a>    response.raise_for_status()  <span class="co"># Raise HTTPError for bad responses (4xx or 5xx)</span></span>
<span id="cb20-7"><a href="#cb20-7" aria-hidden="true" tabindex="-1"></a>    <span class="cf">return</span> response.json()</span></code></pre></div>
<p>This code uses the <code>requests</code> library and indicates that the return type is a dictionary using <code>Dict[str, any]</code>. The <code>any</code> type is a wildcard indicating that values in the dictionary can be of any type. Better type hinting might be possible if the structure of the JSON response is known and can be captured with more specific types.</p>
<h2 id="type-checking-with-mypy">Type Checking with MyPy</h2>
<h3 id="installing-mypy">Installing MyPy</h3>
<p>MyPy is a static type checker for Python. To install it, use pip:</p>
<div class="sourceCode" id="cb21"><pre class="sourceCode bash"><code class="sourceCode bash"><span id="cb21-1"><a href="#cb21-1" aria-hidden="true" tabindex="-1"></a><span class="ex">pip</span> install mypy</span></code></pre></div>
<p>You might need administrator or root privileges depending on your system.</p>
<h3 id="running-mypy">Running MyPy</h3>
<p>After installing MyPy, you can run it from your terminal. The basic command is:</p>
<div class="sourceCode" id="cb22"><pre class="sourceCode bash"><code class="sourceCode bash"><span id="cb22-1"><a href="#cb22-1" aria-hidden="true" tabindex="-1"></a><span class="ex">mypy</span> <span class="op">&lt;</span>your_file.py<span class="op">&gt;</span></span></code></pre></div>
<p>Replace <code>&lt;your_file.py&gt;</code> with the path to your Python file. MyPy will analyze your code and report any type errors it finds. To check multiple files, simply list them:</p>
<div class="sourceCode" id="cb23"><pre class="sourceCode bash"><code class="sourceCode bash"><span id="cb23-1"><a href="#cb23-1" aria-hidden="true" tabindex="-1"></a><span class="ex">mypy</span> file1.py file2.py module1/file3.py</span></code></pre></div>
<p>For larger projects, it’s better to specify a directory to check. MyPy will recursively check all files ending with ‘.py’ in that directory:</p>
<div class="sourceCode" id="cb24"><pre class="sourceCode bash"><code class="sourceCode bash"><span id="cb24-1"><a href="#cb24-1" aria-hidden="true" tabindex="-1"></a><span class="ex">mypy</span> my_project_directory</span></code></pre></div>
<h3 id="understanding-mypy-errors">Understanding MyPy Errors</h3>
<p>MyPy error messages indicate type inconsistencies in your code. They usually specify the file, line number, and the nature of the type error. The error messages are quite informative and generally guide you towards the source of the problem. Common errors include:</p>
<ul>
<li><p><strong>Incompatible types:</strong> This occurs when you assign a value of an incompatible type to a variable or pass an argument of the wrong type to a function.</p></li>
<li><p><strong>Missing return statement:</strong> MyPy will detect functions that are declared to return a value but don’t have a <code>return</code> statement in all code paths.</p></li>
<li><p><strong>Unreachable code:</strong> MyPy can detect code blocks that are never executed (e.g., after a <code>return</code> statement in a function).</p></li>
<li><p><strong>Type variable issues:</strong> Errors related to incorrect usage of generics or type variables (especially if not used properly with <code>TypeVar</code>).</p></li>
</ul>
<p>Example Error Message:</p>
<pre><code>my_file.py:10: error: Incompatible types in assignment (expression has type "str", variable has type "int")</code></pre>
<p>This message tells you that on line 10 of <code>my_file.py</code>, you’re trying to assign a string to an integer variable.</p>
<h3 id="mypy-configuration">MyPy Configuration</h3>
<p>MyPy can be configured using a <code>mypy.ini</code> file in your project’s root directory. This file allows you to specify various settings, such as:</p>
<ul>
<li><p><strong>Ignore specific errors:</strong> You can tell MyPy to ignore certain types of errors. This is generally discouraged unless there’s a strong reason (legacy code or external libraries without type hints).</p></li>
<li><p><strong>Specify Python version:</strong> This ensures that MyPy uses the correct type information for the Python version you’re targeting.</p></li>
<li><p><strong>Exclude files or directories:</strong> Useful for ignoring certain parts of a large project that aren’t ready for type checking.</p></li>
<li><p><strong>Strictness level:</strong> MyPy offers different levels of strictness. Higher levels catch more potential errors.</p></li>
</ul>
<p>A sample <code>mypy.ini</code> file:</p>
<div class="sourceCode" id="cb26"><pre class="sourceCode ini"><code class="sourceCode ini"><span id="cb26-1"><a href="#cb26-1" aria-hidden="true" tabindex="-1"></a><span class="kw">[mypy]</span></span>
<span id="cb26-2"><a href="#cb26-2" aria-hidden="true" tabindex="-1"></a><span class="dt">python_version </span><span class="ot">=</span><span class="st"> </span><span class="fl">3.10</span></span>
<span id="cb26-3"><a href="#cb26-3" aria-hidden="true" tabindex="-1"></a><span class="dt">ignore_missing_imports </span><span class="ot">=</span><span class="st"> </span><span class="kw">True</span></span>
<span id="cb26-4"><a href="#cb26-4" aria-hidden="true" tabindex="-1"></a><span class="dt">strict_optional </span><span class="ot">=</span><span class="st"> </span><span class="kw">True</span></span>
<span id="cb26-5"><a href="#cb26-5" aria-hidden="true" tabindex="-1"></a><span class="dt">exclude </span><span class="ot">=</span><span class="st"> venv</span></span></code></pre></div>
<h3 id="ignoring-type-errors">Ignoring Type Errors</h3>
<p>You should avoid ignoring type errors unless absolutely necessary. Ignoring errors can mask actual bugs in your code. If you must ignore a specific error, use the <code># type: ignore</code> comment on the problematic line. It’s better to understand and fix the error, but this allows you to temporarily bypass issues while working on other parts of the code:</p>
<div class="sourceCode" id="cb27"><pre class="sourceCode python"><code class="sourceCode python"><span id="cb27-1"><a href="#cb27-1" aria-hidden="true" tabindex="-1"></a><span class="co">#This line will cause an error in type checking if age is not int</span></span>
<span id="cb27-2"><a href="#cb27-2" aria-hidden="true" tabindex="-1"></a>user_age <span class="op">=</span> <span class="bu">input</span>(<span class="st">"Please enter your age:"</span>) <span class="co"># type: ignore</span></span></code></pre></div>
<h3 id="using-mypy-with-large-projects">Using MyPy with Large Projects</h3>
<p>For large projects, it’s best to:</p>
<ul>
<li><p><strong>Start incrementally:</strong> Don’t try to type-check your entire project at once. Focus on specific modules or sections and gradually expand your type coverage.</p></li>
<li><p><strong>Use a configuration file (<code>mypy.ini</code>):</strong> This allows for fine-grained control over the type checking process.</p></li>
<li><p><strong>Integrate MyPy into your CI/CD pipeline:</strong> This ensures that type errors are detected early and automatically during the build process.</p></li>
<li><p><strong>Use a type checker integration for your IDE:</strong> Modern IDEs often provide excellent integration with MyPy to provide feedback as you type your code.</p></li>
</ul>
<p>By systematically adopting type hints and using MyPy effectively, you can significantly improve the quality, maintainability, and reliability of your Python code.</p>
<h2 id="best-practices-and-style-guide">Best Practices and Style Guide</h2>
<h3 id="when-to-use-type-hints">When to Use Type Hints</h3>
<p>Type hints are most beneficial when:</p>
<ul>
<li><p><strong>Working on larger projects:</strong> The advantages of early error detection and improved readability become increasingly significant as project size grows.</p></li>
<li><p><strong>Collaborating with other developers:</strong> Type hints act as a form of clear communication about expected data types and function interfaces.</p></li>
<li><p><strong>Writing libraries or APIs:</strong> Type hints are crucial for ensuring that external users of your code understand and use it correctly.</p></li>
<li><p><strong>Refactoring existing code:</strong> Type hints can make refactoring safer and less prone to introducing subtle bugs.</p></li>
<li><p><strong>Improving code maintainability:</strong> Type hints make it easier to understand and modify code over time, reducing the risk of regressions.</p></li>
<li><p><strong>When dealing with complex data structures or algorithms:</strong> Type hints can significantly enhance understanding and reduce errors.</p></li>
</ul>
<h3 id="when-not-to-use-type-hints">When Not to Use Type Hints</h3>
<p>While type hints are highly beneficial in many cases, there are situations where they might be less crucial or even counterproductive:</p>
<ul>
<li><p><strong>Very small, simple scripts:</strong> The overhead of adding type hints might outweigh the benefits for extremely short, self-contained scripts.</p></li>
<li><p><strong>Rapid prototyping:</strong> When exploring ideas quickly, the focus should be on functionality rather than strict type enforcement. Type hints can be added later.</p></li>
<li><p><strong>Code with frequent type changes:</strong> If you anticipate needing to change data types frequently, the effort spent on type hinting might not be worthwhile.</p></li>
<li><p><strong>Legacy code:</strong> Adding type hints to large amounts of legacy code can be challenging and time-consuming. A phased approach might be necessary.</p></li>
<li><p><strong>External libraries without comprehensive type hints:</strong> Integrating with a library lacking proper type information can be challenging.</p></li>
</ul>
<h3 id="maintaining-consistency-in-your-code">Maintaining Consistency in Your Code</h3>
<p>Consistency is crucial for readability and maintainability when using type hints. Establish a clear style guide and stick to it:</p>
<ul>
<li><p><strong>Choose a consistent style for type hints:</strong> Follow PEP 484 (and PEP 526) conventions.</p></li>
<li><p><strong>Use type aliases for complex types:</strong> This improves readability.</p></li>
<li><p><strong>Be thorough:</strong> Annotate as much of your code as possible, while balancing practicality.</p></li>
<li><p><strong>Keep type hints concise:</strong> Avoid overly verbose annotations.</p></li>
<li><p><strong>Update type hints as code evolves:</strong> Change type hints whenever you make modifications to your code that affect its data types.</p></li>
</ul>
<h3 id="using-comments-effectively">Using Comments Effectively</h3>
<p>Comments can complement type hints, but don’t use comments to duplicate information already provided by type hints. Comments should clarify <em>why</em> something is done, not <em>what</em> is being done, if that <em>what</em> is already clear from the type hint.</p>
<p><strong>Good:</strong></p>
<div class="sourceCode" id="cb28"><pre class="sourceCode python"><code class="sourceCode python"><span id="cb28-1"><a href="#cb28-1" aria-hidden="true" tabindex="-1"></a><span class="co"># This function is optimized for speed rather than memory efficiency.</span></span>
<span id="cb28-2"><a href="#cb28-2" aria-hidden="true" tabindex="-1"></a><span class="kw">def</span> fast_function(data: List[<span class="bu">int</span>]) <span class="op">-&gt;</span> <span class="bu">int</span>:</span>
<span id="cb28-3"><a href="#cb28-3" aria-hidden="true" tabindex="-1"></a>    <span class="co">#...</span></span></code></pre></div>
<p><strong>Bad:</strong> (The type hint already shows it takes a list of integers)</p>
<div class="sourceCode" id="cb29"><pre class="sourceCode python"><code class="sourceCode python"><span id="cb29-1"><a href="#cb29-1" aria-hidden="true" tabindex="-1"></a><span class="co"># This function takes a list of integers as input</span></span>
<span id="cb29-2"><a href="#cb29-2" aria-hidden="true" tabindex="-1"></a><span class="kw">def</span> fast_function(data: List[<span class="bu">int</span>]) <span class="op">-&gt;</span> <span class="bu">int</span>:</span>
<span id="cb29-3"><a href="#cb29-3" aria-hidden="true" tabindex="-1"></a>    <span class="co">#...</span></span></code></pre></div>
<h3 id="collaborating-on-projects-with-type-hints">Collaborating on Projects with Type Hints</h3>
<p>When working in teams, establish clear guidelines for using type hints:</p>
<ul>
<li><p><strong>Use a shared style guide:</strong> Ensure everyone follows the same conventions for type hinting.</p></li>
<li><p><strong>Use a consistent linter:</strong> MyPy or a similar tool should be used by all team members to detect type errors early.</p></li>
<li><p><strong>Review type hints during code review:</strong> Check for consistency, accuracy, and completeness.</p></li>
<li><p><strong>Communicate effectively:</strong> Discuss any design decisions related to type hinting within the team.</p></li>
<li><p><strong>Use version control:</strong> Type hints should be carefully tracked in the project’s version control system to manage updates and prevent conflicts.</p></li>
</ul>
<p>By following these best practices, you can effectively leverage type hints to create more robust, maintainable, and collaborative Python projects.</p>
<h2 id="advanced-topics-and-future-directions">Advanced Topics and Future Directions</h2>
<h3 id="runtime-type-checking">Runtime Type Checking</h3>
<p>While MyPy and similar tools perform static type checking, you might sometimes need runtime type checking. This is particularly useful when dealing with untrusted input or when you need to handle type errors dynamically. Python’s <code>typing</code> module offers some limited support for this, but it’s often more effective to use techniques like <code>isinstance</code> checks or other validation within your code. Static type checking should be the primary method, but runtime checks add resilience against unexpected inputs.</p>
<p><strong>Example:</strong></p>
<div class="sourceCode" id="cb30"><pre class="sourceCode python"><code class="sourceCode python"><span id="cb30-1"><a href="#cb30-1" aria-hidden="true" tabindex="-1"></a><span class="im">from</span> typing <span class="im">import</span> Union</span>
<span id="cb30-2"><a href="#cb30-2" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb30-3"><a href="#cb30-3" aria-hidden="true" tabindex="-1"></a><span class="kw">def</span> process_data(data: Union[<span class="bu">int</span>, <span class="bu">float</span>]) <span class="op">-&gt;</span> <span class="bu">float</span>:</span>
<span id="cb30-4"><a href="#cb30-4" aria-hidden="true" tabindex="-1"></a>    <span class="cf">if</span> <span class="bu">isinstance</span>(data, (<span class="bu">int</span>, <span class="bu">float</span>)):</span>
<span id="cb30-5"><a href="#cb30-5" aria-hidden="true" tabindex="-1"></a>        <span class="cf">return</span> <span class="bu">float</span>(data) <span class="op">*</span> <span class="dv">2</span></span>
<span id="cb30-6"><a href="#cb30-6" aria-hidden="true" tabindex="-1"></a>    <span class="cf">else</span>:</span>
<span id="cb30-7"><a href="#cb30-7" aria-hidden="true" tabindex="-1"></a>        <span class="cf">raise</span> <span class="pp">TypeError</span>(<span class="st">"Input must be an integer or a float"</span>)</span></code></pre></div>
<p>This function includes a runtime check (<code>isinstance</code>) to validate the input type and handles invalid input gracefully.</p>
<h3 id="type-hinting-with-data-classes">Type Hinting with Data Classes</h3>
<p>Data classes (introduced in Python 3.7) provide a concise way to create classes primarily used for holding data. Type hints are naturally integrated into data classes.</p>
<p><strong>Example:</strong></p>
<div class="sourceCode" id="cb31"><pre class="sourceCode python"><code class="sourceCode python"><span id="cb31-1"><a href="#cb31-1" aria-hidden="true" tabindex="-1"></a><span class="im">from</span> dataclasses <span class="im">import</span> dataclass</span>
<span id="cb31-2"><a href="#cb31-2" aria-hidden="true" tabindex="-1"></a><span class="im">from</span> typing <span class="im">import</span> List</span>
<span id="cb31-3"><a href="#cb31-3" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb31-4"><a href="#cb31-4" aria-hidden="true" tabindex="-1"></a><span class="at">@dataclass</span></span>
<span id="cb31-5"><a href="#cb31-5" aria-hidden="true" tabindex="-1"></a><span class="kw">class</span> Point:</span>
<span id="cb31-6"><a href="#cb31-6" aria-hidden="true" tabindex="-1"></a>    x: <span class="bu">float</span></span>
<span id="cb31-7"><a href="#cb31-7" aria-hidden="true" tabindex="-1"></a>    y: <span class="bu">float</span></span>
<span id="cb31-8"><a href="#cb31-8" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb31-9"><a href="#cb31-9" aria-hidden="true" tabindex="-1"></a><span class="at">@dataclass</span></span>
<span id="cb31-10"><a href="#cb31-10" aria-hidden="true" tabindex="-1"></a><span class="kw">class</span> Rectangle:</span>
<span id="cb31-11"><a href="#cb31-11" aria-hidden="true" tabindex="-1"></a>    top_left: Point</span>
<span id="cb31-12"><a href="#cb31-12" aria-hidden="true" tabindex="-1"></a>    bottom_right: Point</span>
<span id="cb31-13"><a href="#cb31-13" aria-hidden="true" tabindex="-1"></a>    color: <span class="bu">str</span> <span class="op">=</span> <span class="st">"red"</span>  <span class="co"># Default value with type hint</span></span></code></pre></div>
<p>Type hints for attributes are specified directly within the <code>dataclass</code> definition.</p>
<h3 id="type-hinting-with-dataclasses">Type Hinting with <code>dataclasses</code></h3>
<p>The <code>dataclasses</code> module provides functionality for creating data classes. Type hints are a critical part of using <code>dataclasses</code> effectively. The <code>field()</code> function allows for more fine-grained control over data class attributes (including specifying default values, metadata, and other options). Type hints are used with <code>field()</code> the same way as in the simple <code>dataclass</code> example above.</p>
<p><strong>Example:</strong></p>
<div class="sourceCode" id="cb32"><pre class="sourceCode python"><code class="sourceCode python"><span id="cb32-1"><a href="#cb32-1" aria-hidden="true" tabindex="-1"></a><span class="im">from</span> dataclasses <span class="im">import</span> dataclass, field</span>
<span id="cb32-2"><a href="#cb32-2" aria-hidden="true" tabindex="-1"></a><span class="im">from</span> typing <span class="im">import</span> List</span>
<span id="cb32-3"><a href="#cb32-3" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb32-4"><a href="#cb32-4" aria-hidden="true" tabindex="-1"></a><span class="at">@dataclass</span></span>
<span id="cb32-5"><a href="#cb32-5" aria-hidden="true" tabindex="-1"></a><span class="kw">class</span> InventoryItem:</span>
<span id="cb32-6"><a href="#cb32-6" aria-hidden="true" tabindex="-1"></a>    name: <span class="bu">str</span></span>
<span id="cb32-7"><a href="#cb32-7" aria-hidden="true" tabindex="-1"></a>    quantity: <span class="bu">int</span></span>
<span id="cb32-8"><a href="#cb32-8" aria-hidden="true" tabindex="-1"></a>    price: <span class="bu">float</span> <span class="op">=</span> field(default<span class="op">=</span><span class="fl">0.0</span>)</span>
<span id="cb32-9"><a href="#cb32-9" aria-hidden="true" tabindex="-1"></a>    tags: List[<span class="bu">str</span>] <span class="op">=</span> field(default_factory<span class="op">=</span><span class="bu">list</span>)</span></code></pre></div>
<h3 id="type-hinting-with-namedtuples">Type Hinting with Namedtuples</h3>
<p>Namedtuples are another way to create classes primarily for holding data (from the <code>collections</code> module). Although less flexible than <code>dataclass</code>, they can be type hinted similarly.</p>
<p><strong>Example:</strong></p>
<div class="sourceCode" id="cb33"><pre class="sourceCode python"><code class="sourceCode python"><span id="cb33-1"><a href="#cb33-1" aria-hidden="true" tabindex="-1"></a><span class="im">from</span> collections <span class="im">import</span> namedtuple</span>
<span id="cb33-2"><a href="#cb33-2" aria-hidden="true" tabindex="-1"></a><span class="im">from</span> typing <span class="im">import</span> Tuple</span>
<span id="cb33-3"><a href="#cb33-3" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb33-4"><a href="#cb33-4" aria-hidden="true" tabindex="-1"></a>Point <span class="op">=</span> namedtuple(<span class="st">"Point"</span>, [<span class="st">"x"</span>, <span class="st">"y"</span>])  <span class="co"># Type hints are added in separate line</span></span>
<span id="cb33-5"><a href="#cb33-5" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb33-6"><a href="#cb33-6" aria-hidden="true" tabindex="-1"></a>p: Point <span class="op">=</span> Point(x<span class="op">=</span><span class="fl">10.5</span>, y<span class="op">=</span><span class="fl">20.2</span>)  <span class="co">#Type hint shows type of the variable</span></span></code></pre></div>
<p>Type hints are added separately. Note that namedtuples are immutable, so any changes after creation will result in an error.</p>
<h3 id="future-developments-in-type-hinting">Future Developments in Type Hinting</h3>
<p>Type hinting in Python is a continuously evolving area. Potential future developments include:</p>
<ul>
<li><p><strong>Improved support for advanced type features:</strong> More sophisticated type systems and features may be added to handle more complex scenarios.</p></li>
<li><p><strong>Better integration with other tools and libraries:</strong> Closer integration with IDEs, build systems, and other development tools might enhance the usability of type hints.</p></li>
<li><p><strong>Enhanced type inference:</strong> Improved algorithms for type inference could reduce the amount of explicit type hints needed.</p></li>
<li><p><strong>More robust type checking:</strong> Further refinements to static type checking may make it even more effective at detecting potential errors.</p></li>
<li><p><strong>Improved error messages:</strong> More user-friendly error messages could make type errors easier to understand and fix. The goal is to make type hints easier to use and less error prone.</p></li>
</ul>
<p>The Python community’s ongoing work on type hinting promises to make static analysis more powerful and valuable in Python development.</p>


<footer>Copyright 2025 - Muthukrishnan</footer>
<script async="" src="https://pagead2.googlesyndication.com/pagead/js/adsbygoogle.js?client=ca-pub-3609399560636561" crossorigin="anonymous"></script>




</body></html>