<!DOCTYPE html>
<html xmlns="http://www.w3.org/1999/xhtml" lang="en" xml:lang="en"><head>

<meta charset="utf-8">
<meta name="generator" content="quarto-1.8.25">

<meta name="viewport" content="width=device-width, initial-scale=1.0, user-scalable=yes">

<meta name="author" content="Muthukrishnan">
<meta name="dcterms.date" content="2025-02-09">
<meta name="description" content="SignalR is a free and open-source library that simplifies the process of adding real-time web functionality to your applications. It allows bidirectional…">

<title>SignalR - Documentation – Technical Manuals</title>
<style>
html {
  color: #1a1a1a;
  background-color: #fdfdfd;
}
body {
  margin: 0 auto;
  max-width: 36em;
  padding-left: 50px;
  padding-right: 50px;
  padding-top: 50px;
  padding-bottom: 50px;
  hyphens: auto;
  overflow-wrap: break-word;
  text-rendering: optimizeLegibility;
  font-kerning: normal;
}
@media (max-width: 600px) {
  body {
    font-size: 0.9em;
    padding: 12px;
  }
  h1 {
    font-size: 1.8em;
  }
}
@media print {
  html {
    background-color: white;
  }
  body {
    background-color: transparent;
    color: black;
    font-size: 12pt;
  }
  p, h2, h3 {
    orphans: 3;
    widows: 3;
  }
  h2, h3, h4 {
    page-break-after: avoid;
  }
}
p {
  margin: 1em 0;
}
a {
  color: #1a1a1a;
}
a:visited {
  color: #1a1a1a;
}
img {
  max-width: 100%;
}
svg {
  height; auto;
  max-width: 100%;
}
h1, h2, h3, h4, h5, h6 {
  margin-top: 1.4em;
}
h5, h6 {
  font-size: 1em;
  font-style: italic;
}
h6 {
  font-weight: normal;
}
ol, ul {
  padding-left: 1.7em;
  margin-top: 1em;
}
li > ol, li > ul {
  margin-top: 0;
}
ul > li:not(:has(> p)) > ul,
ol > li:not(:has(> p)) > ul,
ul > li:not(:has(> p)) > ol,
ol > li:not(:has(> p)) > ol {
  margin-bottom: 0;
}
ul > li:not(:has(> p)) > ul > li:has(> p),
ol > li:not(:has(> p)) > ul > li:has(> p),
ul > li:not(:has(> p)) > ol > li:has(> p),
ol > li:not(:has(> p)) > ol > li:has(> p) {
  margin-top: 1rem;
}
blockquote {
  margin: 1em 0 1em 1.7em;
  padding-left: 1em;
  border-left: 2px solid #e6e6e6;
  color: #606060;
}
code {
  font-family: Menlo, Monaco, Consolas, 'Lucida Console', monospace;
  font-size: 85%;
  margin: 0;
  hyphens: manual;
}
pre {
  margin: 1em 0;
  overflow: auto;
}
pre code {
  padding: 0;
  overflow: visible;
  overflow-wrap: normal;
}
.sourceCode {
 background-color: transparent;
 overflow: visible;
}
hr {
  border: none;
  border-top: 1px solid #1a1a1a;
  height: 1px;
  margin: 1em 0;
}
table {
  margin: 1em 0;
  border-collapse: collapse;
  width: 100%;
  overflow-x: auto;
  display: block;
  font-variant-numeric: lining-nums tabular-nums;
}
table caption {
  margin-bottom: 0.75em;
}
tbody {
  margin-top: 0.5em;
  border-top: 1px solid #1a1a1a;
  border-bottom: 1px solid #1a1a1a;
}
th {
  border-top: 1px solid #1a1a1a;
  padding: 0.25em 0.5em 0.25em 0.5em;
}
td {
  padding: 0.125em 0.5em 0.25em 0.5em;
}
header {
  margin-bottom: 4em;
  text-align: center;
}
#TOC li {
  list-style: none;
}
#TOC ul {
  padding-left: 1.3em;
}
#TOC > ul {
  padding-left: 0;
}
#TOC a:not(:hover) {
  text-decoration: none;
}
code{white-space: pre-wrap;}
span.smallcaps{font-variant: small-caps;}
div.columns{display: flex; gap: min(4vw, 1.5em);}
div.column{flex: auto; overflow-x: auto;}
div.hanging-indent{margin-left: 1.5em; text-indent: -1.5em;}
ul.task-list{list-style: none;}
ul.task-list li input[type="checkbox"] {
  width: 0.8em;
  margin: 0 0.8em 0.2em -1em; /* quarto-specific, see https://github.com/quarto-dev/quarto-cli/issues/4556 */ 
  vertical-align: middle;
}
/* CSS for syntax highlighting */
html { -webkit-text-size-adjust: 100%; }
pre > code.sourceCode { white-space: pre; position: relative; }
pre > code.sourceCode > span { display: inline-block; line-height: 1.25; }
pre > code.sourceCode > span:empty { height: 1.2em; }
.sourceCode { overflow: visible; }
code.sourceCode > span { color: inherit; text-decoration: inherit; }
div.sourceCode { margin: 1em 0; }
pre.sourceCode { margin: 0; }
@media screen {
div.sourceCode { overflow: auto; }
}
@media print {
pre > code.sourceCode { white-space: pre-wrap; }
pre > code.sourceCode > span { text-indent: -5em; padding-left: 5em; }
}
pre.numberSource code
  { counter-reset: source-line 0; }
pre.numberSource code > span
  { position: relative; left: -4em; counter-increment: source-line; }
pre.numberSource code > span > a:first-child::before
  { content: counter(source-line);
    position: relative; left: -1em; text-align: right; vertical-align: baseline;
    border: none; display: inline-block;
    -webkit-touch-callout: none; -webkit-user-select: none;
    -khtml-user-select: none; -moz-user-select: none;
    -ms-user-select: none; user-select: none;
    padding: 0 4px; width: 4em;
  }
pre.numberSource { margin-left: 3em;  padding-left: 4px; }
div.sourceCode
  {   }
@media screen {
pre > code.sourceCode > span > a:first-child::before { text-decoration: underline; }
}
</style>


<link href="../../favicon.ico" rel="icon">
<script async="" src="https://www.googletagmanager.com/gtag/js?id=G-MXDPF6L5TL"></script>

<script type="text/javascript">

window.dataLayer = window.dataLayer || [];
function gtag(){dataLayer.push(arguments);}
gtag('js', new Date());
gtag('config', 'G-MXDPF6L5TL', { 'anonymize_ip': true});
</script>
<link rel="icon" type="image/x-icon" href="favicon.ico">
<meta property="og:title" content="SignalR - Documentation – Technical Manuals">
<meta property="og:description" content="Comprehensive technical documentation and tutorials for JavaScript libraries and Python modules.">
<meta property="og:image" content="https://manuals.muthu.co//og-image.png">
<meta property="og:site_name" content="Technical Manuals">
<meta property="og:locale" content="en_US">
<meta property="og:image:height" content="630">
<meta property="og:image:width" content="1200">
<meta name="twitter:title" content="SignalR - Documentation – Technical Manuals">
<meta name="twitter:description" content="Comprehensive technical documentation and tutorials for JavaScript libraries and Python modules.">
<meta name="twitter:image" content="https://manuals.muthu.co//og-image.png">
<meta name="twitter:creator" content="@krimuthu">
<meta name="twitter:site" content="@krimuthu">
<meta name="twitter:card" content="summary_large_image">
<meta name="twitter:image-height" content="630">
<meta name="twitter:image-width" content="1200">
<link rel="canonical" href="https://manuals.muthu.co/posts/javascript-libraries-and-functions/signalr.html">
</head><body><div class="navigation-header">
    <nav>
        <div>
            <div class="logo">
                <a href="../../" aria-label="Home">
                    <span>Technical Manuals - Home</span>
                </a>
            </div>
            <div class="nav-menu">
                <ul>
                    <li>
                        <a href="../../about.html">
                            <span class="menu-text">About</span>
                        </a>
                    </li>
                    <li> 
                        <a href="https://github.com/muthuspark" target="_blank">
                            <span class="menu-text">Github</span>
                        </a>
                    </li>
                    <li>
                        <a href="https://linkedin.com/in/krimuthu" target="_blank">
                            <span class="menu-text">Linkedin</span>
                        </a>
                    </li>
                    <li>
                        <button onclick="window.print()" class="print-button">
                            <svg width="20" height="20" viewbox="0 0 24 24" fill="none" stroke="currentColor" stroke-width="2">
                              <path d="M6 9V2h12v7"></path>
                              <path d="M6 18H4a2 2 0 01-2-2v-5a2 2 0 012-2h16a2 2 0 012 2v5a2 2 0 01-2 2h-2"></path>
                              <path d="M6 14h12v8H6z"></path>
                            </svg>
                            Print Page
                        </button>
                    </li>
                </ul>
            </div>
        </div>
    </nav>
</div>
<script type="application/ld+json">
{
  "@context": "https://schema.org",
  "@type": "WebSite",
  "name": "Technical Manuals",
  "url": "https://manuals.muthu.co/",
  "description": "Comprehensive technical documentation and tutorials for JavaScript libraries and Python modules.",
  "author": {
    "@type": "Person",
    "name": "Muthukrishnan",
    "url": "https://manuals.muthu.co/about.html",
    "sameAs": [
      "https://github.com/muthuspark",
      "https://linkedin.com/in/krimuthu",
      "https://twitter.com/krimuthu"
    ]
  },
  "publisher": {
    "@type": "Person",
    "name": "Muthukrishnan"
  },
  "inLanguage": "en-US",
  "potentialAction": {
    "@type": "SearchAction",
    "target": "https://manuals.muthu.co/?q={search_term_string}",
    "query-input": "required name=search_term_string"
  }
}
</script>
<meta name="author" content="Muthukrishnan">
<meta name="robots" content="index, follow">
<meta name="googlebot" content="index, follow, max-snippet:-1, max-image-preview:large, max-video-preview:-1">
<link rel="author" href="https://manuals.muthu.co/about.html">


<link rel="stylesheet" href="../../styles.css">





<header id="title-block-header">
<h1 class="title">SignalR - Documentation</h1>

<p class="date">2025-02-09</p>
</header>

<nav id="TOC" role="doc-toc">
    <h2 id="toc-title">On this page</h2>
   
  <ul>
  <li><a href="#what-is-signalr" id="toc-what-is-signalr">What is SignalR?</a></li>
  <li><a href="#key-concepts-hubs-clients-and-connections" id="toc-key-concepts-hubs-clients-and-connections">Key Concepts: Hubs, Clients, and Connections</a></li>
  <li><a href="#benefits-of-using-signalr" id="toc-benefits-of-using-signalr">Benefits of Using SignalR</a></li>
  <li><a href="#when-to-use-signalr" id="toc-when-to-use-signalr">When to Use SignalR</a></li>
  <li><a href="#comparison-with-other-technologies" id="toc-comparison-with-other-technologies">Comparison with other technologies</a></li>
  <li><a href="#setting-up-a-signalr-project" id="toc-setting-up-a-signalr-project">Setting up a SignalR Project</a>
  <ul>
  <li><a href="#installing-the-signalr-client-library" id="toc-installing-the-signalr-client-library">Installing the SignalR Client Library</a></li>
  <li><a href="#creating-a-hub" id="toc-creating-a-hub">Creating a Hub</a></li>
  <li><a href="#configuring-the-signalr-server" id="toc-configuring-the-signalr-server">Configuring the SignalR Server</a></li>
  <li><a href="#establishing-a-connection-to-the-server" id="toc-establishing-a-connection-to-the-server">Establishing a Connection to the Server</a></li>
  <li><a href="#example-project-setup-asp.net-core" id="toc-example-project-setup-asp.net-core">Example Project Setup (ASP.NET Core)</a></li>
  </ul></li>
  <li><a href="#client-side-development" id="toc-client-side-development">Client-Side Development</a>
  <ul>
  <li><a href="#connecting-to-the-hub" id="toc-connecting-to-the-hub">Connecting to the Hub</a></li>
  <li><a href="#sending-and-receiving-data" id="toc-sending-and-receiving-data">Sending and Receiving Data</a></li>
  <li><a href="#handling-connection-events" id="toc-handling-connection-events">Handling Connection Events</a></li>
  <li><a href="#managing-client-state" id="toc-managing-client-state">Managing Client State</a></li>
  <li><a href="#error-handling-and-reconnection" id="toc-error-handling-and-reconnection">Error Handling and Reconnection</a></li>
  <li><a href="#using-the-signalr-javascript-client-library" id="toc-using-the-signalr-javascript-client-library">Using the SignalR JavaScript Client Library</a></li>
  </ul></li>
  <li><a href="#server-side-development-hubs" id="toc-server-side-development-hubs">Server-Side Development (Hubs)</a>
  <ul>
  <li><a href="#defining-hub-methods" id="toc-defining-hub-methods">Defining Hub Methods</a></li>
  <li><a href="#handling-client-connections" id="toc-handling-client-connections">Handling Client Connections</a></li>
  <li><a href="#broadcasting-messages-to-clients" id="toc-broadcasting-messages-to-clients">Broadcasting Messages to Clients</a></li>
  <li><a href="#grouping-clients" id="toc-grouping-clients">Grouping Clients</a></li>
  <li><a href="#managing-connections" id="toc-managing-connections">Managing Connections</a></li>
  <li><a href="#implementing-business-logic-within-hubs" id="toc-implementing-business-logic-within-hubs">Implementing Business Logic within Hubs</a></li>
  <li><a href="#security-considerations" id="toc-security-considerations">Security Considerations</a></li>
  </ul></li>
  <li><a href="#advanced-signalr-techniques" id="toc-advanced-signalr-techniques">Advanced SignalR Techniques</a>
  <ul>
  <li><a href="#streaming-data" id="toc-streaming-data">Streaming Data</a></li>
  <li><a href="#handling-large-messages" id="toc-handling-large-messages">Handling Large Messages</a></li>
  <li><a href="#scaling-signalr-applications" id="toc-scaling-signalr-applications">Scaling SignalR Applications</a></li>
  <li><a href="#implementing-custom-transports" id="toc-implementing-custom-transports">Implementing Custom Transports</a></li>
  <li><a href="#integrating-with-other-technologies" id="toc-integrating-with-other-technologies">Integrating with other technologies</a></li>
  <li><a href="#performance-optimization" id="toc-performance-optimization">Performance Optimization</a></li>
  </ul></li>
  <li><a href="#troubleshooting-and-debugging" id="toc-troubleshooting-and-debugging">Troubleshooting and Debugging</a>
  <ul>
  <li><a href="#common-errors-and-solutions" id="toc-common-errors-and-solutions">Common Errors and Solutions</a></li>
  <li><a href="#debugging-tools-and-techniques" id="toc-debugging-tools-and-techniques">Debugging Tools and Techniques</a></li>
  <li><a href="#monitoring-signalr-applications" id="toc-monitoring-signalr-applications">Monitoring SignalR Applications</a></li>
  </ul></li>
  <li><a href="#security-best-practices" id="toc-security-best-practices">Security Best Practices</a>
  <ul>
  <li><a href="#authentication-and-authorization" id="toc-authentication-and-authorization">Authentication and Authorization</a></li>
  <li><a href="#protecting-against-cross-site-scripting-xss" id="toc-protecting-against-cross-site-scripting-xss">Protecting against Cross-Site Scripting (XSS)</a></li>
  <li><a href="#preventing-denial-of-service-dos-attacks" id="toc-preventing-denial-of-service-dos-attacks">Preventing Denial-of-Service (DoS) Attacks</a></li>
  <li><a href="#data-validation-and-sanitization" id="toc-data-validation-and-sanitization">Data Validation and Sanitization</a></li>
  </ul></li>
  <li><a href="#appendix-api-reference" id="toc-appendix-api-reference">Appendix: API Reference</a>
  <ul>
  <li><a href="#signalr-client-library-api" id="toc-signalr-client-library-api">SignalR Client Library API</a></li>
  <li><a href="#signalr-hub-api" id="toc-signalr-hub-api">SignalR Hub API</a></li>
  </ul></li>
  </ul>
</nav>
<h3 id="what-is-signalr">What is SignalR?</h3>
<p>SignalR is a free and open-source library that simplifies the process of adding real-time web functionality to your applications. It allows bidirectional communication between a server and clients, enabling features like instant messaging, live dashboards, and real-time notifications. Unlike traditional request/response models where the client must constantly poll the server for updates, SignalR uses persistent connections, pushing updates to the client as soon as they become available. This significantly improves responsiveness and user experience. It handles the complexities of managing these persistent connections, allowing developers to focus on application logic rather than low-level networking details. SignalR supports multiple transports, automatically selecting the best option for the client’s capabilities.</p>
<h3 id="key-concepts-hubs-clients-and-connections">Key Concepts: Hubs, Clients, and Connections</h3>
<ul>
<li><p><strong>Hubs:</strong> Hubs are the central components of a SignalR application. They act as a bridge between clients and the server, enabling clients to invoke server-side methods and the server to invoke client-side methods. Methods defined within a hub can be called from either the server or the client. Hubs use a contract-based approach, allowing you to define the methods available to clients.</p></li>
<li><p><strong>Clients:</strong> Clients are the web applications (e.g., websites, mobile apps) that connect to the SignalR server. They can receive messages and invoke methods on the server through the hub. SignalR provides client libraries for various platforms including JavaScript, .NET, Java, and others, simplifying integration into different applications.</p></li>
<li><p><strong>Connections:</strong> A connection represents a single client’s ongoing communication with the SignalR server. SignalR manages these connections, handling connection establishment, maintenance, and disconnections gracefully. Information about the connection can be used within the hub to provide features like personalized messages or connection tracking.</p></li>
</ul>
<h3 id="benefits-of-using-signalr">Benefits of Using SignalR</h3>
<ul>
<li><strong>Real-time updates:</strong> Push notifications and updates to clients without polling.</li>
<li><strong>Simplified development:</strong> High-level API abstracts away the complexities of managing persistent connections.</li>
<li><strong>Scalability:</strong> Designed to handle many concurrent connections.</li>
<li><strong>Cross-platform support:</strong> Client libraries for multiple platforms.</li>
<li><strong>Multiple transport options:</strong> Automatically chooses the best transport (WebSockets, Server-Sent Events, etc.) based on client capabilities.</li>
</ul>
<h3 id="when-to-use-signalr">When to Use SignalR</h3>
<p>SignalR is a great choice when your application requires real-time, bidirectional communication between the server and clients. Consider using SignalR for features like:</p>
<ul>
<li><strong>Live dashboards:</strong> Displaying dynamic, constantly updating information.</li>
<li><strong>Chat applications:</strong> Enabling instant messaging between users.</li>
<li><strong>Online games:</strong> Providing real-time interaction between players.</li>
<li><strong>Real-time notifications:</strong> Sending alerts or updates to users instantly.</li>
<li><strong>Collaborative editing:</strong> Allowing multiple users to edit the same document concurrently.</li>
</ul>
<h3 id="comparison-with-other-technologies">Comparison with other technologies</h3>
<p>Other technologies can provide some aspects of real-time functionality, but SignalR offers a more comprehensive and easier-to-use solution:</p>
<ul>
<li><strong>Polling:</strong> Repeatedly requesting data from the server. Inefficient and leads to increased server load. SignalR avoids this.</li>
<li><strong>WebSockets:</strong> A lower-level protocol for real-time communication. SignalR builds on top of WebSockets and provides a higher-level API, simplifying development and handling fallback transports when WebSockets aren’t available.</li>
<li><strong>Server-Sent Events (SSE):</strong> Allows the server to push updates to the client. However, SSE is unidirectional; clients cannot send data back to the server easily. SignalR offers bidirectional communication.</li>
<li><strong>Long Polling:</strong> A technique to reduce polling overhead. However, it’s still less efficient than SignalR’s persistent connection approach.</li>
</ul>
<p>SignalR provides a superior solution for most real-time application needs by abstracting away the complexity of underlying technologies, while providing excellent performance and scalability.</p>
<h2 id="setting-up-a-signalr-project">Setting up a SignalR Project</h2>
<h3 id="installing-the-signalr-client-library">Installing the SignalR Client Library</h3>
<p>The process for installing the SignalR client library depends on the client platform you’re targeting. Here’s a general overview:</p>
<ul>
<li><p><strong>JavaScript (for web clients):</strong> Use a package manager like npm or yarn. For example, with npm: <code>npm install @microsoft/signalr</code> This installs the core SignalR client. You might also need additional packages depending on your chosen framework (e.g., <code>@aspnet/signalr-browser</code> for ASP.NET Core clients).</p></li>
<li><p><strong>.NET (for .NET clients):</strong> Use NuGet Package Manager. Search for and install the <code>Microsoft.AspNetCore.SignalR.Client</code> package.</p></li>
<li><p><strong>Other platforms:</strong> SignalR client libraries exist for various platforms (e.g., Java, Python). Consult the official SignalR documentation for specific installation instructions for your chosen platform. These libraries are typically available through platform-specific package managers.</p></li>
</ul>
<h3 id="creating-a-hub">Creating a Hub</h3>
<p>A Hub is a class that acts as the central point for communication between the server and clients. In ASP.NET Core, create a class inheriting from <code>Hub</code>:</p>
<div class="sourceCode" id="cb1"><pre class="sourceCode csharp"><code class="sourceCode cs"><span id="cb1-1"><a href="#cb1-1" aria-hidden="true" tabindex="-1"></a><span class="kw">using</span> Microsoft<span class="op">.</span><span class="fu">AspNetCore</span><span class="op">.</span><span class="fu">SignalR</span><span class="op">;</span></span>
<span id="cb1-2"><a href="#cb1-2" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb1-3"><a href="#cb1-3" aria-hidden="true" tabindex="-1"></a><span class="kw">public</span> <span class="kw">class</span> ChatHub <span class="op">:</span> Hub</span>
<span id="cb1-4"><a href="#cb1-4" aria-hidden="true" tabindex="-1"></a><span class="op">{</span></span>
<span id="cb1-5"><a href="#cb1-5" aria-hidden="true" tabindex="-1"></a>    <span class="kw">public</span> async Task <span class="fu">SendMessage</span><span class="op">(</span><span class="dt">string</span> user<span class="op">,</span> <span class="dt">string</span> message<span class="op">)</span></span>
<span id="cb1-6"><a href="#cb1-6" aria-hidden="true" tabindex="-1"></a>    <span class="op">{</span></span>
<span id="cb1-7"><a href="#cb1-7" aria-hidden="true" tabindex="-1"></a>        await Clients<span class="op">.</span><span class="fu">All</span><span class="op">.</span><span class="fu">SendAsync</span><span class="op">(</span><span class="st">"ReceiveMessage"</span><span class="op">,</span> user<span class="op">,</span> message<span class="op">);</span></span>
<span id="cb1-8"><a href="#cb1-8" aria-hidden="true" tabindex="-1"></a>    <span class="op">}</span></span>
<span id="cb1-9"><a href="#cb1-9" aria-hidden="true" tabindex="-1"></a><span class="op">}</span></span></code></pre></div>
<p>This <code>ChatHub</code> defines a method <code>SendMessage</code> that can be called from a client. The <code>Clients.All.SendAsync</code> method sends the <code>ReceiveMessage</code> method to all connected clients. The <code>ReceiveMessage</code> method is a client-side function (defined in the client code) that handles the incoming message.</p>
<h3 id="configuring-the-signalr-server">Configuring the SignalR Server</h3>
<p>SignalR server configuration primarily happens within the <code>Startup.cs</code> (or <code>Program.cs</code> in .NET 6 and later) file in ASP.NET Core. You need to add SignalR services and map the hub route:</p>
<div class="sourceCode" id="cb2"><pre class="sourceCode csharp"><code class="sourceCode cs"><span id="cb2-1"><a href="#cb2-1" aria-hidden="true" tabindex="-1"></a><span class="co">// .NET 6 and later (Program.cs)</span></span>
<span id="cb2-2"><a href="#cb2-2" aria-hidden="true" tabindex="-1"></a>builder<span class="op">.</span><span class="fu">Services</span><span class="op">.</span><span class="fu">AddSignalR</span><span class="op">();</span></span>
<span id="cb2-3"><a href="#cb2-3" aria-hidden="true" tabindex="-1"></a>app<span class="op">.</span><span class="fu">MapHub</span><span class="op">&lt;</span>ChatHub<span class="op">&gt;(</span><span class="st">"/chatHub"</span><span class="op">);</span></span>
<span id="cb2-4"><a href="#cb2-4" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb2-5"><a href="#cb2-5" aria-hidden="true" tabindex="-1"></a><span class="co">// Older .NET Core versions (Startup.cs)</span></span>
<span id="cb2-6"><a href="#cb2-6" aria-hidden="true" tabindex="-1"></a><span class="kw">public</span> <span class="dt">void</span> <span class="fu">ConfigureServices</span><span class="op">(</span>IServiceCollection services<span class="op">)</span></span>
<span id="cb2-7"><a href="#cb2-7" aria-hidden="true" tabindex="-1"></a><span class="op">{</span></span>
<span id="cb2-8"><a href="#cb2-8" aria-hidden="true" tabindex="-1"></a>    services<span class="op">.</span><span class="fu">AddSignalR</span><span class="op">();</span></span>
<span id="cb2-9"><a href="#cb2-9" aria-hidden="true" tabindex="-1"></a><span class="op">}</span></span>
<span id="cb2-10"><a href="#cb2-10" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb2-11"><a href="#cb2-11" aria-hidden="true" tabindex="-1"></a><span class="kw">public</span> <span class="dt">void</span> <span class="fu">Configure</span><span class="op">(</span>IApplicationBuilder app<span class="op">,</span> IWebHostEnvironment env<span class="op">)</span></span>
<span id="cb2-12"><a href="#cb2-12" aria-hidden="true" tabindex="-1"></a><span class="op">{</span></span>
<span id="cb2-13"><a href="#cb2-13" aria-hidden="true" tabindex="-1"></a>    app<span class="op">.</span><span class="fu">UseRouting</span><span class="op">();</span></span>
<span id="cb2-14"><a href="#cb2-14" aria-hidden="true" tabindex="-1"></a>    app<span class="op">.</span><span class="fu">UseEndpoints</span><span class="op">(</span>endpoints <span class="op">=&gt;</span></span>
<span id="cb2-15"><a href="#cb2-15" aria-hidden="true" tabindex="-1"></a>    <span class="op">{</span></span>
<span id="cb2-16"><a href="#cb2-16" aria-hidden="true" tabindex="-1"></a>        endpoints<span class="op">.</span><span class="fu">MapHub</span><span class="op">&lt;</span>ChatHub<span class="op">&gt;(</span><span class="st">"/chatHub"</span><span class="op">);</span></span>
<span id="cb2-17"><a href="#cb2-17" aria-hidden="true" tabindex="-1"></a>    <span class="op">});</span></span>
<span id="cb2-18"><a href="#cb2-18" aria-hidden="true" tabindex="-1"></a><span class="op">}</span></span></code></pre></div>
<p>This registers the SignalR services and maps the <code>ChatHub</code> to the <code>/chatHub</code> URL. Clients will connect to this URL. Further configuration options, like enabling detailed logging, can be added as needed.</p>
<h3 id="establishing-a-connection-to-the-server">Establishing a Connection to the Server</h3>
<p>On the client-side, you’ll use the SignalR client library to establish a connection to the server. Here’s an example using JavaScript:</p>
<div class="sourceCode" id="cb3"><pre class="sourceCode javascript"><code class="sourceCode javascript"><span id="cb3-1"><a href="#cb3-1" aria-hidden="true" tabindex="-1"></a><span class="kw">const</span> connection <span class="op">=</span> <span class="kw">new</span> signalR<span class="op">.</span><span class="fu">HubConnectionBuilder</span>()</span>
<span id="cb3-2"><a href="#cb3-2" aria-hidden="true" tabindex="-1"></a>    <span class="op">.</span><span class="fu">withUrl</span>(<span class="st">"/chatHub"</span>)</span>
<span id="cb3-3"><a href="#cb3-3" aria-hidden="true" tabindex="-1"></a>    <span class="op">.</span><span class="fu">build</span>()<span class="op">;</span></span>
<span id="cb3-4"><a href="#cb3-4" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb3-5"><a href="#cb3-5" aria-hidden="true" tabindex="-1"></a>connection<span class="op">.</span><span class="fu">on</span>(<span class="st">"ReceiveMessage"</span><span class="op">,</span> (user<span class="op">,</span> message) <span class="kw">=&gt;</span> {</span>
<span id="cb3-6"><a href="#cb3-6" aria-hidden="true" tabindex="-1"></a>    <span class="co">// Handle the incoming message</span></span>
<span id="cb3-7"><a href="#cb3-7" aria-hidden="true" tabindex="-1"></a>    <span class="bu">console</span><span class="op">.</span><span class="fu">log</span>(user <span class="op">+</span> <span class="st">": "</span> <span class="op">+</span> message)<span class="op">;</span></span>
<span id="cb3-8"><a href="#cb3-8" aria-hidden="true" tabindex="-1"></a>})<span class="op">;</span></span>
<span id="cb3-9"><a href="#cb3-9" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb3-10"><a href="#cb3-10" aria-hidden="true" tabindex="-1"></a>connection<span class="op">.</span><span class="fu">start</span>()<span class="op">.</span><span class="fu">catch</span>(err <span class="kw">=&gt;</span> <span class="bu">console</span><span class="op">.</span><span class="fu">error</span>(err))<span class="op">;</span></span>
<span id="cb3-11"><a href="#cb3-11" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb3-12"><a href="#cb3-12" aria-hidden="true" tabindex="-1"></a><span class="co">// Send a message</span></span>
<span id="cb3-13"><a href="#cb3-13" aria-hidden="true" tabindex="-1"></a>connection<span class="op">.</span><span class="fu">invoke</span>(<span class="st">"SendMessage"</span><span class="op">,</span> <span class="st">"User1"</span><span class="op">,</span> <span class="st">"Hello, world!"</span>)<span class="op">.</span><span class="fu">catch</span>(err <span class="kw">=&gt;</span> <span class="bu">console</span><span class="op">.</span><span class="fu">error</span>(err))<span class="op">;</span></span></code></pre></div>
<p>This code creates a connection to <code>/chatHub</code>, registers a handler for the <code>ReceiveMessage</code> method, starts the connection, and then sends a message. Error handling is crucial. Remember to replace <code>/chatHub</code> with your actual hub URL.</p>
<h3 id="example-project-setup-asp.net-core">Example Project Setup (ASP.NET Core)</h3>
<ol type="1">
<li><p><strong>Create a new ASP.NET Core Web Application:</strong> Use the default template or choose the Web API template.</p></li>
<li><p><strong>Install the SignalR NuGet package:</strong> In the project’s NuGet Package Manager, search for and install <code>Microsoft.AspNetCore.SignalR</code>.</p></li>
<li><p><strong>Create the Hub:</strong> Add a class as shown in the “Creating a Hub” section.</p></li>
<li><p><strong>Configure SignalR:</strong> Update <code>Startup.cs</code> (or <code>Program.cs</code>) as shown in the “Configuring the SignalR Server” section.</p></li>
<li><p><strong>Create a Client-Side Application:</strong> Create a separate web application (e.g., using React, Angular, Vue, or plain JavaScript) or integrate directly into your existing one.</p></li>
<li><p><strong>Install the SignalR client library:</strong> Install the appropriate SignalR client library for your chosen client-side framework (see “Installing the SignalR Client Library”).</p></li>
<li><p><strong>Connect to the Server and Implement Client-Side Logic:</strong> Use the SignalR client library to connect to the server and handle incoming messages as shown in the “Establishing a Connection to the Server” section.</p></li>
</ol>
<p>This basic setup provides a foundation for building a real-time application using SignalR in ASP.NET Core. You’ll expand upon this by adding more complex hub methods and implementing rich client-side UI elements.</p>
<h2 id="client-side-development">Client-Side Development</h2>
<h3 id="connecting-to-the-hub">Connecting to the Hub</h3>
<p>The first step in client-side development is establishing a connection to the SignalR hub on the server. This involves creating a <code>HubConnection</code> object and starting the connection. The connection URL should point to the route defined in your server-side configuration (e.g., <code>/chatHub</code>). Here’s how you’d do it using the SignalR JavaScript client:</p>
<div class="sourceCode" id="cb4"><pre class="sourceCode javascript"><code class="sourceCode javascript"><span id="cb4-1"><a href="#cb4-1" aria-hidden="true" tabindex="-1"></a><span class="kw">const</span> connection <span class="op">=</span> <span class="kw">new</span> signalR<span class="op">.</span><span class="fu">HubConnectionBuilder</span>()</span>
<span id="cb4-2"><a href="#cb4-2" aria-hidden="true" tabindex="-1"></a>    <span class="op">.</span><span class="fu">withUrl</span>(<span class="st">"/chatHub"</span>) <span class="co">// Replace with your hub URL</span></span>
<span id="cb4-3"><a href="#cb4-3" aria-hidden="true" tabindex="-1"></a>    <span class="op">.</span><span class="fu">build</span>()<span class="op">;</span></span>
<span id="cb4-4"><a href="#cb4-4" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb4-5"><a href="#cb4-5" aria-hidden="true" tabindex="-1"></a>connection<span class="op">.</span><span class="fu">start</span>()</span>
<span id="cb4-6"><a href="#cb4-6" aria-hidden="true" tabindex="-1"></a>    <span class="op">.</span><span class="fu">then</span>(() <span class="kw">=&gt;</span> <span class="bu">console</span><span class="op">.</span><span class="fu">log</span>(<span class="st">'Connection started!'</span>))</span>
<span id="cb4-7"><a href="#cb4-7" aria-hidden="true" tabindex="-1"></a>    <span class="op">.</span><span class="fu">catch</span>(err <span class="kw">=&gt;</span> <span class="bu">console</span><span class="op">.</span><span class="fu">error</span>(<span class="st">'Connection failed: '</span><span class="op">,</span> err))<span class="op">;</span></span></code></pre></div>
<p>The <code>withUrl</code> method specifies the connection URL. The <code>start()</code> method initiates the connection; the promise resolves when the connection is successfully established and rejects if an error occurs. Always include robust error handling.</p>
<h3 id="sending-and-receiving-data">Sending and Receiving Data</h3>
<p>Communication between the client and the server happens through methods defined in the hub. Clients invoke server-side methods using <code>connection.invoke()</code>, and the server pushes data to the client using the <code>SendAsync()</code> method within the hub.</p>
<p><strong>Client-side invocation (JavaScript):</strong></p>
<div class="sourceCode" id="cb5"><pre class="sourceCode javascript"><code class="sourceCode javascript"><span id="cb5-1"><a href="#cb5-1" aria-hidden="true" tabindex="-1"></a>connection<span class="op">.</span><span class="fu">invoke</span>(<span class="st">"SendMessage"</span><span class="op">,</span> <span class="st">"user123"</span><span class="op">,</span> <span class="st">"Hello from client!"</span>)</span>
<span id="cb5-2"><a href="#cb5-2" aria-hidden="true" tabindex="-1"></a>    <span class="op">.</span><span class="fu">catch</span>(err <span class="kw">=&gt;</span> <span class="bu">console</span><span class="op">.</span><span class="fu">error</span>(err))<span class="op">;</span></span></code></pre></div>
<p>This code invokes the <code>SendMessage</code> method on the server, passing “user123” and “Hello from client!” as arguments.</p>
<p><strong>Server-side (C#):</strong></p>
<div class="sourceCode" id="cb6"><pre class="sourceCode csharp"><code class="sourceCode cs"><span id="cb6-1"><a href="#cb6-1" aria-hidden="true" tabindex="-1"></a><span class="kw">public</span> <span class="kw">class</span> ChatHub <span class="op">:</span> Hub</span>
<span id="cb6-2"><a href="#cb6-2" aria-hidden="true" tabindex="-1"></a><span class="op">{</span></span>
<span id="cb6-3"><a href="#cb6-3" aria-hidden="true" tabindex="-1"></a>    <span class="kw">public</span> async Task <span class="fu">SendMessage</span><span class="op">(</span><span class="dt">string</span> user<span class="op">,</span> <span class="dt">string</span> message<span class="op">)</span></span>
<span id="cb6-4"><a href="#cb6-4" aria-hidden="true" tabindex="-1"></a>    <span class="op">{</span></span>
<span id="cb6-5"><a href="#cb6-5" aria-hidden="true" tabindex="-1"></a>        await Clients<span class="op">.</span><span class="fu">All</span><span class="op">.</span><span class="fu">SendAsync</span><span class="op">(</span><span class="st">"ReceiveMessage"</span><span class="op">,</span> user<span class="op">,</span> message<span class="op">);</span></span>
<span id="cb6-6"><a href="#cb6-6" aria-hidden="true" tabindex="-1"></a>    <span class="op">}</span></span>
<span id="cb6-7"><a href="#cb6-7" aria-hidden="true" tabindex="-1"></a><span class="op">}</span></span></code></pre></div>
<p>The server’s <code>SendMessage</code> method then uses <code>Clients.All.SendAsync</code> to send the <code>ReceiveMessage</code> message to all connected clients.</p>
<p><strong>Client-side receiving (JavaScript):</strong></p>
<div class="sourceCode" id="cb7"><pre class="sourceCode javascript"><code class="sourceCode javascript"><span id="cb7-1"><a href="#cb7-1" aria-hidden="true" tabindex="-1"></a>connection<span class="op">.</span><span class="fu">on</span>(<span class="st">"ReceiveMessage"</span><span class="op">,</span> (user<span class="op">,</span> message) <span class="kw">=&gt;</span> {</span>
<span id="cb7-2"><a href="#cb7-2" aria-hidden="true" tabindex="-1"></a>    <span class="bu">console</span><span class="op">.</span><span class="fu">log</span>(<span class="vs">`</span><span class="sc">${</span>user<span class="sc">}</span><span class="vs">: </span><span class="sc">${</span>message<span class="sc">}</span><span class="vs">`</span>)<span class="op">;</span></span>
<span id="cb7-3"><a href="#cb7-3" aria-hidden="true" tabindex="-1"></a>    <span class="co">// Update UI with the received message</span></span>
<span id="cb7-4"><a href="#cb7-4" aria-hidden="true" tabindex="-1"></a>})<span class="op">;</span></span></code></pre></div>
<p>This registers a handler for the <code>ReceiveMessage</code> method. When the server sends this message, the callback function will be executed, and you can update the user interface accordingly.</p>
<h3 id="handling-connection-events">Handling Connection Events</h3>
<p>SignalR provides events to manage different connection states:</p>
<ul>
<li><strong><code>connection.on('connecting', () =&gt; { ... });</code></strong>: Triggered when the connection is attempting to connect.</li>
<li><strong><code>connection.on('connected', () =&gt; { ... });</code></strong>: Triggered when the connection is successfully established.</li>
<li><strong><code>connection.on('reconnecting', () =&gt; { ... });</code></strong>: Triggered when the connection is attempting to reconnect after a disconnection.</li>
<li><strong><code>connection.on('reconnected', () =&gt; { ... });</code></strong>: Triggered when the reconnection is successful.</li>
<li><strong><code>connection.on('disconnected', (error) =&gt; { ... });</code></strong>: Triggered when the connection is closed. The <code>error</code> parameter provides information about the reason for disconnection (if any).</li>
<li><strong><code>connection.onclose(error =&gt; { ... });</code></strong>: An alternative way to handle disconnections.</li>
</ul>
<p>Handle these events to provide feedback to the user and to take appropriate actions, such as retrying the connection or displaying an error message.</p>
<h3 id="managing-client-state">Managing Client State</h3>
<p>Managing client-side state is crucial for maintaining context across multiple messages. Use variables within your client-side code to store information relevant to the connection and the user’s session. Consider using local storage or session storage for persistence across page reloads, if needed.</p>
<h3 id="error-handling-and-reconnection">Error Handling and Reconnection</h3>
<p>SignalR offers built-in mechanisms for handling errors and reconnections. The <code>connection.start()</code> method returns a promise that allows you to catch errors during the connection process. Add error handling within the <code>connection.on</code> event handlers to catch errors during data transmission. Configure automatic reconnection by setting <code>withAutomaticReconnect</code> in the <code>HubConnectionBuilder</code>:</p>
<div class="sourceCode" id="cb8"><pre class="sourceCode javascript"><code class="sourceCode javascript"><span id="cb8-1"><a href="#cb8-1" aria-hidden="true" tabindex="-1"></a><span class="kw">const</span> connection <span class="op">=</span> <span class="kw">new</span> signalR<span class="op">.</span><span class="fu">HubConnectionBuilder</span>()</span>
<span id="cb8-2"><a href="#cb8-2" aria-hidden="true" tabindex="-1"></a>    <span class="op">.</span><span class="fu">withUrl</span>(<span class="st">"/chatHub"</span>)</span>
<span id="cb8-3"><a href="#cb8-3" aria-hidden="true" tabindex="-1"></a>    <span class="op">.</span><span class="fu">withAutomaticReconnect</span>([<span class="dv">0</span><span class="op">,</span> <span class="dv">2000</span><span class="op">,</span> <span class="dv">5000</span>]) <span class="co">// Retry after 0, 2, and 5 seconds</span></span>
<span id="cb8-4"><a href="#cb8-4" aria-hidden="true" tabindex="-1"></a>    <span class="op">.</span><span class="fu">build</span>()<span class="op">;</span></span></code></pre></div>
<h3 id="using-the-signalr-javascript-client-library">Using the SignalR JavaScript Client Library</h3>
<p>The SignalR JavaScript client library provides a simple and efficient way to interact with SignalR hubs. Make sure to include the library in your HTML file:</p>
<div class="sourceCode" id="cb9"><pre class="sourceCode html"><code class="sourceCode html"><span id="cb9-1"><a href="#cb9-1" aria-hidden="true" tabindex="-1"></a><span class="dt">&lt;</span><span class="kw">script</span><span class="ot"> src</span><span class="op">=</span><span class="st">"https://cdn.jsdelivr.net/npm/@microsoft/signalr@7.0.9/dist/browser/signalr.min.js"</span><span class="dt">&gt;&lt;/</span><span class="kw">script</span><span class="dt">&gt;</span>  <span class="dt">&lt;/</span><span class="kw">html</span><span class="dt">&gt;</span></span></code></pre></div>
<p>(Replace the URL with the correct CDN link or the path to your local copy).</p>
<p>Then, use the methods described above to connect to the hub, send and receive messages, and manage the connection lifecycle. Remember to consult the official SignalR documentation for the most up-to-date information and detailed API references.</p>
<h2 id="server-side-development-hubs">Server-Side Development (Hubs)</h2>
<h3 id="defining-hub-methods">Defining Hub Methods</h3>
<p>Hub methods are the core of server-side SignalR functionality. They define the actions clients can invoke and the data the server can send to clients. Methods are defined as <code>async Task</code> methods within your hub class (inheriting from <code>Hub</code>). These methods can accept parameters from the client and return values (though it’s often better to use unidirectional pushes for better performance).</p>
<div class="sourceCode" id="cb10"><pre class="sourceCode csharp"><code class="sourceCode cs"><span id="cb10-1"><a href="#cb10-1" aria-hidden="true" tabindex="-1"></a><span class="kw">using</span> Microsoft<span class="op">.</span><span class="fu">AspNetCore</span><span class="op">.</span><span class="fu">SignalR</span><span class="op">;</span></span>
<span id="cb10-2"><a href="#cb10-2" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb10-3"><a href="#cb10-3" aria-hidden="true" tabindex="-1"></a><span class="kw">public</span> <span class="kw">class</span> ChatHub <span class="op">:</span> Hub</span>
<span id="cb10-4"><a href="#cb10-4" aria-hidden="true" tabindex="-1"></a><span class="op">{</span></span>
<span id="cb10-5"><a href="#cb10-5" aria-hidden="true" tabindex="-1"></a>    <span class="kw">public</span> async Task <span class="fu">SendMessage</span><span class="op">(</span><span class="dt">string</span> user<span class="op">,</span> <span class="dt">string</span> message<span class="op">)</span></span>
<span id="cb10-6"><a href="#cb10-6" aria-hidden="true" tabindex="-1"></a>    <span class="op">{</span></span>
<span id="cb10-7"><a href="#cb10-7" aria-hidden="true" tabindex="-1"></a>        await Clients<span class="op">.</span><span class="fu">All</span><span class="op">.</span><span class="fu">SendAsync</span><span class="op">(</span><span class="st">"ReceiveMessage"</span><span class="op">,</span> user<span class="op">,</span> message<span class="op">);</span> <span class="co">//Broadcasting</span></span>
<span id="cb10-8"><a href="#cb10-8" aria-hidden="true" tabindex="-1"></a>    <span class="op">}</span></span>
<span id="cb10-9"><a href="#cb10-9" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb10-10"><a href="#cb10-10" aria-hidden="true" tabindex="-1"></a>    <span class="kw">public</span> async Task <span class="fu">JoinGroup</span><span class="op">(</span><span class="dt">string</span> groupName<span class="op">)</span></span>
<span id="cb10-11"><a href="#cb10-11" aria-hidden="true" tabindex="-1"></a>    <span class="op">{</span></span>
<span id="cb10-12"><a href="#cb10-12" aria-hidden="true" tabindex="-1"></a>        await Groups<span class="op">.</span><span class="fu">AddToGroupAsync</span><span class="op">(</span>Context<span class="op">.</span><span class="fu">ConnectionId</span><span class="op">,</span> groupName<span class="op">);</span></span>
<span id="cb10-13"><a href="#cb10-13" aria-hidden="true" tabindex="-1"></a>    <span class="op">}</span></span>
<span id="cb10-14"><a href="#cb10-14" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb10-15"><a href="#cb10-15" aria-hidden="true" tabindex="-1"></a>    <span class="kw">public</span> <span class="dt">string</span> <span class="fu">GetServerTime</span><span class="op">()</span></span>
<span id="cb10-16"><a href="#cb10-16" aria-hidden="true" tabindex="-1"></a>    <span class="op">{</span></span>
<span id="cb10-17"><a href="#cb10-17" aria-hidden="true" tabindex="-1"></a>        <span class="kw">return</span> DateTime<span class="op">.</span><span class="fu">Now</span><span class="op">.</span><span class="fu">ToString</span><span class="op">();</span> <span class="co">//Simple return value</span></span>
<span id="cb10-18"><a href="#cb10-18" aria-hidden="true" tabindex="-1"></a>    <span class="op">}</span></span>
<span id="cb10-19"><a href="#cb10-19" aria-hidden="true" tabindex="-1"></a><span class="op">}</span></span></code></pre></div>
<p>This example shows <code>SendMessage</code>, which broadcasts a message, <code>JoinGroup</code>, which adds a client to a group, and <code>GetServerTime</code>, demonstrating a method returning a value. The <code>async</code> keyword is crucial for non-blocking operations and maintaining responsiveness.</p>
<h3 id="handling-client-connections">Handling Client Connections</h3>
<p>SignalR provides events to monitor client connections and disconnections:</p>
<ul>
<li><p><strong><code>OnConnectedAsync()</code>:</strong> Called when a client connects to the hub. Use this for tasks like logging connection events, initializing user data, or adding the client to default groups.</p></li>
<li><p><strong><code>OnDisconnectedAsync(Exception exception)</code>:</strong> Called when a client disconnects. The <code>exception</code> parameter provides information about the reason for disconnection. Use it for cleanup tasks like removing the client from groups or updating user status.</p></li>
</ul>
<div class="sourceCode" id="cb11"><pre class="sourceCode csharp"><code class="sourceCode cs"><span id="cb11-1"><a href="#cb11-1" aria-hidden="true" tabindex="-1"></a><span class="kw">public</span> <span class="kw">class</span> ChatHub <span class="op">:</span> Hub</span>
<span id="cb11-2"><a href="#cb11-2" aria-hidden="true" tabindex="-1"></a><span class="op">{</span></span>
<span id="cb11-3"><a href="#cb11-3" aria-hidden="true" tabindex="-1"></a>    <span class="kw">public</span> <span class="kw">override</span> async Task <span class="fu">OnConnectedAsync</span><span class="op">()</span></span>
<span id="cb11-4"><a href="#cb11-4" aria-hidden="true" tabindex="-1"></a>    <span class="op">{</span></span>
<span id="cb11-5"><a href="#cb11-5" aria-hidden="true" tabindex="-1"></a>        await Clients<span class="op">.</span><span class="fu">Caller</span><span class="op">.</span><span class="fu">SendAsync</span><span class="op">(</span><span class="st">"ConnectionEstablished"</span><span class="op">);</span> <span class="co">// Send a message to the connected client</span></span>
<span id="cb11-6"><a href="#cb11-6" aria-hidden="true" tabindex="-1"></a>        await <span class="kw">base</span><span class="op">.</span><span class="fu">OnConnectedAsync</span><span class="op">();</span></span>
<span id="cb11-7"><a href="#cb11-7" aria-hidden="true" tabindex="-1"></a>    <span class="op">}</span></span>
<span id="cb11-8"><a href="#cb11-8" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb11-9"><a href="#cb11-9" aria-hidden="true" tabindex="-1"></a>    <span class="kw">public</span> <span class="kw">override</span> async Task <span class="fu">OnDisconnectedAsync</span><span class="op">(</span>Exception exception<span class="op">)</span></span>
<span id="cb11-10"><a href="#cb11-10" aria-hidden="true" tabindex="-1"></a>    <span class="op">{</span></span>
<span id="cb11-11"><a href="#cb11-11" aria-hidden="true" tabindex="-1"></a>        await Clients<span class="op">.</span><span class="fu">Others</span><span class="op">.</span><span class="fu">SendAsync</span><span class="op">(</span><span class="st">"UserDisconnected"</span><span class="op">,</span> Context<span class="op">.</span><span class="fu">ConnectionId</span><span class="op">);</span> <span class="co">// Notify other clients</span></span>
<span id="cb11-12"><a href="#cb11-12" aria-hidden="true" tabindex="-1"></a>        await <span class="kw">base</span><span class="op">.</span><span class="fu">OnDisconnectedAsync</span><span class="op">(</span>exception<span class="op">);</span></span>
<span id="cb11-13"><a href="#cb11-13" aria-hidden="true" tabindex="-1"></a>    <span class="op">}</span></span>
<span id="cb11-14"><a href="#cb11-14" aria-hidden="true" tabindex="-1"></a><span class="op">}</span></span></code></pre></div>
<h3 id="broadcasting-messages-to-clients">Broadcasting Messages to Clients</h3>
<p>SignalR simplifies broadcasting messages to connected clients using the <code>Clients</code> property of the <code>Hub</code> class:</p>
<ul>
<li><strong><code>Clients.All</code>:</strong> Sends the message to all connected clients.</li>
<li><strong><code>Clients.Others</code>:</strong> Sends the message to all clients except the caller.</li>
<li><strong><code>Clients.Caller</code>:</strong> Sends the message only to the client that invoked the method.</li>
<li><strong><code>Clients.Group(groupName)</code>:</strong> Sends the message to clients in a specific group.</li>
<li><strong><code>Clients.User(userId)</code>:</strong> Sends the message to clients associated with a specific user ID (requires user identification).</li>
</ul>
<div class="sourceCode" id="cb12"><pre class="sourceCode csharp"><code class="sourceCode cs"><span id="cb12-1"><a href="#cb12-1" aria-hidden="true" tabindex="-1"></a>await Clients<span class="op">.</span><span class="fu">All</span><span class="op">.</span><span class="fu">SendAsync</span><span class="op">(</span><span class="st">"BroadcastMessage"</span><span class="op">,</span> <span class="st">"Message for everyone!"</span><span class="op">);</span></span>
<span id="cb12-2"><a href="#cb12-2" aria-hidden="true" tabindex="-1"></a>await Clients<span class="op">.</span><span class="fu">Others</span><span class="op">.</span><span class="fu">SendAsync</span><span class="op">(</span><span class="st">"MessageToOthers"</span><span class="op">,</span> <span class="st">"This is for everyone but you!"</span><span class="op">);</span></span></code></pre></div>
<p>The first line sends a broadcast message to all connected clients. The second line sends to everyone except the client who initiated the hub method. The <code>SendAsync</code> method uses the client-side method name as the first argument.</p>
<h3 id="grouping-clients">Grouping Clients</h3>
<p>Grouping allows sending messages to subsets of connected clients. Use <code>Groups.AddToGroupAsync</code>, <code>Groups.RemoveFromGroupAsync</code>, and <code>Groups.RemoveFromGroupsAsync</code> to manage group membership:</p>
<div class="sourceCode" id="cb13"><pre class="sourceCode csharp"><code class="sourceCode cs"><span id="cb13-1"><a href="#cb13-1" aria-hidden="true" tabindex="-1"></a>await Groups<span class="op">.</span><span class="fu">AddToGroupAsync</span><span class="op">(</span>Context<span class="op">.</span><span class="fu">ConnectionId</span><span class="op">,</span> <span class="st">"RoomA"</span><span class="op">);</span></span>
<span id="cb13-2"><a href="#cb13-2" aria-hidden="true" tabindex="-1"></a>await Clients<span class="op">.</span><span class="fu">Group</span><span class="op">(</span><span class="st">"RoomA"</span><span class="op">).</span><span class="fu">SendAsync</span><span class="op">(</span><span class="st">"RoomAMessage"</span><span class="op">,</span> <span class="st">"Message only for RoomA"</span><span class="op">);</span></span></code></pre></div>
<p>This adds the current client to the “RoomA” group and then sends a message only to clients within that group.</p>
<h3 id="managing-connections">Managing Connections</h3>
<p>You can access information about the current connection through the <code>Context</code> property:</p>
<ul>
<li><p><strong><code>Context.ConnectionId</code>:</strong> A unique identifier for the current connection. Essential for tracking individual clients and removing them from groups.</p></li>
<li><p><strong><code>Context.UserIdentifier</code>:</strong> (If authentication is implemented) an identifier for the user associated with the connection.</p></li>
</ul>
<p>Use this information to manage connections, personalize messages, and enforce security rules.</p>
<h3 id="implementing-business-logic-within-hubs">Implementing Business Logic within Hubs</h3>
<p>While it’s possible to put some business logic directly in the hub, for larger applications it’s generally better practice to keep the hub lean and delegate complex operations to separate services. The hub should primarily focus on communication, while services handle data processing and persistence.</p>
<p>Inject dependencies (services) into your hub via constructor injection to access these services:</p>
<div class="sourceCode" id="cb14"><pre class="sourceCode csharp"><code class="sourceCode cs"><span id="cb14-1"><a href="#cb14-1" aria-hidden="true" tabindex="-1"></a><span class="kw">public</span> <span class="kw">class</span> ChatHub <span class="op">:</span> Hub</span>
<span id="cb14-2"><a href="#cb14-2" aria-hidden="true" tabindex="-1"></a><span class="op">{</span></span>
<span id="cb14-3"><a href="#cb14-3" aria-hidden="true" tabindex="-1"></a>    <span class="kw">private</span> <span class="kw">readonly</span> IChatService _chatService<span class="op">;</span></span>
<span id="cb14-4"><a href="#cb14-4" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb14-5"><a href="#cb14-5" aria-hidden="true" tabindex="-1"></a>    <span class="kw">public</span> <span class="fu">ChatHub</span><span class="op">(</span>IChatService chatService<span class="op">)</span></span>
<span id="cb14-6"><a href="#cb14-6" aria-hidden="true" tabindex="-1"></a>    <span class="op">{</span></span>
<span id="cb14-7"><a href="#cb14-7" aria-hidden="true" tabindex="-1"></a>        _chatService <span class="op">=</span> chatService<span class="op">;</span></span>
<span id="cb14-8"><a href="#cb14-8" aria-hidden="true" tabindex="-1"></a>    <span class="op">}</span></span>
<span id="cb14-9"><a href="#cb14-9" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb14-10"><a href="#cb14-10" aria-hidden="true" tabindex="-1"></a>    <span class="kw">public</span> async Task <span class="fu">SendMessage</span><span class="op">(</span><span class="dt">string</span> user<span class="op">,</span> <span class="dt">string</span> message<span class="op">)</span></span>
<span id="cb14-11"><a href="#cb14-11" aria-hidden="true" tabindex="-1"></a>    <span class="op">{</span></span>
<span id="cb14-12"><a href="#cb14-12" aria-hidden="true" tabindex="-1"></a>        <span class="co">//Store message in database using _chatService</span></span>
<span id="cb14-13"><a href="#cb14-13" aria-hidden="true" tabindex="-1"></a>        await _chatService<span class="op">.</span><span class="fu">SaveMessageAsync</span><span class="op">(</span>user<span class="op">,</span> message<span class="op">);</span></span>
<span id="cb14-14"><a href="#cb14-14" aria-hidden="true" tabindex="-1"></a>        await Clients<span class="op">.</span><span class="fu">All</span><span class="op">.</span><span class="fu">SendAsync</span><span class="op">(</span><span class="st">"ReceiveMessage"</span><span class="op">,</span> user<span class="op">,</span> message<span class="op">);</span></span>
<span id="cb14-15"><a href="#cb14-15" aria-hidden="true" tabindex="-1"></a>    <span class="op">}</span></span>
<span id="cb14-16"><a href="#cb14-16" aria-hidden="true" tabindex="-1"></a><span class="op">}</span></span></code></pre></div>
<h3 id="security-considerations">Security Considerations</h3>
<p>Security is paramount in real-time applications. Always validate and sanitize data received from clients to prevent injection attacks. Implement robust authentication and authorization to control access to hub methods and data. Avoid exposing sensitive information through hub methods. Consider using HTTPS to secure the connection. Use features like connection id whitelisting (or blacklisting) to enhance security. Regularly review and update SignalR libraries to benefit from security patches.</p>
<h2 id="advanced-signalr-techniques">Advanced SignalR Techniques</h2>
<h3 id="streaming-data">Streaming Data</h3>
<p>Streaming allows sending a sequence of data items to the client without waiting for the entire data set to be processed. This is ideal for scenarios like live data feeds or long-running operations. On the server-side, use <code>Stream</code> method to send data incrementally. On the client, use the appropriate asynchronous method for receiving the stream.</p>
<p><strong>Server-side (C#):</strong></p>
<div class="sourceCode" id="cb15"><pre class="sourceCode csharp"><code class="sourceCode cs"><span id="cb15-1"><a href="#cb15-1" aria-hidden="true" tabindex="-1"></a><span class="kw">public</span> async IAsyncEnumerable<span class="op">&lt;</span><span class="dt">string</span><span class="op">&gt;</span> <span class="fu">StreamData</span><span class="op">()</span></span>
<span id="cb15-2"><a href="#cb15-2" aria-hidden="true" tabindex="-1"></a><span class="op">{</span></span>
<span id="cb15-3"><a href="#cb15-3" aria-hidden="true" tabindex="-1"></a>    <span class="kw">for</span> <span class="op">(</span><span class="dt">int</span> i <span class="op">=</span> <span class="dv">0</span><span class="op">;</span> i <span class="op">&lt;</span> <span class="dv">10</span><span class="op">;</span> i<span class="op">++)</span></span>
<span id="cb15-4"><a href="#cb15-4" aria-hidden="true" tabindex="-1"></a>    <span class="op">{</span></span>
<span id="cb15-5"><a href="#cb15-5" aria-hidden="true" tabindex="-1"></a>        await Task<span class="op">.</span><span class="fu">Delay</span><span class="op">(</span><span class="dv">1000</span><span class="op">);</span> <span class="co">// Simulate delay</span></span>
<span id="cb15-6"><a href="#cb15-6" aria-hidden="true" tabindex="-1"></a>        <span class="kw">yield</span> <span class="kw">return</span> $<span class="st">"Data item {i}"</span><span class="op">;</span></span>
<span id="cb15-7"><a href="#cb15-7" aria-hidden="true" tabindex="-1"></a>    <span class="op">}</span></span>
<span id="cb15-8"><a href="#cb15-8" aria-hidden="true" tabindex="-1"></a><span class="op">}</span></span></code></pre></div>
<p><strong>Client-side (JavaScript):</strong></p>
<div class="sourceCode" id="cb16"><pre class="sourceCode javascript"><code class="sourceCode javascript"><span id="cb16-1"><a href="#cb16-1" aria-hidden="true" tabindex="-1"></a><span class="kw">const</span> stream <span class="op">=</span> <span class="cf">await</span> connection<span class="op">.</span><span class="fu">stream</span>(<span class="st">"StreamData"</span>)<span class="op">;</span></span>
<span id="cb16-2"><a href="#cb16-2" aria-hidden="true" tabindex="-1"></a><span class="cf">for</span> <span class="cf">await</span> (<span class="kw">const</span> data <span class="kw">of</span> stream) {</span>
<span id="cb16-3"><a href="#cb16-3" aria-hidden="true" tabindex="-1"></a>    <span class="bu">console</span><span class="op">.</span><span class="fu">log</span>(data)<span class="op">;</span></span>
<span id="cb16-4"><a href="#cb16-4" aria-hidden="true" tabindex="-1"></a>}</span></code></pre></div>
<h3 id="handling-large-messages">Handling Large Messages</h3>
<p>Sending very large messages can impact performance. Consider these approaches:</p>
<ul>
<li><p><strong>Chunking:</strong> Break large messages into smaller chunks and send them individually. The client reassembles the message.</p></li>
<li><p><strong>Compression:</strong> Compress data before sending to reduce message size.</p></li>
<li><p><strong>Alternatives:</strong> For very large datasets, consider using other technologies better suited for bulk data transfer like a separate REST API endpoint or a message queue, rather than pushing everything through SignalR.</p></li>
</ul>
<h3 id="scaling-signalr-applications">Scaling SignalR Applications</h3>
<p>As your application grows, you may need to scale SignalR to handle a large number of concurrent connections. Consider these options:</p>
<ul>
<li><p><strong>Load Balancing:</strong> Distribute the load across multiple SignalR servers using a load balancer.</p></li>
<li><p><strong>Redis Backplane:</strong> Use Redis to enable communication between multiple SignalR servers, allowing messages to be distributed efficiently.</p></li>
<li><p><strong>Azure SignalR Service:</strong> A fully managed service that handles scaling and infrastructure management for you. This is often the simplest and most scalable approach.</p></li>
</ul>
<h3 id="implementing-custom-transports">Implementing Custom Transports</h3>
<p>While SignalR automatically selects the best transport, you can customize the transport used for communication:</p>
<ul>
<li><p><strong>WebSockets:</strong> The most efficient but requires browser support.</p></li>
<li><p><strong>Server-Sent Events (SSE):</strong> A unidirectional transport useful for scenarios where the server primarily pushes data to clients.</p></li>
<li><p><strong>Long Polling:</strong> A fallback transport for older browsers.</p></li>
</ul>
<p>You’d typically configure this through the <code>HubConnectionBuilder</code> but it’s rarely needed with modern browsers that support WebSockets. SignalR’s fallback mechanisms usually handle this automatically.</p>
<h3 id="integrating-with-other-technologies">Integrating with other technologies</h3>
<p>SignalR can integrate with other technologies to build comprehensive applications:</p>
<ul>
<li><p><strong>Authentication:</strong> Integrate with identity providers (e.g., ASP.NET Identity, Azure Active Directory) to authenticate users and authorize access to hub methods.</p></li>
<li><p><strong>Databases:</strong> Use databases to store and retrieve data related to your application’s state.</p></li>
<li><p><strong>Messaging Queues:</strong> Use messaging queues (e.g., RabbitMQ, Azure Service Bus) to handle asynchronous operations and scale your application.</p></li>
<li><p><strong>Other APIs:</strong> Integrate with REST APIs or other services to fetch and update data in real-time.</p></li>
</ul>
<h3 id="performance-optimization">Performance Optimization</h3>
<p>Several strategies can improve SignalR performance:</p>
<ul>
<li><p><strong>Minimize data payload:</strong> Send only necessary data to clients.</p></li>
<li><p><strong>Efficient data serialization:</strong> Use efficient serialization formats (e.g., JSON).</p></li>
<li><p><strong>Optimize hub methods:</strong> Avoid blocking operations within hub methods to maintain responsiveness.</p></li>
<li><p><strong>Use appropriate data structures:</strong> Use efficient data structures to store and process data.</p></li>
<li><p><strong>Caching:</strong> Cache frequently accessed data to reduce database load.</p></li>
<li><p><strong>Connection pooling:</strong> (On the server) Efficiently reuse connections.</p></li>
<li><p><strong>Proper error handling:</strong> Prevent errors from cascading and impacting performance.</p></li>
</ul>
<p>By employing these advanced techniques, you can build highly scalable, efficient, and robust real-time applications using SignalR. Remember to always profile your application to identify bottlenecks and optimize accordingly.</p>
<h2 id="troubleshooting-and-debugging">Troubleshooting and Debugging</h2>
<h3 id="common-errors-and-solutions">Common Errors and Solutions</h3>
<p>Several common issues can arise when working with SignalR. Here are some frequent problems and their solutions:</p>
<ul>
<li><p><strong>Connection failures:</strong> Check your server configuration (hub URL, routing), ensure the SignalR server is running, and verify network connectivity. Inspect browser console for network errors. Client-side error handling (<code>.catch</code> blocks) are crucial for diagnosing connection problems.</p></li>
<li><p><strong>Messages not received:</strong> Ensure the client correctly subscribes to the appropriate methods using <code>connection.on()</code>. Verify the server is sending the messages using logging or debugging tools. Check for typos in method names (server and client must match exactly).</p></li>
<li><p><strong>Server-side exceptions:</strong> Implement robust error handling in your hub methods using <code>try-catch</code> blocks. Log exceptions to identify their root cause. Use a debugger to step through the code.</p></li>
<li><p><strong>Serialization issues:</strong> Ensure that data sent between the client and server can be correctly serialized and deserialized using the chosen format (usually JSON). Check for type mismatches or unsupported data types.</p></li>
<li><p><strong>Performance issues:</strong> Use profiling tools to identify performance bottlenecks. Optimize hub methods to avoid blocking operations. Consider scaling strategies for high-concurrent applications.</p></li>
</ul>
<h3 id="debugging-tools-and-techniques">Debugging Tools and Techniques</h3>
<p>Effective debugging is essential for resolving SignalR issues. Here are some useful tools and techniques:</p>
<ul>
<li><p><strong>Browser developer tools:</strong> Use the browser’s developer tools (Network tab, Console) to inspect network requests and identify errors.</p></li>
<li><p><strong>Server-side logging:</strong> Implement detailed logging on your server to track connections, messages, and exceptions. Use a logging framework like Serilog or NLog for structured logging.</p></li>
<li><p><strong>Debugging tools (e.g., Visual Studio Debugger):</strong> Use a debugger to step through your code and examine variables to pinpoint the source of errors. Set breakpoints in your hub methods and client-side code.</p></li>
<li><p><strong>Network monitoring tools:</strong> Use network monitoring tools (like Fiddler or Wireshark) to capture and analyze network traffic between the client and server. This helps identify network-related issues.</p></li>
</ul>
<h3 id="monitoring-signalr-applications">Monitoring SignalR Applications</h3>
<p>Monitoring your SignalR application is vital for ensuring performance, stability, and identifying potential issues proactively. Consider these monitoring approaches:</p>
<ul>
<li><p><strong>Application Insights (or similar APM):</strong> Integrate with an application performance monitoring (APM) tool to track key metrics like connection count, message throughput, latency, and error rates. Application Insights provides detailed diagnostics and alerts.</p></li>
<li><p><strong>Custom metrics:</strong> Implement custom metrics within your application to monitor specific aspects of your SignalR implementation. Log connection counts, message processing times, or other relevant data.</p></li>
<li><p><strong>Logging:</strong> Use structured logging to monitor various aspects of your application, including connection events, message handling, and exceptions. Use a centralized logging system to aggregate logs from multiple servers.</p></li>
<li><p><strong>Dashboards:</strong> Create dashboards to visualize key metrics and alerts. This allows you to quickly identify problems and respond accordingly. Many APM solutions provide built-in dashboarding features.</p></li>
</ul>
<p>By implementing these monitoring strategies, you gain valuable insight into your SignalR application’s health and performance, enabling you to proactively address potential issues and optimize its performance.</p>
<h2 id="security-best-practices">Security Best Practices</h2>
<h3 id="authentication-and-authorization">Authentication and Authorization</h3>
<p>Securely identifying and controlling access to your SignalR hub is critical. Implement robust authentication and authorization mechanisms:</p>
<ul>
<li><p><strong>Authentication:</strong> Verify the identity of connecting clients. Integrate with your existing authentication system (e.g., ASP.NET Identity, Azure Active Directory, OAuth 2.0). Use JWT (JSON Web Tokens) or other secure methods for transmitting authentication information.</p></li>
<li><p><strong>Authorization:</strong> Control access to hub methods based on user roles or permissions. Use attributes (like <code>[Authorize]</code>) or custom authorization logic to restrict access. Don’t expose sensitive operations to unauthorized clients.</p></li>
<li><p><strong>User identification:</strong> Once authenticated, use <code>Context.UserIdentifier</code> (or a similar mechanism depending on your authentication provider) to identify the user within your hub methods. This allows for personalized responses and targeted messaging.</p></li>
</ul>
<h3 id="protecting-against-cross-site-scripting-xss">Protecting against Cross-Site Scripting (XSS)</h3>
<p>XSS attacks inject malicious scripts into your application. Protect against them by:</p>
<ul>
<li><p><strong>Encoding data:</strong> Always encode data received from clients before displaying it on the client-side. Use appropriate encoding mechanisms based on the context (HTML encoding, JavaScript encoding, URL encoding). This prevents malicious scripts from executing.</p></li>
<li><p><strong>Content Security Policy (CSP):</strong> Implement a Content Security Policy to control the resources the browser is allowed to load. This helps prevent the execution of untrusted scripts.</p></li>
<li><p><strong>Input validation:</strong> Validate all user inputs to prevent malicious code from being injected. Don’t trust any data coming from the client.</p></li>
<li><p><strong>Output encoding:</strong> Encode all data displayed on the client-side, including data sent from the server. This helps prevent the execution of malicious scripts that might be embedded in the data.</p></li>
</ul>
<h3 id="preventing-denial-of-service-dos-attacks">Preventing Denial-of-Service (DoS) Attacks</h3>
<p>DoS attacks aim to make your application unavailable. Implement these measures:</p>
<ul>
<li><p><strong>Rate limiting:</strong> Limit the number of requests a client can make within a specific timeframe. This prevents a single client from overwhelming the server. Use middleware or other mechanisms to enforce rate limits.</p></li>
<li><p><strong>Throttling:</strong> Control the rate at which messages are processed or sent to clients. This helps prevent the server from becoming overloaded.</p></li>
<li><p><strong>Input validation:</strong> Validate the size and format of incoming data to prevent large or malformed messages from consuming excessive resources.</p></li>
<li><p><strong>Distributed denial-of-service (DDoS) mitigation:</strong> For large-scale attacks, consider using a DDoS protection service to filter malicious traffic.</p></li>
</ul>
<h3 id="data-validation-and-sanitization">Data Validation and Sanitization</h3>
<p>Always validate and sanitize data received from clients, regardless of the source:</p>
<ul>
<li><p><strong>Data type validation:</strong> Check if data is of the expected type (e.g., string, integer, date). Reject requests with invalid data types.</p></li>
<li><p><strong>Length validation:</strong> Limit the length of strings and other data types to prevent excessively long inputs.</p></li>
<li><p><strong>Format validation:</strong> Validate the format of data (e.g., email address, phone number). Use regular expressions for precise validation.</p></li>
<li><p><strong>Sanitization:</strong> Remove or escape potentially harmful characters from user input (e.g., <code>&lt;</code>, <code>&gt;</code>, <code>&amp;</code>, <code>"</code>). Use appropriate escaping techniques based on the context (e.g., HTML encoding, URL encoding).</p></li>
<li><p><strong>Parameter validation:</strong> Validate all parameters passed to hub methods before processing them. Reject requests with invalid parameters.</p></li>
</ul>
<p>By adhering to these security best practices, you can significantly reduce the risk of vulnerabilities in your SignalR applications. Regularly update your software and libraries to benefit from the latest security patches. Remember that security is an ongoing process requiring constant vigilance and adaptation to emerging threats.</p>
<h2 id="appendix-api-reference">Appendix: API Reference</h2>
<p>This appendix provides a high-level overview of the key APIs. For complete and up-to-date details, refer to the official Microsoft documentation for the specific version of SignalR you are using. The API surface can change between versions.</p>
<h3 id="signalr-client-library-api">SignalR Client Library API</h3>
<p>The SignalR client library API varies slightly depending on the platform (JavaScript, .NET, etc.). However, common functionalities include:</p>
<ul>
<li><p><strong><code>HubConnectionBuilder</code>:</strong> Used to create a new <code>HubConnection</code> instance. Methods include <code>withUrl</code> (specifying the hub URL), <code>withAutomaticReconnect</code> (configuring automatic reconnection attempts), and potentially others depending on the platform and version.</p></li>
<li><p><strong><code>HubConnection</code>:</strong> Represents the connection to the SignalR hub. Key methods include:</p>
<ul>
<li><code>start()</code>: Establishes the connection to the server. This typically returns a promise (in JavaScript) that resolves when the connection is successful or rejects on failure.</li>
<li><code>stop()</code>: Closes the connection.</li>
<li><code>on(methodName, callback)</code>: Registers a callback function to handle messages received from the server for a specified method name.</li>
<li><code>invoke(methodName, ...args)</code>: Invokes a method on the server. This also returns a promise which resolves when the server responds.</li>
<li><code>send(methodName, ...args)</code>: Sends a message to the server (similar to <code>invoke</code>, but usually without expecting a response).</li>
<li><code>stream(methodName, ...args)</code>: Starts a streaming operation.</li>
<li><code>onclose(callback)</code>: Registers a callback for connection closure.</li>
<li>Various methods for connection state management (e.g., checking connection state).</li>
</ul></li>
<li><p><strong>Error Handling:</strong> The client library typically uses promises (in JavaScript) or async/await patterns (in .NET) to facilitate error handling. <code>catch</code> blocks (JavaScript) or <code>try-catch</code> statements (C#) are used to manage connection errors and exceptions during method invocations.</p></li>
</ul>
<p>The specific methods and properties might differ slightly across different client library versions and platforms, so refer to the relevant documentation for your specific version and target platform.</p>
<h3 id="signalr-hub-api">SignalR Hub API</h3>
<p>The SignalR Hub API (server-side) is primarily defined within your Hub class (inheriting from <code>Hub</code> in ASP.NET Core). Key features include:</p>
<ul>
<li><p><strong>Hub Methods:</strong> Methods defined within your Hub class represent the operations clients can invoke. They are typically declared as <code>public async Task SomeMethodName(...)</code>.</p></li>
<li><p><strong><code>Clients</code> Property:</strong> Allows you to send messages to clients. This property provides various targets:</p>
<ul>
<li><code>Clients.All</code>: Sends to all connected clients.</li>
<li><code>Clients.Caller</code>: Sends only to the client that initiated the call.</li>
<li><code>Clients.Others</code>: Sends to all clients except the caller.</li>
<li><code>Clients.Group(groupName)</code>: Sends to clients in a specific group.</li>
<li><code>Clients.User(userId)</code>: Sends to clients associated with a specific user ID (requires user identification).</li>
<li><code>Clients.User(userId)</code>: Sends to specific users (requires user identification and proper setup).</li>
</ul></li>
<li><p><strong><code>Groups</code> Property:</strong> Allows managing client groups. Methods include:</p>
<ul>
<li><code>AddToGroupAsync(connectionId, groupName)</code>: Adds a client to a group.</li>
<li><code>RemoveFromGroupAsync(connectionId, groupName)</code>: Removes a client from a group.</li>
<li><code>RemoveFromGroupsAsync(connectionId, groupNames)</code>: Removes a client from multiple groups.</li>
</ul></li>
<li><p><strong><code>Context</code> Property:</strong> Provides information about the current connection, including <code>ConnectionId</code> and potentially <code>User</code>.</p></li>
<li><p><strong><code>OnConnectedAsync()</code> and <code>OnDisconnectedAsync()</code>:</strong> Methods called when a client connects and disconnects, respectively. These are often used for logging and managing client state.</p></li>
<li><p><strong>Streaming:</strong> The <code>IAsyncEnumerable&lt;T&gt;</code> type enables streaming data to clients.</p></li>
</ul>
<p>Again, consult the official SignalR documentation for the most up-to-date API details for your specific version. The exact names and behavior of methods might vary across versions. Always check for changes in new releases.</p>


<footer>Copyright 2025 - Muthukrishnan</footer>
<script async="" src="https://pagead2.googlesyndication.com/pagead/js/adsbygoogle.js?client=ca-pub-3609399560636561" crossorigin="anonymous"></script>




</body></html>