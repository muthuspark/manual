<!DOCTYPE html>
<html xmlns="http://www.w3.org/1999/xhtml" lang="en" xml:lang="en"><head>

<meta charset="utf-8">
<meta name="generator" content="quarto-1.6.39">

<meta name="viewport" content="width=device-width, initial-scale=1.0, user-scalable=yes">

<meta name="author" content="Muthukrishnan">

<title>Lightning.js - Documentation – Technical Manuals</title>
<style>
html {
  color: #1a1a1a;
  background-color: #fdfdfd;
}
body {
  margin: 0 auto;
  max-width: 36em;
  padding-left: 50px;
  padding-right: 50px;
  padding-top: 50px;
  padding-bottom: 50px;
  hyphens: auto;
  overflow-wrap: break-word;
  text-rendering: optimizeLegibility;
  font-kerning: normal;
}
@media (max-width: 600px) {
  body {
    font-size: 0.9em;
    padding: 12px;
  }
  h1 {
    font-size: 1.8em;
  }
}
@media print {
  html {
    background-color: white;
  }
  body {
    background-color: transparent;
    color: black;
    font-size: 12pt;
  }
  p, h2, h3 {
    orphans: 3;
    widows: 3;
  }
  h2, h3, h4 {
    page-break-after: avoid;
  }
}
p {
  margin: 1em 0;
}
a {
  color: #1a1a1a;
}
a:visited {
  color: #1a1a1a;
}
img {
  max-width: 100%;
}
svg {
  height; auto;
  max-width: 100%;
}
h1, h2, h3, h4, h5, h6 {
  margin-top: 1.4em;
}
h5, h6 {
  font-size: 1em;
  font-style: italic;
}
h6 {
  font-weight: normal;
}
ol, ul {
  padding-left: 1.7em;
  margin-top: 1em;
}
li > ol, li > ul {
  margin-top: 0;
}
ul > li:not(:has(> p)) > ul,
ol > li:not(:has(> p)) > ul,
ul > li:not(:has(> p)) > ol,
ol > li:not(:has(> p)) > ol {
  margin-bottom: 0;
}
ul > li:not(:has(> p)) > ul > li:has(> p),
ol > li:not(:has(> p)) > ul > li:has(> p),
ul > li:not(:has(> p)) > ol > li:has(> p),
ol > li:not(:has(> p)) > ol > li:has(> p) {
  margin-top: 1rem;
}
blockquote {
  margin: 1em 0 1em 1.7em;
  padding-left: 1em;
  border-left: 2px solid #e6e6e6;
  color: #606060;
}
code {
  font-family: Menlo, Monaco, Consolas, 'Lucida Console', monospace;
  font-size: 85%;
  margin: 0;
  hyphens: manual;
}
pre {
  margin: 1em 0;
  overflow: auto;
}
pre code {
  padding: 0;
  overflow: visible;
  overflow-wrap: normal;
}
.sourceCode {
 background-color: transparent;
 overflow: visible;
}
hr {
  background-color: #1a1a1a;
  border: none;
  height: 1px;
  margin: 1em 0;
}
table {
  margin: 1em 0;
  border-collapse: collapse;
  width: 100%;
  overflow-x: auto;
  display: block;
  font-variant-numeric: lining-nums tabular-nums;
}
table caption {
  margin-bottom: 0.75em;
}
tbody {
  margin-top: 0.5em;
  border-top: 1px solid #1a1a1a;
  border-bottom: 1px solid #1a1a1a;
}
th {
  border-top: 1px solid #1a1a1a;
  padding: 0.25em 0.5em 0.25em 0.5em;
}
td {
  padding: 0.125em 0.5em 0.25em 0.5em;
}
header {
  margin-bottom: 4em;
  text-align: center;
}
#TOC li {
  list-style: none;
}
#TOC ul {
  padding-left: 1.3em;
}
#TOC > ul {
  padding-left: 0;
}
#TOC a:not(:hover) {
  text-decoration: none;
}
code{white-space: pre-wrap;}
span.smallcaps{font-variant: small-caps;}
div.columns{display: flex; gap: min(4vw, 1.5em);}
div.column{flex: auto; overflow-x: auto;}
div.hanging-indent{margin-left: 1.5em; text-indent: -1.5em;}
ul.task-list{list-style: none;}
ul.task-list li input[type="checkbox"] {
  width: 0.8em;
  margin: 0 0.8em 0.2em -1em; /* quarto-specific, see https://github.com/quarto-dev/quarto-cli/issues/4556 */ 
  vertical-align: middle;
}
/* CSS for syntax highlighting */
pre > code.sourceCode { white-space: pre; position: relative; }
pre > code.sourceCode > span { line-height: 1.25; }
pre > code.sourceCode > span:empty { height: 1.2em; }
.sourceCode { overflow: visible; }
code.sourceCode > span { color: inherit; text-decoration: inherit; }
div.sourceCode { margin: 1em 0; }
pre.sourceCode { margin: 0; }
@media screen {
div.sourceCode { overflow: auto; }
}
@media print {
pre > code.sourceCode { white-space: pre-wrap; }
pre > code.sourceCode > span { display: inline-block; text-indent: -5em; padding-left: 5em; }
}
pre.numberSource code
  { counter-reset: source-line 0; }
pre.numberSource code > span
  { position: relative; left: -4em; counter-increment: source-line; }
pre.numberSource code > span > a:first-child::before
  { content: counter(source-line);
    position: relative; left: -1em; text-align: right; vertical-align: baseline;
    border: none; display: inline-block;
    -webkit-touch-callout: none; -webkit-user-select: none;
    -khtml-user-select: none; -moz-user-select: none;
    -ms-user-select: none; user-select: none;
    padding: 0 4px; width: 4em;
  }
pre.numberSource { margin-left: 3em;  padding-left: 4px; }
div.sourceCode
  {   }
@media screen {
pre > code.sourceCode > span > a:first-child::before { text-decoration: underline; }
}
</style>


<link href="../../favicon.ico" rel="icon">
<script async="" src="https://www.googletagmanager.com/gtag/js?id="></script>

<script type="text/javascript">

window.dataLayer = window.dataLayer || [];
function gtag(){dataLayer.push(arguments);}
gtag('js', new Date());
gtag('config', '', { 'anonymize_ip': true});
</script>
<link rel="icon" type="image/x-icon" href="../../favicon.ico">
<meta property="og:title" content="Lightning.js - Documentation – Technical Manuals">
<meta property="og:site_name" content="Technical Manuals">
</head><body><div class="navigation-header">
    <nav>
        <div>
            <div class="logo">
                <a href="../../" aria-label="Home">
                    <span>Technical Manuals - Home</span>
                </a>
            </div>
            <div class="nav-menu">
                <ul>
                    <li>
                        <a href="../../about.html">
                            <span class="menu-text">About</span>
                        </a>
                    </li>
                    <li> 
                        <a href="https://github.com/muthuspark" target="_blank">
                            <span class="menu-text">Github</span>
                        </a>
                    </li>
                    <li>
                        <a href="https://linkedin.com/in/krimuthu" target="_blank">
                            <span class="menu-text">Linkedin</span>
                        </a>
                    </li>
                    <li>
                        <button onclick="window.print()" class="print-button">
                            <svg width="20" height="20" viewbox="0 0 24 24" fill="none" stroke="currentColor" stroke-width="2">
                              <path d="M6 9V2h12v7"></path>
                              <path d="M6 18H4a2 2 0 01-2-2v-5a2 2 0 012-2h16a2 2 0 012 2v5a2 2 0 01-2 2h-2"></path>
                              <path d="M6 14h12v8H6z"></path>
                            </svg>
                            Print Page
                        </button>
                    </li>
                </ul>
            </div>
        </div>
    </nav>
</div>


<link rel="stylesheet" href="../../styles.css">





<header id="title-block-header">
<h1 class="title">Lightning.js - Documentation</h1>

</header>

<nav id="TOC" role="doc-toc">
    <h2 id="toc-title">On this page</h2>
   
  <ul>
  <li><a href="#getting-started" id="toc-getting-started">Getting Started</a>
  <ul>
  <li><a href="#installation" id="toc-installation">Installation</a></li>
  <li><a href="#creating-your-first-lightning.js-app" id="toc-creating-your-first-lightning.js-app">Creating your first Lightning.js app</a></li>
  <li><a href="#basic-project-structure" id="toc-basic-project-structure">Basic Project Structure</a></li>
  <li><a href="#running-your-app" id="toc-running-your-app">Running your app</a></li>
  </ul></li>
  <li><a href="#core-concepts" id="toc-core-concepts">Core Concepts</a>
  <ul>
  <li><a href="#the-stage" id="toc-the-stage">The Stage</a></li>
  <li><a href="#scenes-and-transitions" id="toc-scenes-and-transitions">Scenes and Transitions</a></li>
  <li><a href="#actors-and-components" id="toc-actors-and-components">Actors and Components</a></li>
  <li><a href="#events-and-event-handling" id="toc-events-and-event-handling">Events and Event Handling</a></li>
  <li><a href="#state-management" id="toc-state-management">State Management</a></li>
  <li><a href="#data-binding" id="toc-data-binding">Data Binding</a></li>
  <li><a href="#templates" id="toc-templates">Templates</a></li>
  </ul></li>
  <li><a href="#actors-and-components-1" id="toc-actors-and-components-1">Actors and Components</a>
  <ul>
  <li><a href="#creating-custom-actors" id="toc-creating-custom-actors">Creating custom actors</a></li>
  <li><a href="#component-lifecycle" id="toc-component-lifecycle">Component lifecycle</a></li>
  <li><a href="#using-built-in-components" id="toc-using-built-in-components">Using built-in components</a></li>
  <li><a href="#component-composition" id="toc-component-composition">Component Composition</a></li>
  <li><a href="#rendering-performance" id="toc-rendering-performance">Rendering Performance</a></li>
  </ul></li>
  <li><a href="#ui-components" id="toc-ui-components">UI Components</a>
  <ul>
  <li><a href="#text" id="toc-text">Text</a></li>
  <li><a href="#images" id="toc-images">Images</a></li>
  <li><a href="#buttons" id="toc-buttons">Buttons</a></li>
  <li><a href="#lists" id="toc-lists">Lists</a></li>
  <li><a href="#input-fields" id="toc-input-fields">Input Fields</a></li>
  <li><a href="#containers" id="toc-containers">Containers</a></li>
  <li><a href="#customizing-components" id="toc-customizing-components">Customizing Components</a></li>
  </ul></li>
  <li><a href="#styling-and-theming" id="toc-styling-and-theming">Styling and theming</a>
  <ul>
  <li><a href="#using-css" id="toc-using-css">Using CSS</a></li>
  <li><a href="#theming-with-lightning.js" id="toc-theming-with-lightning.js">Theming with Lightning.js</a></li>
  <li><a href="#custom-themes" id="toc-custom-themes">Custom Themes</a></li>
  <li><a href="#responsive-design" id="toc-responsive-design">Responsive design</a></li>
  </ul></li>
  <li><a href="#advanced-techniques" id="toc-advanced-techniques">Advanced Techniques</a>
  <ul>
  <li><a href="#animations" id="toc-animations">Animations</a></li>
  <li><a href="#working-with-external-libraries" id="toc-working-with-external-libraries">Working with external libraries</a></li>
  <li><a href="#testing" id="toc-testing">Testing</a></li>
  <li><a href="#debugging" id="toc-debugging">Debugging</a></li>
  <li><a href="#performance-optimization" id="toc-performance-optimization">Performance Optimization</a></li>
  <li><a href="#accessibility" id="toc-accessibility">Accessibility</a></li>
  </ul></li>
  <li><a href="#deployment" id="toc-deployment">Deployment</a>
  <ul>
  <li><a href="#web-deployment" id="toc-web-deployment">Web Deployment</a></li>
  <li><a href="#mobile-deployment-ios-and-android" id="toc-mobile-deployment-ios-and-android">Mobile Deployment (iOS and Android)</a></li>
  <li><a href="#building-for-different-platforms" id="toc-building-for-different-platforms">Building for different platforms</a></li>
  </ul></li>
  <li><a href="#api-reference" id="toc-api-reference">API Reference</a>
  <ul>
  <li><a href="#stage-api" id="toc-stage-api">Stage API</a></li>
  <li><a href="#scene-api" id="toc-scene-api">Scene API</a></li>
  <li><a href="#actor-api" id="toc-actor-api">Actor API</a></li>
  <li><a href="#component-api" id="toc-component-api">Component API</a></li>
  <li><a href="#utility-functions" id="toc-utility-functions">Utility functions</a></li>
  </ul></li>
  <li><a href="#troubleshooting" id="toc-troubleshooting">Troubleshooting</a>
  <ul>
  <li><a href="#common-issues-and-solutions" id="toc-common-issues-and-solutions">Common Issues and Solutions</a></li>
  <li><a href="#error-messages" id="toc-error-messages">Error Messages</a></li>
  <li><a href="#community-support" id="toc-community-support">Community Support</a></li>
  </ul></li>
  </ul>
</nav>
<h2 id="getting-started">Getting Started</h2>
<h3 id="installation">Installation</h3>
<p>Lightning.js can be installed using npm or yarn. Open your terminal and navigate to your project directory. Then, run the following command:</p>
<div class="sourceCode" id="cb1"><pre class="sourceCode bash"><code class="sourceCode bash"><span id="cb1-1"><a href="#cb1-1" aria-hidden="true" tabindex="-1"></a><span class="ex">npm</span> install lightningjs</span>
<span id="cb1-2"><a href="#cb1-2" aria-hidden="true" tabindex="-1"></a><span class="co"># or</span></span>
<span id="cb1-3"><a href="#cb1-3" aria-hidden="true" tabindex="-1"></a><span class="ex">yarn</span> add lightningjs</span></code></pre></div>
<p>This will install Lightning.js and its dependencies. You’ll also need a bundler like Webpack or Parcel to handle the module imports. Refer to the bundler’s documentation for specific setup instructions.</p>
<h3 id="creating-your-first-lightning.js-app">Creating your first Lightning.js app</h3>
<p>Let’s create a simple “Hello, world!” application. First, create an HTML file (e.g., <code>index.html</code>):</p>
<div class="sourceCode" id="cb2"><pre class="sourceCode html"><code class="sourceCode html"><span id="cb2-1"><a href="#cb2-1" aria-hidden="true" tabindex="-1"></a><span class="dt">&lt;!DOCTYPE</span> html<span class="dt">&gt;</span></span>
<span id="cb2-2"><a href="#cb2-2" aria-hidden="true" tabindex="-1"></a><span class="dt">&lt;</span><span class="kw">html</span><span class="dt">&gt;</span></span>
<span id="cb2-3"><a href="#cb2-3" aria-hidden="true" tabindex="-1"></a><span class="dt">&lt;</span><span class="kw">head</span><span class="dt">&gt;</span></span>
<span id="cb2-4"><a href="#cb2-4" aria-hidden="true" tabindex="-1"></a>  <span class="dt">&lt;</span><span class="kw">title</span><span class="dt">&gt;</span>My Lightning.js App<span class="dt">&lt;/</span><span class="kw">title</span><span class="dt">&gt;</span></span>
<span id="cb2-5"><a href="#cb2-5" aria-hidden="true" tabindex="-1"></a><span class="dt">&lt;/</span><span class="kw">head</span><span class="dt">&gt;</span></span>
<span id="cb2-6"><a href="#cb2-6" aria-hidden="true" tabindex="-1"></a><span class="dt">&lt;</span><span class="kw">body</span><span class="dt">&gt;</span></span>
<span id="cb2-7"><a href="#cb2-7" aria-hidden="true" tabindex="-1"></a>  <span class="dt">&lt;</span><span class="kw">script</span><span class="ot"> src</span><span class="op">=</span><span class="st">"./app.js"</span><span class="dt">&gt;&lt;/</span><span class="kw">script</span><span class="dt">&gt;</span> <span class="dt">&lt;/</span><span class="kw">body</span><span class="dt">&gt;</span></span>
<span id="cb2-8"><a href="#cb2-8" aria-hidden="true" tabindex="-1"></a><span class="dt">&lt;/</span><span class="kw">html</span><span class="dt">&gt;</span></span></code></pre></div>
<p>Next, create a JavaScript file (<code>app.js</code>) containing your Lightning.js code:</p>
<div class="sourceCode" id="cb3"><pre class="sourceCode javascript"><code class="sourceCode javascript"><span id="cb3-1"><a href="#cb3-1" aria-hidden="true" tabindex="-1"></a><span class="im">import</span> { Lightning } <span class="im">from</span> <span class="st">'lightningjs'</span><span class="op">;</span></span>
<span id="cb3-2"><a href="#cb3-2" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb3-3"><a href="#cb3-3" aria-hidden="true" tabindex="-1"></a><span class="kw">class</span> MyComponent <span class="kw">extends</span> Lightning<span class="op">.</span><span class="at">Component</span> {</span>
<span id="cb3-4"><a href="#cb3-4" aria-hidden="true" tabindex="-1"></a>  <span class="kw">static</span> <span class="fu">_template</span>() {</span>
<span id="cb3-5"><a href="#cb3-5" aria-hidden="true" tabindex="-1"></a>    <span class="cf">return</span> {</span>
<span id="cb3-6"><a href="#cb3-6" aria-hidden="true" tabindex="-1"></a>      <span class="dt">text</span><span class="op">:</span> {</span>
<span id="cb3-7"><a href="#cb3-7" aria-hidden="true" tabindex="-1"></a>        <span class="dt">text</span><span class="op">:</span> {<span class="dt">text</span><span class="op">:</span> <span class="st">'Hello, world!'</span>}</span>
<span id="cb3-8"><a href="#cb3-8" aria-hidden="true" tabindex="-1"></a>      }</span>
<span id="cb3-9"><a href="#cb3-9" aria-hidden="true" tabindex="-1"></a>    }<span class="op">;</span></span>
<span id="cb3-10"><a href="#cb3-10" aria-hidden="true" tabindex="-1"></a>  }</span>
<span id="cb3-11"><a href="#cb3-11" aria-hidden="true" tabindex="-1"></a>}</span>
<span id="cb3-12"><a href="#cb3-12" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb3-13"><a href="#cb3-13" aria-hidden="true" tabindex="-1"></a><span class="kw">class</span> MyApplication <span class="kw">extends</span> Lightning<span class="op">.</span><span class="at">Application</span> {</span>
<span id="cb3-14"><a href="#cb3-14" aria-hidden="true" tabindex="-1"></a>  <span class="kw">static</span> <span class="fu">_template</span>() {</span>
<span id="cb3-15"><a href="#cb3-15" aria-hidden="true" tabindex="-1"></a>    <span class="cf">return</span> {</span>
<span id="cb3-16"><a href="#cb3-16" aria-hidden="true" tabindex="-1"></a>      <span class="dt">MyComponent</span><span class="op">:</span> { <span class="dt">type</span><span class="op">:</span> MyComponent }</span>
<span id="cb3-17"><a href="#cb3-17" aria-hidden="true" tabindex="-1"></a>    }<span class="op">;</span></span>
<span id="cb3-18"><a href="#cb3-18" aria-hidden="true" tabindex="-1"></a>  }</span>
<span id="cb3-19"><a href="#cb3-19" aria-hidden="true" tabindex="-1"></a>}</span>
<span id="cb3-20"><a href="#cb3-20" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb3-21"><a href="#cb3-21" aria-hidden="true" tabindex="-1"></a><span class="kw">const</span> app <span class="op">=</span> <span class="kw">new</span> <span class="fu">MyApplication</span>({</span>
<span id="cb3-22"><a href="#cb3-22" aria-hidden="true" tabindex="-1"></a>  <span class="dt">stage</span><span class="op">:</span> {</span>
<span id="cb3-23"><a href="#cb3-23" aria-hidden="true" tabindex="-1"></a>    <span class="dt">w</span><span class="op">:</span> <span class="dv">1920</span><span class="op">,</span></span>
<span id="cb3-24"><a href="#cb3-24" aria-hidden="true" tabindex="-1"></a>    <span class="dt">h</span><span class="op">:</span> <span class="dv">1080</span><span class="op">,</span></span>
<span id="cb3-25"><a href="#cb3-25" aria-hidden="true" tabindex="-1"></a>    <span class="dt">backgroundColor</span><span class="op">:</span> <span class="bn">0x000000</span></span>
<span id="cb3-26"><a href="#cb3-26" aria-hidden="true" tabindex="-1"></a>  }</span>
<span id="cb3-27"><a href="#cb3-27" aria-hidden="true" tabindex="-1"></a>})<span class="op">;</span></span>
<span id="cb3-28"><a href="#cb3-28" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb3-29"><a href="#cb3-29" aria-hidden="true" tabindex="-1"></a>app<span class="op">.</span><span class="fu">start</span>()<span class="op">;</span></span></code></pre></div>
<p>This code defines a simple component that displays “Hello, world!” and an application that uses this component. Remember to adjust the stage dimensions (<code>w</code> and <code>h</code>) to match your desired screen resolution.</p>
<h3 id="basic-project-structure">Basic Project Structure</h3>
<p>A typical Lightning.js project might have the following structure:</p>
<pre><code>my-lightning-app/
├── index.html
├── app.js          // Main application entry point
├── components/     // Directory for reusable components
│   ├── MyComponent.js
│   └── AnotherComponent.js
├── styles/        // (Optional) Directory for CSS or styled-components
│   └── styles.css
└── ...             // Other assets (images, fonts, etc.)
</code></pre>
<p>Organize your code into components for better maintainability and reusability. Keep your CSS or styling separate from your component logic where appropriate.</p>
<h3 id="running-your-app">Running your app</h3>
<p>Once you’ve created your <code>index.html</code> and <code>app.js</code> files, and configured your bundler, you can run your application by opening <code>index.html</code> in a web browser. The browser should render your Lightning.js application. If you are using a bundler, you might need to run the bundler first to create the necessary output files. Consult your bundler’s documentation for details on how to run the development server. For example, with Webpack you might use a command like <code>npm start</code> (depending on your <code>package.json</code> configuration).</p>
<h2 id="core-concepts">Core Concepts</h2>
<h3 id="the-stage">The Stage</h3>
<p>The Stage in Lightning.js is the root of the visual hierarchy. It represents the entire screen area where your application’s content is rendered. Think of it as the canvas onto which all your visual elements are drawn. It manages the rendering process and provides properties like width (<code>w</code>), height (<code>h</code>), and background color (<code>backgroundColor</code>). The stage is a single instance within a given application. You define its dimensions when you create your application instance. All components and actors within your application are ultimately children of the stage.</p>
<h3 id="scenes-and-transitions">Scenes and Transitions</h3>
<p>Scenes are containers for groups of Actors or Components. They provide a way to organize your application’s UI into logical units, such as a menu screen, a game level, or a settings screen. Switching between scenes is managed through transitions, which can add visual flair and enhance the user experience. Lightning.js offers built-in transition types (like fade, zoom, etc.), or you can create custom transitions to fit your app’s style. A scene manages the lifecycle of its children; components within a scene are created, updated and destroyed along with the scene itself.</p>
<h3 id="actors-and-components">Actors and Components</h3>
<p>Actors and Components are the building blocks of your Lightning.js application’s UI. Both are visual elements that can be added to the stage or to scenes. The key difference lies in their functionality:</p>
<ul>
<li><p><strong>Actors:</strong> Actors are lower-level building blocks. They provide basic visual rendering capabilities (e.g., drawing rectangles, images, or text) but don’t inherently include built-in state management or complex event handling mechanisms. They are generally more suitable for low-level graphics and performance-critical situations.</p></li>
<li><p><strong>Components:</strong> Components build upon Actors, adding features like templating, data binding, state management, and event handling. They are generally preferred for most UI elements as they provide a more structured and manageable approach to building complex user interfaces. Most applications will primarily use Components rather than Actors directly.</p></li>
</ul>
<h3 id="events-and-event-handling">Events and Event Handling</h3>
<p>Lightning.js uses an event system for handling user interactions and application state changes. Components and Actors can emit events, and you can attach listeners to handle these events. Common events include mouse clicks, key presses, touch gestures, and custom application events. Event handling is crucial for building interactive and responsive applications. Lightning.js’s event system allows for event bubbling, enabling handling of events at multiple levels in the component hierarchy.</p>
<h3 id="state-management">State Management</h3>
<p>Effective state management is essential for building complex applications. Lightning.js doesn’t enforce a specific state management pattern but provides tools to handle state within components. You can manage state directly within component properties, using simpler approaches for smaller applications, or employ more sophisticated techniques like Flux, Redux, or custom solutions for larger, more complex projects. Lightning.js’s component lifecycle methods (<code>_setup</code>, <code>_active</code>, <code>_inactive</code>, <code>_cleanup</code>) provide key points for managing state changes in response to component activation and deactivation.</p>
<h3 id="data-binding">Data Binding</h3>
<p>Data binding simplifies the process of synchronizing data between your application’s model and your UI. Lightning.js supports data binding through its templating system. Changes to your data model automatically update the corresponding UI elements, and vice versa, reducing the need for manual updates and improving code maintainability.</p>
<h3 id="templates">Templates</h3>
<p>Templates are used to define the structure and content of components. They provide a declarative way to specify the visual hierarchy and properties of a component using a JSON-like structure. Templates separate the structure of your UI from the component’s logic, promoting code readability and making it easier to modify the UI without affecting the underlying functionality. They significantly improve the maintainability of complex UIs.</p>
<h2 id="actors-and-components-1">Actors and Components</h2>
<h3 id="creating-custom-actors">Creating custom actors</h3>
<p>Creating a custom actor involves extending the <code>Lightning.Actor</code> class and overriding methods to define its behavior and rendering. Here’s a basic example:</p>
<div class="sourceCode" id="cb5"><pre class="sourceCode javascript"><code class="sourceCode javascript"><span id="cb5-1"><a href="#cb5-1" aria-hidden="true" tabindex="-1"></a><span class="im">import</span> { Lightning<span class="op">,</span> Actor } <span class="im">from</span> <span class="st">'lightningjs'</span><span class="op">;</span></span>
<span id="cb5-2"><a href="#cb5-2" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb5-3"><a href="#cb5-3" aria-hidden="true" tabindex="-1"></a><span class="kw">class</span> MyCustomActor <span class="kw">extends</span> Actor {</span>
<span id="cb5-4"><a href="#cb5-4" aria-hidden="true" tabindex="-1"></a>  <span class="kw">static</span> <span class="kw">get</span> <span class="fu">_template</span>() {</span>
<span id="cb5-5"><a href="#cb5-5" aria-hidden="true" tabindex="-1"></a>    <span class="cf">return</span> {}<span class="op">;</span> <span class="co">//No template needed for this basic example</span></span>
<span id="cb5-6"><a href="#cb5-6" aria-hidden="true" tabindex="-1"></a>  }</span>
<span id="cb5-7"><a href="#cb5-7" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb5-8"><a href="#cb5-8" aria-hidden="true" tabindex="-1"></a>  <span class="fu">constructor</span>(<span class="op">...</span>args){</span>
<span id="cb5-9"><a href="#cb5-9" aria-hidden="true" tabindex="-1"></a>    <span class="kw">super</span>(<span class="op">...</span>args)<span class="op">;</span></span>
<span id="cb5-10"><a href="#cb5-10" aria-hidden="true" tabindex="-1"></a>    <span class="kw">this</span><span class="op">.</span><span class="at">color</span> <span class="op">=</span> <span class="bn">0xff0000</span><span class="op">;</span> <span class="co">// Red color</span></span>
<span id="cb5-11"><a href="#cb5-11" aria-hidden="true" tabindex="-1"></a>  }</span>
<span id="cb5-12"><a href="#cb5-12" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb5-13"><a href="#cb5-13" aria-hidden="true" tabindex="-1"></a>  <span class="fu">draw</span>(ctx) {</span>
<span id="cb5-14"><a href="#cb5-14" aria-hidden="true" tabindex="-1"></a>    ctx<span class="op">.</span><span class="at">fillStyle</span> <span class="op">=</span> <span class="st">'#'</span> <span class="op">+</span> <span class="kw">this</span><span class="op">.</span><span class="at">color</span><span class="op">.</span><span class="fu">toString</span>(<span class="dv">16</span>)<span class="op">;</span></span>
<span id="cb5-15"><a href="#cb5-15" aria-hidden="true" tabindex="-1"></a>    ctx<span class="op">.</span><span class="fu">fillRect</span>(<span class="dv">0</span><span class="op">,</span> <span class="dv">0</span><span class="op">,</span> <span class="kw">this</span><span class="op">.</span><span class="at">w</span><span class="op">,</span> <span class="kw">this</span><span class="op">.</span><span class="at">h</span>)<span class="op">;</span></span>
<span id="cb5-16"><a href="#cb5-16" aria-hidden="true" tabindex="-1"></a>  }</span>
<span id="cb5-17"><a href="#cb5-17" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb5-18"><a href="#cb5-18" aria-hidden="true" tabindex="-1"></a>  <span class="fu">_handleUp</span>() {</span>
<span id="cb5-19"><a href="#cb5-19" aria-hidden="true" tabindex="-1"></a>    <span class="kw">this</span><span class="op">.</span><span class="at">color</span> <span class="op">=</span> <span class="kw">this</span><span class="op">.</span><span class="at">color</span> <span class="op">===</span> <span class="bn">0xff0000</span> <span class="op">?</span> <span class="bn">0x0000ff</span> <span class="op">:</span> <span class="bn">0xff0000</span><span class="op">;</span> <span class="co">//Toggle color on click</span></span>
<span id="cb5-20"><a href="#cb5-20" aria-hidden="true" tabindex="-1"></a>    <span class="kw">this</span><span class="op">.</span><span class="at">stage</span><span class="op">.</span><span class="fu">nextFrame</span>(() <span class="kw">=&gt;</span> <span class="kw">this</span><span class="op">.</span><span class="fu">draw</span>())<span class="op">;</span> <span class="co">//Request redraw</span></span>
<span id="cb5-21"><a href="#cb5-21" aria-hidden="true" tabindex="-1"></a>  }</span>
<span id="cb5-22"><a href="#cb5-22" aria-hidden="true" tabindex="-1"></a>}</span>
<span id="cb5-23"><a href="#cb5-23" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb5-24"><a href="#cb5-24" aria-hidden="true" tabindex="-1"></a><span class="im">export</span> <span class="im">default</span> MyCustomActor<span class="op">;</span></span></code></pre></div>
<p>This actor draws a colored rectangle. The <code>draw</code> method performs the actual rendering using the provided CanvasRenderingContext2D (<code>ctx</code>). <code>_handleUp()</code> demonstrates handling an event. Note the use of <code>this.stage.nextFrame()</code> to efficiently schedule redraws. Remember to adjust the <code>_handleUp()</code> method to trigger on the appropriate event based on your application’s interaction methods.</p>
<h3 id="component-lifecycle">Component lifecycle</h3>
<p>Components in Lightning.js have a well-defined lifecycle, providing hooks for managing resources and state changes. Key lifecycle methods include:</p>
<ul>
<li><p><strong><code>_setup()</code>:</strong> Called once when the component is first added to the stage. Use this to initialize the component’s state and resources.</p></li>
<li><p><strong><code>_active()</code>:</strong> Called when the component becomes active (visible and interactable). Use this to start animations, register event listeners, or update the UI based on the current state.</p></li>
<li><p><strong><code>_inactive()</code>:</strong> Called when the component becomes inactive (hidden or not interactable). Use this to stop animations, remove event listeners, or perform cleanup tasks.</p></li>
<li><p><strong><code>_cleanup()</code>:</strong> Called once before the component is removed from the stage. Use this to release resources and perform any necessary finalization tasks.</p></li>
</ul>
<p>Understanding these lifecycle methods is crucial for optimizing performance and managing component state effectively.</p>
<h3 id="using-built-in-components">Using built-in components</h3>
<p>Lightning.js provides several built-in components that simplify development. Examples include:</p>
<ul>
<li><strong><code>Lightning.Text</code>:</strong> For rendering text. Easily style fonts, color, size etc.</li>
<li><strong><code>Lightning.Image</code>:</strong> For displaying images. Handles loading and caching.</li>
<li><strong><code>Lightning.Rectangle</code>:</strong> For drawing rectangles. Customizable styling and events.</li>
</ul>
<p>These components handle many aspects of rendering and interaction for you, improving development speed and efficiency. Consult the Lightning.js API documentation for a complete list of built-in components and their options.</p>
<h3 id="component-composition">Component Composition</h3>
<p>Component composition is a powerful technique for creating reusable and well-structured UIs. It involves nesting components within each other, creating hierarchical structures that represent the UI’s layout and functionality. This promotes modularity and improves maintainability. For example, you could create a <code>Button</code> component and reuse it multiple times in various other components (like a <code>SettingsMenu</code> or <code>Dialog</code>).</p>
<h3 id="rendering-performance">Rendering Performance</h3>
<p>Optimizing rendering performance is crucial for a smooth user experience, especially on resource-constrained devices. Here are some key considerations:</p>
<ul>
<li><p><strong>Minimize redraws:</strong> Only redraw components that actually need to be updated. The <code>stage.nextFrame()</code> method helps schedule redraws efficiently.</p></li>
<li><p><strong>Use efficient data structures:</strong> Optimize the data structures used within components to minimize the amount of processing required for rendering updates.</p></li>
<li><p><strong>Avoid unnecessary calculations:</strong> Pre-calculate values whenever possible to avoid redundant computations during the rendering cycle.</p></li>
<li><p><strong>Optimize image assets:</strong> Use appropriately sized and optimized images to reduce the memory footprint and improve loading times.</p></li>
<li><p><strong>Component Hierarchy:</strong> A deep component hierarchy can impact performance; strive for a balanced hierarchy. Consider using less nested components where performance is critical.</p></li>
</ul>
<p>By following these guidelines, you can ensure that your Lightning.js application performs optimally, providing a fluid and responsive user interface.</p>
<h2 id="ui-components">UI Components</h2>
<h3 id="text">Text</h3>
<p>The <code>Lightning.Text</code> component renders text on the screen. Key properties include:</p>
<ul>
<li><code>text</code>: The text string to display.</li>
<li><code>fontFace</code>: The font family (e.g., “Arial”, “Helvetica”).</li>
<li><code>fontSize</code>: The font size in pixels.</li>
<li><code>textColor</code>: The text color (e.g., 0xff0000 for red).</li>
<li><code>textAlign</code>: Text alignment (“left”, “center”, “right”).</li>
</ul>
<p>Example:</p>
<div class="sourceCode" id="cb6"><pre class="sourceCode javascript"><code class="sourceCode javascript"><span id="cb6-1"><a href="#cb6-1" aria-hidden="true" tabindex="-1"></a><span class="im">import</span> { Lightning<span class="op">,</span> <span class="bu">Text</span> } <span class="im">from</span> <span class="st">'lightningjs'</span><span class="op">;</span></span>
<span id="cb6-2"><a href="#cb6-2" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb6-3"><a href="#cb6-3" aria-hidden="true" tabindex="-1"></a><span class="kw">class</span> MyComponent <span class="kw">extends</span> Lightning<span class="op">.</span><span class="at">Component</span> {</span>
<span id="cb6-4"><a href="#cb6-4" aria-hidden="true" tabindex="-1"></a>  <span class="kw">static</span> <span class="fu">_template</span>() {</span>
<span id="cb6-5"><a href="#cb6-5" aria-hidden="true" tabindex="-1"></a>    <span class="cf">return</span> {</span>
<span id="cb6-6"><a href="#cb6-6" aria-hidden="true" tabindex="-1"></a>      <span class="dt">myText</span><span class="op">:</span> { <span class="dt">type</span><span class="op">:</span> <span class="bu">Text</span><span class="op">,</span> <span class="dt">text</span><span class="op">:</span> <span class="st">"Hello, Lightning.js!"</span><span class="op">,</span> <span class="dt">fontSize</span><span class="op">:</span> <span class="dv">32</span><span class="op">,</span> <span class="dt">textColor</span><span class="op">:</span> <span class="bn">0xffffff</span> }</span>
<span id="cb6-7"><a href="#cb6-7" aria-hidden="true" tabindex="-1"></a>    }<span class="op">;</span></span>
<span id="cb6-8"><a href="#cb6-8" aria-hidden="true" tabindex="-1"></a>  }</span>
<span id="cb6-9"><a href="#cb6-9" aria-hidden="true" tabindex="-1"></a>}</span></code></pre></div>
<h3 id="images">Images</h3>
<p>The <code>Lightning.Image</code> component displays images. Key properties include:</p>
<ul>
<li><code>src</code>: The path to the image file.</li>
<li><code>x</code>, <code>y</code>: The position of the image.</li>
<li><code>w</code>, <code>h</code>: The width and height of the image. These can be omitted to use the image’s native dimensions.</li>
</ul>
<p>Lightning.js handles image loading and caching efficiently. Ensure that your images are optimized for size and format.</p>
<p>Example:</p>
<div class="sourceCode" id="cb7"><pre class="sourceCode javascript"><code class="sourceCode javascript"><span id="cb7-1"><a href="#cb7-1" aria-hidden="true" tabindex="-1"></a><span class="im">import</span> { Lightning<span class="op">,</span> Image } <span class="im">from</span> <span class="st">'lightningjs'</span><span class="op">;</span></span>
<span id="cb7-2"><a href="#cb7-2" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb7-3"><a href="#cb7-3" aria-hidden="true" tabindex="-1"></a><span class="kw">class</span> MyComponent <span class="kw">extends</span> Lightning<span class="op">.</span><span class="at">Component</span> {</span>
<span id="cb7-4"><a href="#cb7-4" aria-hidden="true" tabindex="-1"></a>  <span class="kw">static</span> <span class="fu">_template</span>() {</span>
<span id="cb7-5"><a href="#cb7-5" aria-hidden="true" tabindex="-1"></a>    <span class="cf">return</span> {</span>
<span id="cb7-6"><a href="#cb7-6" aria-hidden="true" tabindex="-1"></a>      <span class="dt">myImage</span><span class="op">:</span> { <span class="dt">type</span><span class="op">:</span> Image<span class="op">,</span> <span class="dt">src</span><span class="op">:</span> <span class="st">"myImage.png"</span><span class="op">,</span> <span class="dt">x</span><span class="op">:</span> <span class="dv">100</span><span class="op">,</span> <span class="dt">y</span><span class="op">:</span> <span class="dv">100</span> }</span>
<span id="cb7-7"><a href="#cb7-7" aria-hidden="true" tabindex="-1"></a>    }<span class="op">;</span></span>
<span id="cb7-8"><a href="#cb7-8" aria-hidden="true" tabindex="-1"></a>  }</span>
<span id="cb7-9"><a href="#cb7-9" aria-hidden="true" tabindex="-1"></a>}</span></code></pre></div>
<h3 id="buttons">Buttons</h3>
<p>While Lightning.js doesn’t provide a dedicated “Button” component out-of-the-box, you can easily create one using a <code>Lightning.Rectangle</code> or other visual elements combined with event handling. You’d typically style a rectangle to look like a button and add an <code>_handleUp</code> (or other relevant event handler) to trigger an action when clicked.</p>
<p>Example (using <code>Rectangle</code>):</p>
<div class="sourceCode" id="cb8"><pre class="sourceCode javascript"><code class="sourceCode javascript"><span id="cb8-1"><a href="#cb8-1" aria-hidden="true" tabindex="-1"></a><span class="im">import</span> { Lightning<span class="op">,</span> Rectangle } <span class="im">from</span> <span class="st">'lightningjs'</span><span class="op">;</span></span>
<span id="cb8-2"><a href="#cb8-2" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb8-3"><a href="#cb8-3" aria-hidden="true" tabindex="-1"></a><span class="kw">class</span> MyButton <span class="kw">extends</span> Lightning<span class="op">.</span><span class="at">Component</span> {</span>
<span id="cb8-4"><a href="#cb8-4" aria-hidden="true" tabindex="-1"></a>  <span class="kw">static</span> <span class="fu">_template</span>() {</span>
<span id="cb8-5"><a href="#cb8-5" aria-hidden="true" tabindex="-1"></a>    <span class="cf">return</span> {</span>
<span id="cb8-6"><a href="#cb8-6" aria-hidden="true" tabindex="-1"></a>      <span class="dt">rect</span><span class="op">:</span> { <span class="dt">type</span><span class="op">:</span> Rectangle<span class="op">,</span> <span class="dt">color</span><span class="op">:</span> <span class="bn">0x008000</span><span class="op">,</span> <span class="dt">w</span><span class="op">:</span> <span class="dv">150</span><span class="op">,</span> <span class="dt">h</span><span class="op">:</span> <span class="dv">50</span><span class="op">,</span> <span class="dt">smooth</span><span class="op">:</span> <span class="kw">true</span> } <span class="co">//Green rectangle</span></span>
<span id="cb8-7"><a href="#cb8-7" aria-hidden="true" tabindex="-1"></a>    }</span>
<span id="cb8-8"><a href="#cb8-8" aria-hidden="true" tabindex="-1"></a>  }</span>
<span id="cb8-9"><a href="#cb8-9" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb8-10"><a href="#cb8-10" aria-hidden="true" tabindex="-1"></a>  <span class="fu">_handleUp</span>() {</span>
<span id="cb8-11"><a href="#cb8-11" aria-hidden="true" tabindex="-1"></a>    <span class="kw">this</span><span class="op">.</span><span class="fu">fireAncestors</span>(<span class="st">'buttonClicked'</span><span class="op">,</span> { <span class="dt">buttonId</span><span class="op">:</span> <span class="kw">this</span><span class="op">.</span><span class="at">id</span> })<span class="op">;</span></span>
<span id="cb8-12"><a href="#cb8-12" aria-hidden="true" tabindex="-1"></a>  }</span>
<span id="cb8-13"><a href="#cb8-13" aria-hidden="true" tabindex="-1"></a>}</span></code></pre></div>
<p>This example creates a green button. The <code>_handleUp</code> method fires a custom event <code>buttonClicked</code> up the component tree, allowing parent components to handle the button press.</p>
<h3 id="lists">Lists</h3>
<p>Lightning.js doesn’t include a ready-made list component, but you can create one using a combination of other components such as <code>Lightning.Component</code>, <code>Lightning.Text</code>, and potentially a scrolling container if the list is long. You’d create an array to store your list data, then dynamically create and render the list items using this data. This requires more manual implementation but allows for greater control over the list’s appearance and behavior.</p>
<h3 id="input-fields">Input Fields</h3>
<p>Similar to lists and buttons, Lightning.js does not offer a pre-built input field component. You would need to implement this using a combination of components (e.g., <code>Lightning.Text</code> for displaying the input and potentially <code>Lightning.Rectangle</code> for visual boundaries) and handling keyboard input events to manage the text entry process. This necessitates custom handling of keyboard events and managing the internal text state within your component.</p>
<h3 id="containers">Containers</h3>
<p>Containers are fundamental for structuring your UI. While not a specific built-in component type, you can create containers using <code>Lightning.Component</code> and arrange child components within their <code>_template</code>. These containers are essential for organizing and laying out your UI elements. They handle positioning and sizing of their children.</p>
<h3 id="customizing-components">Customizing Components</h3>
<p>You can customize the appearance and behavior of existing components (e.g., <code>Lightning.Text</code>, <code>Lightning.Image</code>) using CSS, styling properties directly within the component’s template, or by extending the existing component class and overriding methods. Using styling properties and extending the component classes provide more control and allow for more complex customizations. Use CSS for simpler styling tasks if your bundler integrates it appropriately with Lightning.js.</p>
<h2 id="styling-and-theming">Styling and theming</h2>
<h3 id="using-css">Using CSS</h3>
<p>While Lightning.js is primarily a JavaScript-based framework, you can integrate CSS for styling in many cases, depending on your bundling setup. This allows for a more familiar styling approach for developers comfortable with CSS. However, note that direct DOM manipulation is generally avoided in Lightning.js, and CSS integration might not be fully supported depending on your bundler and build process. Consult the documentation for your chosen bundler (Webpack, Parcel, etc.) and see if it offers integration options to allow CSS styling of Lightning.js components.</p>
<h3 id="theming-with-lightning.js">Theming with Lightning.js</h3>
<p>Lightning.js facilitates theming through the use of component properties and data binding. Instead of relying solely on CSS, you create theme objects that contain style configurations (colors, font sizes, etc.). These theme objects can then be applied to your components either directly or through data binding. This approach maintains the separation of concerns between presentation and logic that is central to Lightning.js’s design.</p>
<p>Example:</p>
<div class="sourceCode" id="cb9"><pre class="sourceCode javascript"><code class="sourceCode javascript"><span id="cb9-1"><a href="#cb9-1" aria-hidden="true" tabindex="-1"></a><span class="kw">const</span> myTheme <span class="op">=</span> {</span>
<span id="cb9-2"><a href="#cb9-2" aria-hidden="true" tabindex="-1"></a>  <span class="dt">backgroundColor</span><span class="op">:</span> <span class="bn">0x222222</span><span class="op">,</span></span>
<span id="cb9-3"><a href="#cb9-3" aria-hidden="true" tabindex="-1"></a>  <span class="dt">textColor</span><span class="op">:</span> <span class="bn">0xffffff</span><span class="op">,</span></span>
<span id="cb9-4"><a href="#cb9-4" aria-hidden="true" tabindex="-1"></a>  <span class="dt">fontSize</span><span class="op">:</span> <span class="dv">24</span><span class="op">,</span></span>
<span id="cb9-5"><a href="#cb9-5" aria-hidden="true" tabindex="-1"></a>}<span class="op">;</span></span>
<span id="cb9-6"><a href="#cb9-6" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb9-7"><a href="#cb9-7" aria-hidden="true" tabindex="-1"></a><span class="kw">class</span> MyComponent <span class="kw">extends</span> Lightning<span class="op">.</span><span class="at">Component</span> {</span>
<span id="cb9-8"><a href="#cb9-8" aria-hidden="true" tabindex="-1"></a>  <span class="kw">static</span> <span class="fu">_template</span>() {</span>
<span id="cb9-9"><a href="#cb9-9" aria-hidden="true" tabindex="-1"></a>    <span class="cf">return</span> {</span>
<span id="cb9-10"><a href="#cb9-10" aria-hidden="true" tabindex="-1"></a>      <span class="dt">text</span><span class="op">:</span> { <span class="dt">type</span><span class="op">:</span> <span class="bu">Text</span><span class="op">,</span> <span class="dt">text</span><span class="op">:</span> {<span class="dt">bind</span><span class="op">:</span><span class="st">"$text"</span>}<span class="op">,</span> <span class="dt">textColor</span><span class="op">:</span> {<span class="dt">bind</span><span class="op">:</span> <span class="st">'$theme.textColor'</span>}<span class="op">,</span> <span class="dt">fontSize</span><span class="op">:</span> {<span class="dt">bind</span><span class="op">:</span> <span class="st">'$theme.fontSize'</span>}}</span>
<span id="cb9-11"><a href="#cb9-11" aria-hidden="true" tabindex="-1"></a>    }<span class="op">;</span></span>
<span id="cb9-12"><a href="#cb9-12" aria-hidden="true" tabindex="-1"></a>  }</span>
<span id="cb9-13"><a href="#cb9-13" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb9-14"><a href="#cb9-14" aria-hidden="true" tabindex="-1"></a>  <span class="kw">get</span> <span class="fu">$text</span>() {</span>
<span id="cb9-15"><a href="#cb9-15" aria-hidden="true" tabindex="-1"></a>     <span class="cf">return</span> <span class="st">"Hello, themed world!"</span><span class="op">;</span></span>
<span id="cb9-16"><a href="#cb9-16" aria-hidden="true" tabindex="-1"></a>  }</span>
<span id="cb9-17"><a href="#cb9-17" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb9-18"><a href="#cb9-18" aria-hidden="true" tabindex="-1"></a>  <span class="kw">set</span> <span class="fu">theme</span>(value){</span>
<span id="cb9-19"><a href="#cb9-19" aria-hidden="true" tabindex="-1"></a>    <span class="kw">this</span><span class="op">.</span><span class="fu">tag</span>(<span class="st">"text"</span>)<span class="op">.</span><span class="fu">patch</span>({<span class="dt">text</span><span class="op">:</span> value<span class="op">.</span><span class="at">text</span>})<span class="op">;</span></span>
<span id="cb9-20"><a href="#cb9-20" aria-hidden="true" tabindex="-1"></a>    <span class="kw">this</span><span class="op">.</span><span class="fu">tag</span>(<span class="st">"text"</span>)<span class="op">.</span><span class="fu">setSmooth</span>(<span class="kw">true</span>)</span>
<span id="cb9-21"><a href="#cb9-21" aria-hidden="true" tabindex="-1"></a>    <span class="kw">this</span><span class="op">.</span><span class="at">_theme</span> <span class="op">=</span> value</span>
<span id="cb9-22"><a href="#cb9-22" aria-hidden="true" tabindex="-1"></a>    <span class="kw">this</span><span class="op">.</span><span class="fu">patch</span>({<span class="dt">theme</span><span class="op">:</span> value})<span class="op">;</span></span>
<span id="cb9-23"><a href="#cb9-23" aria-hidden="true" tabindex="-1"></a>  }</span>
<span id="cb9-24"><a href="#cb9-24" aria-hidden="true" tabindex="-1"></a>}</span>
<span id="cb9-25"><a href="#cb9-25" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb9-26"><a href="#cb9-26" aria-hidden="true" tabindex="-1"></a><span class="kw">const</span> myComponent <span class="op">=</span> <span class="kw">new</span> <span class="fu">MyComponent</span>({<span class="dt">theme</span><span class="op">:</span> myTheme})<span class="op">;</span></span></code></pre></div>
<h3 id="custom-themes">Custom Themes</h3>
<p>To create custom themes, simply define JavaScript objects containing the desired style properties. These objects can then be passed to your components as data, allowing you to easily switch between themes by changing the data passed to the components. This approach ensures a clean separation of theme data from the component’s logic. You could even load themes from external JSON files or other data sources.</p>
<h3 id="responsive-design">Responsive design</h3>
<p>Lightning.js offers flexibility for creating responsive designs. You can use the stage dimensions (<code>this.w</code>, <code>this.h</code>) and component properties (like <code>x</code>, <code>y</code>, <code>w</code>, <code>h</code>) within your component’s logic to dynamically adjust the layout based on the available screen size. For more complex responsive layouts, consider using a dedicated layout management system in conjunction with Lightning.js. You could leverage the component lifecycle methods and events to recalculate and update the layout when the stage dimensions change, ensuring your application adapts to different screen sizes and orientations effectively. You could also define different themes optimized for different screen sizes.</p>
<h2 id="advanced-techniques">Advanced Techniques</h2>
<h3 id="animations">Animations</h3>
<p>Lightning.js doesn’t have a dedicated animation library built-in, but it provides the necessary tools to create animations efficiently. The primary method is to use <code>this.stage.nextFrame()</code> to schedule updates to component properties over time. This creates smooth animations by repeatedly changing properties (like <code>x</code>, <code>y</code>, <code>alpha</code>, <code>scale</code>, etc.) within a loop, re-rendering the component on each frame. You can create complex animations by combining this technique with easing functions (which you’ll likely implement yourself or use from a third-party library).</p>
<p>Example (simple fade-in animation):</p>
<div class="sourceCode" id="cb10"><pre class="sourceCode javascript"><code class="sourceCode javascript"><span id="cb10-1"><a href="#cb10-1" aria-hidden="true" tabindex="-1"></a><span class="kw">class</span> MyComponent <span class="kw">extends</span> Lightning<span class="op">.</span><span class="at">Component</span> {</span>
<span id="cb10-2"><a href="#cb10-2" aria-hidden="true" tabindex="-1"></a>  <span class="fu">_active</span>() {</span>
<span id="cb10-3"><a href="#cb10-3" aria-hidden="true" tabindex="-1"></a>    <span class="kw">this</span><span class="op">.</span><span class="at">alpha</span> <span class="op">=</span> <span class="dv">0</span><span class="op">;</span> <span class="co">//Start transparent</span></span>
<span id="cb10-4"><a href="#cb10-4" aria-hidden="true" tabindex="-1"></a>    <span class="kw">this</span><span class="op">.</span><span class="fu">_animateIn</span>()<span class="op">;</span></span>
<span id="cb10-5"><a href="#cb10-5" aria-hidden="true" tabindex="-1"></a>  }</span>
<span id="cb10-6"><a href="#cb10-6" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb10-7"><a href="#cb10-7" aria-hidden="true" tabindex="-1"></a>  <span class="fu">_animateIn</span>() {</span>
<span id="cb10-8"><a href="#cb10-8" aria-hidden="true" tabindex="-1"></a>    <span class="cf">if</span> (<span class="kw">this</span><span class="op">.</span><span class="at">alpha</span> <span class="op">&lt;</span> <span class="dv">1</span>) {</span>
<span id="cb10-9"><a href="#cb10-9" aria-hidden="true" tabindex="-1"></a>      <span class="kw">this</span><span class="op">.</span><span class="at">alpha</span> <span class="op">+=</span> <span class="fl">0.05</span><span class="op">;</span></span>
<span id="cb10-10"><a href="#cb10-10" aria-hidden="true" tabindex="-1"></a>      <span class="kw">this</span><span class="op">.</span><span class="at">stage</span><span class="op">.</span><span class="fu">nextFrame</span>(<span class="kw">this</span><span class="op">.</span><span class="at">_animateIn</span><span class="op">.</span><span class="fu">bind</span>(<span class="kw">this</span>))<span class="op">;</span> <span class="co">//Recursive call</span></span>
<span id="cb10-11"><a href="#cb10-11" aria-hidden="true" tabindex="-1"></a>    }</span>
<span id="cb10-12"><a href="#cb10-12" aria-hidden="true" tabindex="-1"></a>  }</span>
<span id="cb10-13"><a href="#cb10-13" aria-hidden="true" tabindex="-1"></a>}</span></code></pre></div>
<p>For more complex animations, consider using a dedicated animation library (like GSAP or Anime.js), but remember to handle their integration with the Lightning.js rendering cycle to avoid conflicts.</p>
<h3 id="working-with-external-libraries">Working with external libraries</h3>
<p>Integrating external libraries often involves using your bundler (Webpack, Parcel, etc.) to manage dependencies and module imports. The process depends significantly on the library’s design:</p>
<ul>
<li><p><strong>UI Libraries:</strong> Integrating other UI libraries alongside Lightning.js is generally discouraged as it can lead to conflicts and complicate rendering. Lightning.js is designed to be a comprehensive solution.</p></li>
<li><p><strong>Utility Libraries:</strong> Utility libraries (e.g., for math, animation, or data handling) can often be integrated straightforwardly using standard JavaScript import mechanisms. Remember that direct DOM manipulation from external libraries should be avoided to prevent conflicts with Lightning.js’s rendering process.</p></li>
</ul>
<h3 id="testing">Testing</h3>
<p>Testing in Lightning.js typically involves unit and integration tests. You’ll use testing frameworks like Jest, Mocha, or Jasmine. Focus on testing the component logic separately from the rendering aspects. Testing the visual rendering aspects directly is more challenging and usually requires more advanced techniques or tools that capture screenshots for visual comparison. Mocking component interactions and dependencies is also important for writing effective unit tests.</p>
<h3 id="debugging">Debugging</h3>
<p>Debugging Lightning.js applications often relies on the browser’s developer tools. Use the console to log values, inspect component properties, and track errors. The browser’s debugger can be used to step through your code and identify problematic areas. For complex debugging scenarios, logging key events and state changes can significantly aid in pinpointing the root causes of issues.</p>
<h3 id="performance-optimization">Performance Optimization</h3>
<p>Optimizing Lightning.js application performance involves techniques mentioned earlier: minimizing redraws using <code>this.stage.nextFrame()</code>, using efficient data structures, and avoiding unnecessary calculations. Profiling your application using browser developer tools can help identify performance bottlenecks. Additionally, consider optimizing image assets and simplifying your component hierarchy to reduce the overall rendering load.</p>
<h3 id="accessibility">Accessibility</h3>
<p>Building accessible applications requires careful consideration of various factors. For Lightning.js applications:</p>
<ul>
<li><p><strong>Semantic HTML:</strong> While not directly used in rendering, using semantic HTML in the underlying structure (if applicable) can improve accessibility for assistive technologies.</p></li>
<li><p><strong>ARIA attributes:</strong> You might need to use ARIA attributes to provide additional context to assistive technologies, if not inherently provided by the component interactions.</p></li>
<li><p><strong>Keyboard navigation:</strong> Ensure that all interactive components are navigable using the keyboard.</p></li>
<li><p><strong>Screen reader compatibility:</strong> Design your application with screen reader users in mind by ensuring sufficient text alternatives and clear labeling of interactive elements.</p></li>
</ul>
<p>Remember that accessibility is an ongoing process, and thorough testing with assistive technologies is crucial to ensure inclusivity.</p>
<h2 id="deployment">Deployment</h2>
<h3 id="web-deployment">Web Deployment</h3>
<p>Deploying a Lightning.js application to the web is relatively straightforward. After building your application using your chosen bundler (Webpack, Parcel, Rollup, etc.), you’ll have a set of optimized JavaScript and asset files. These files, along with your <code>index.html</code> file, can be deployed to any web hosting service that supports static file hosting. The process is similar to deploying any other static website. Ensure that your web server correctly serves the necessary files and handles appropriate caching mechanisms for optimal performance. You might also consider using a CDN (Content Delivery Network) to improve loading times for users in different geographical locations.</p>
<h3 id="mobile-deployment-ios-and-android">Mobile Deployment (iOS and Android)</h3>
<p>Deploying to mobile platforms (iOS and Android) typically requires using a native container technology like Cordova, Capacitor, or React Native. These frameworks allow you to embed your Lightning.js application within a native mobile application shell, giving you access to native device features while still leveraging the performance and capabilities of Lightning.js for your UI. You’ll need to follow the specific instructions provided by the chosen framework. This usually involves setting up build configurations, configuring plugins (for accessing device features like camera or geolocation), and managing the application lifecycle within the native container. The process involves building your Lightning.js app and then integrating it into the native mobile project.</p>
<h3 id="building-for-different-platforms">Building for different platforms</h3>
<p>Building your Lightning.js application for different platforms primarily involves configuring your bundler and potentially using platform-specific plugins or libraries. For web deployment, your bundler likely handles optimization based on target browsers. Mobile deployment requires handling any platform-specific code or configuration within your native container technology (Cordova, Capacitor, etc.). This might involve conditional code based on platform detection, using platform-specific plugins, or configuring different build settings for iOS and Android. If you need to support older browsers or specific mobile devices, you may need to make adjustments to your build process or codebase to ensure compatibility. Thorough testing on target devices and browsers is critical for a successful multi-platform deployment.</p>
<h2 id="api-reference">API Reference</h2>
<p>This section provides a high-level overview. For detailed and up-to-date information, always refer to the official Lightning.js API documentation. The specific methods and properties available might change between versions.</p>
<h3 id="stage-api">Stage API</h3>
<p>The Stage API provides methods for managing the application’s rendering surface. Key methods and properties typically include:</p>
<ul>
<li><strong><code>stage.w</code> and <code>stage.h</code></strong>: Get the width and height of the stage.</li>
<li><strong><code>stage.backgroundColor</code></strong>: Set the background color of the stage.</li>
<li><strong><code>stage.root</code></strong>: Access the root component of the application.</li>
<li><strong><code>stage.nextFrame(callback)</code></strong>: Schedule a function to be executed on the next rendering frame. Crucial for animations and efficient updates.</li>
<li><strong><code>stage.on('event', listener)</code></strong>: Attach event listeners to the stage (for handling global events).</li>
<li><strong><code>stage.off('event', listener)</code></strong>: Detach event listeners.</li>
<li><strong><code>stage.destroy()</code></strong>: Clean up and destroy the stage (typically at the end of application lifecycle).</li>
</ul>
<p>This is not an exhaustive list; consult the official documentation for all available methods and their detailed descriptions.</p>
<h3 id="scene-api">Scene API</h3>
<p>The Scene API allows managing scenes within the application. Expect methods related to:</p>
<ul>
<li><strong>Scene creation and management:</strong> Methods for creating and destroying scenes, transitioning between scenes.</li>
<li><strong>Adding and removing components:</strong> Adding components to and removing them from a scene.</li>
<li><strong>Scene lifecycle events:</strong> Methods to handle events related to scene activation and deactivation (<code>_active</code>, <code>_inactive</code> etc.).</li>
<li><strong>Access to child components:</strong> Methods for retrieving and managing the components within a scene.</li>
<li><strong>Transition management:</strong> Methods for defining and running transitions between scenes.</li>
</ul>
<h3 id="actor-api">Actor API</h3>
<p>The Actor API provides the fundamental building blocks for visual elements. Typical methods include:</p>
<ul>
<li><strong><code>actor.x</code>, <code>actor.y</code>, <code>actor.w</code>, <code>actor.h</code></strong>: Get and set the position and dimensions of the actor.</li>
<li><strong><code>actor.alpha</code></strong>: Set the transparency of the actor (0-1).</li>
<li><strong><code>actor.visible</code></strong>: Set the visibility of the actor.</li>
<li><strong><code>actor.draw(ctx)</code></strong>: The method where you perform custom rendering using the CanvasRenderingContext2D (<code>ctx</code>). This is where most of the visual logic resides for custom actors.</li>
<li><strong>Event handling:</strong> Methods for registering and handling events (e.g., <code>_handleUp</code>, <code>_handleDown</code>, etc.).</li>
</ul>
<h3 id="component-api">Component API</h3>
<p>The Component API extends the Actor API with additional functionality for managing state, data binding, and templating. Expect methods and properties related to:</p>
<ul>
<li><strong>Templating:</strong> Methods for defining and accessing the component’s template (<code>_template</code>).</li>
<li><strong>Data binding:</strong> Methods for binding data to component properties.</li>
<li><strong>Lifecycle methods:</strong> Methods for handling component lifecycle events (<code>_setup</code>, <code>_active</code>, <code>_inactive</code>, <code>_cleanup</code>).</li>
<li><strong>Event handling:</strong> Methods for handling events (including custom events).</li>
<li><strong>Child component management:</strong> Methods for accessing and managing child components.</li>
<li><strong>Styling and theming:</strong> Methods for applying styles and themes to the component.</li>
</ul>
<h3 id="utility-functions">Utility functions</h3>
<p>Lightning.js often provides utility functions to assist with common tasks. These can include:</p>
<ul>
<li><strong>Helpers for geometry and calculations:</strong> Functions to work with vectors, matrices, or other geometric operations.</li>
<li><strong>Functions for easing animations:</strong> Helper functions to create smooth animation curves (if not provided by an external library).</li>
<li><strong>Utility functions for working with images:</strong> Functions for loading and managing images.<br>
</li>
<li><strong>Debugging helpers:</strong> Functions to aid in debugging your application.</li>
</ul>
<p>The specific utility functions vary depending on the version of the library. Consult the official documentation for a comprehensive list.</p>
<p>Remember: This is a high-level overview. Always check the official Lightning.js API documentation for the most accurate and up-to-date information.</p>
<h2 id="troubleshooting">Troubleshooting</h2>
<h3 id="common-issues-and-solutions">Common Issues and Solutions</h3>
<p>This section addresses some frequently encountered problems when developing with Lightning.js. Remember to always check the browser’s developer console for specific error messages.</p>
<ul>
<li><p><strong>Blank screen:</strong> This often indicates an issue with your application’s initialization or rendering. Check your <code>_template</code> for errors, ensure components are correctly added to the stage, and verify that your application is starting correctly. Double-check for typos in paths to images or other assets.</p></li>
<li><p><strong>Rendering errors:</strong> Errors during rendering are often caused by issues within the <code>draw</code> method of custom actors or incorrect usage of CanvasRenderingContext2D methods. Carefully review the code within your <code>draw</code> method.</p></li>
<li><p><strong>Unexpected behavior:</strong> If components aren’t behaving as expected, verify that event handlers are correctly attached and triggered. Ensure data binding is working correctly, and check for any logic errors within your component’s methods. Use console logging to trace variable values and event flows.</p></li>
<li><p><strong>Performance problems:</strong> Slow performance might indicate inefficient redrawing, complex component hierarchies, or unoptimized images. Use the browser’s performance profiling tools to identify bottlenecks. Optimize images, minimize redraws, and simplify your component structure.</p></li>
<li><p><strong>Module import errors:</strong> If you encounter errors related to modules not being found, double check that you have installed the necessary dependencies (using npm or yarn) and that your import paths are correct in your JavaScript files. Verify your bundler configuration (Webpack, Parcel, etc.) is correctly set up.</p></li>
</ul>
<h3 id="error-messages">Error Messages</h3>
<p>Lightning.js will output error messages to the browser’s developer console. These messages provide crucial information about the nature and location of problems. Pay close attention to the error messages; they typically indicate the file and line number where the error occurred, providing a starting point for debugging. Common error messages might include:</p>
<ul>
<li><p><strong>ReferenceError:</strong> This indicates that a variable or function is not defined. Check for typos and ensure that dependencies are correctly imported.</p></li>
<li><p><strong>TypeError:</strong> Indicates that an operation is being performed on an object of an incorrect type. This frequently happens with incorrect data types passed to functions or methods.</p></li>
<li><p><strong>RangeError:</strong> Indicates that a value is outside the allowed range for a given function or method. This often occurs with calculations or array indexes.</p></li>
<li><p><strong>SyntaxError:</strong> Indicates a syntax error in your JavaScript code. This is typically caught by your code editor or bundler before runtime, but could slip through.</p></li>
</ul>
<h3 id="community-support">Community Support</h3>
<p>For additional assistance, consider the following resources:</p>
<ul>
<li><p><strong>Official Lightning.js documentation:</strong> The official documentation is the primary source for information on API usage and best practices.</p></li>
<li><p><strong>Online forums and communities:</strong> Search for online forums or communities dedicated to Lightning.js or game development using JavaScript. Describe your issue clearly, including relevant code snippets and error messages.</p></li>
</ul>
<p>Remember to provide as much detail as possible when seeking help, including your code, the steps to reproduce the problem, and any relevant error messages. This helps community members or support teams diagnose and resolve your issue efficiently.</p>


<footer>Copyright 2025 - Muthukrishnan</footer>
<script async="" src="https://pagead2.googlesyndication.com/pagead/js/adsbygoogle.js?client=ca-pub-3609399560636561" crossorigin="anonymous"></script>




</body></html>